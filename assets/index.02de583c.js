(function(){const u=document.createElement("link").relList;if(u&&u.supports&&u.supports("modulepreload"))return;for(const T of document.querySelectorAll('link[rel="modulepreload"]'))_(T);new MutationObserver(T=>{for(const b of T)if(b.type==="childList")for(const x of b.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&_(x)}).observe(document,{childList:!0,subtree:!0});function C(T){const b={};return T.integrity&&(b.integrity=T.integrity),T.referrerpolicy&&(b.referrerPolicy=T.referrerpolicy),T.crossorigin==="use-credentials"?b.credentials="include":T.crossorigin==="anonymous"?b.credentials="omit":b.credentials="same-origin",b}function _(T){if(T.ep)return;T.ep=!0;const b=C(T);fetch(T.href,b)}})();function vt(){}const Rn=N=>N;function On(N){return N()}function Ui(){return Object.create(null)}function cr(N){N.forEach(On)}function Yr(N){return typeof N=="function"}function Yt(N,u){return N!=N?u==u:N!==u||N&&typeof N=="object"||typeof N=="function"}function ba(N){return Object.keys(N).length===0}function wa(N,...u){if(N==null)return vt;const C=N.subscribe(...u);return C.unsubscribe?()=>C.unsubscribe():C}function Sr(N,u,C){N.$$.on_destroy.push(wa(u,C))}function xa(N,u,C){return N.set(C),u}const Ln=typeof window<"u";let Ea=Ln?()=>window.performance.now():()=>Date.now(),Ci=Ln?N=>requestAnimationFrame(N):vt;const yr=new Set;function Dn(N){yr.forEach(u=>{u.c(N)||(yr.delete(u),u.f())}),yr.size!==0&&Ci(Dn)}function Pa(N){let u;return yr.size===0&&Ci(Dn),{promise:new Promise(C=>{yr.add(u={c:N,f:C})}),abort(){yr.delete(u)}}}function _t(N,u){N.appendChild(u)}function Bn(N){if(!N)return document;const u=N.getRootNode?N.getRootNode():N.ownerDocument;return u&&u.host?u:N.ownerDocument}function Sa(N){const u=Ot("style");return Ca(Bn(N),u),u.sheet}function Ca(N,u){return _t(N.head||N,u),u.sheet}function Lt(N,u,C){N.insertBefore(u,C||null)}function It(N){N.parentNode.removeChild(N)}function Nn(N,u){for(let C=0;C<N.length;C+=1)N[C]&&N[C].d(u)}function Ot(N){return document.createElement(N)}function kt(N){return document.createElementNS("http://www.w3.org/2000/svg",N)}function br(N){return document.createTextNode(N)}function fr(){return br(" ")}function Ai(){return br("")}function or(N,u,C,_){return N.addEventListener(u,C,_),()=>N.removeEventListener(u,C,_)}function at(N,u,C){C==null?N.removeAttribute(u):N.getAttribute(u)!==C&&N.setAttribute(u,C)}function Aa(N){return Array.from(N.childNodes)}function Ma(N,u){u=""+u,N.wholeText!==u&&(N.data=u)}function kn(N,u,{bubbles:C=!1,cancelable:_=!1}={}){const T=document.createEvent("CustomEvent");return T.initCustomEvent(N,C,_,u),T}const Gr=new Map;let Wr=0;function Ta(N){let u=5381,C=N.length;for(;C--;)u=(u<<5)-u^N.charCodeAt(C);return u>>>0}function Ia(N,u){const C={stylesheet:Sa(u),rules:{}};return Gr.set(N,C),C}function Ra(N,u,C,_,T,b,x,c=0){const p=16.666/_;let v=`{
`;for(let h=0;h<=1;h+=p){const n=u+(C-u)*b(h);v+=h*100+`%{${x(n,1-n)}}
`}const o=v+`100% {${x(C,1-C)}}
}`,s=`__svelte_${Ta(o)}_${c}`,i=Bn(N),{stylesheet:t,rules:e}=Gr.get(i)||Ia(i,N);e[s]||(e[s]=!0,t.insertRule(`@keyframes ${s} ${o}`,t.cssRules.length));const l=N.style.animation||"";return N.style.animation=`${l?`${l}, `:""}${s} ${_}ms linear ${T}ms 1 both`,Wr+=1,s}function zi(N,u){const C=(N.style.animation||"").split(", "),_=C.filter(u?b=>b.indexOf(u)<0:b=>b.indexOf("__svelte")===-1),T=C.length-_.length;T&&(N.style.animation=_.join(", "),Wr-=T,Wr||Oa())}function Oa(){Ci(()=>{Wr||(Gr.forEach(N=>{const{ownerNode:u}=N.stylesheet;u&&It(u)}),Gr.clear())})}let Lr;function Or(N){Lr=N}function La(){if(!Lr)throw new Error("Function called outside component initialization");return Lr}function Da(){const N=La();return(u,C,{cancelable:_=!1}={})=>{const T=N.$$.callbacks[u];if(T){const b=kn(u,C,{cancelable:_});return T.slice().forEach(x=>{x.call(N,b)}),!b.defaultPrevented}return!0}}const Rr=[],wr=[],Ur=[],Hi=[],Ba=Promise.resolve();let yi=!1;function Na(){yi||(yi=!0,Ba.then(Fn))}function Dr(N){Ur.push(N)}const ti=new Set;let Br=0;function Fn(){const N=Lr;do{for(;Br<Rr.length;){const u=Rr[Br];Br++,Or(u),ka(u.$$)}for(Or(null),Rr.length=0,Br=0;wr.length;)wr.pop()();for(let u=0;u<Ur.length;u+=1){const C=Ur[u];ti.has(C)||(ti.add(C),C())}Ur.length=0}while(Rr.length);for(;Hi.length;)Hi.pop()();yi=!1,ti.clear(),Or(N)}function ka(N){if(N.fragment!==null){N.update(),cr(N.before_update);const u=N.dirty;N.dirty=[-1],N.fragment&&N.fragment.p(N.ctx,u),N.after_update.forEach(Dr)}}let Tr;function Fa(){return Tr||(Tr=Promise.resolve(),Tr.then(()=>{Tr=null})),Tr}function Xi(N,u,C){N.dispatchEvent(kn(`${u?"intro":"outro"}${C}`))}const zr=new Set;let lr;function Un(){lr={r:0,c:[],p:lr}}function zn(){lr.r||cr(lr.c),lr=lr.p}function xt(N,u){N&&N.i&&(zr.delete(N),N.i(u))}function Ft(N,u,C,_){if(N&&N.o){if(zr.has(N))return;zr.add(N),lr.c.push(()=>{zr.delete(N),_&&(C&&N.d(1),_())}),N.o(u)}else _&&_()}const Ua={duration:0};function za(N,u,C){let _=u(N,C),T=!1,b,x,c=0;function p(){b&&zi(N,b)}function v(){const{delay:s=0,duration:i=300,easing:t=Rn,tick:e=vt,css:l}=_||Ua;l&&(b=Ra(N,0,1,i,s,t,l,c++)),e(0,1);const h=Ea()+s,n=h+i;x&&x.abort(),T=!0,Dr(()=>Xi(N,!0,"start")),x=Pa(f=>{if(T){if(f>=n)return e(1,0),Xi(N,!0,"end"),p(),T=!1;if(f>=h){const a=t((f-h)/i);e(a,1-a)}}return T})}let o=!1;return{start(){o||(o=!0,zi(N),Yr(_)?(_=_(),Fa().then(v)):v())},invalidate(){o=!1},end(){T&&(p(),T=!1)}}}function Kt(N){N&&N.c()}function Zt(N,u,C,_){const{fragment:T,on_mount:b,on_destroy:x,after_update:c}=N.$$;T&&T.m(u,C),_||Dr(()=>{const p=b.map(On).filter(Yr);x?x.push(...p):cr(p),N.$$.on_mount=[]}),c.forEach(Dr)}function $t(N,u){const C=N.$$;C.fragment!==null&&(cr(C.on_destroy),C.fragment&&C.fragment.d(u),C.on_destroy=C.fragment=null,C.ctx=[])}function Ha(N,u){N.$$.dirty[0]===-1&&(Rr.push(N),Na(),N.$$.dirty.fill(0)),N.$$.dirty[u/31|0]|=1<<u%31}function Vt(N,u,C,_,T,b,x,c=[-1]){const p=Lr;Or(N);const v=N.$$={fragment:null,ctx:null,props:b,update:vt,not_equal:T,bound:Ui(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(u.context||(p?p.$$.context:[])),callbacks:Ui(),dirty:c,skip_bound:!1,root:u.target||p.$$.root};x&&x(v.root);let o=!1;if(v.ctx=C?C(N,u.props||{},(s,i,...t)=>{const e=t.length?t[0]:i;return v.ctx&&T(v.ctx[s],v.ctx[s]=e)&&(!v.skip_bound&&v.bound[s]&&v.bound[s](e),o&&Ha(N,s)),i}):[],v.update(),o=!0,cr(v.before_update),v.fragment=_?_(v.ctx):!1,u.target){if(u.hydrate){const s=Aa(u.target);v.fragment&&v.fragment.l(s),s.forEach(It)}else v.fragment&&v.fragment.c();u.intro&&xt(N.$$.fragment),Zt(N,u.target,u.anchor,u.customElement),Fn()}Or(p)}class qt{$destroy(){$t(this,1),this.$destroy=vt}$on(u,C){const _=this.$$.callbacks[u]||(this.$$.callbacks[u]=[]);return _.push(C),()=>{const T=_.indexOf(C);T!==-1&&_.splice(T,1)}}$set(u){this.$$set&&!ba(u)&&(this.$$.skip_bound=!0,this.$$set(u),this.$$.skip_bound=!1)}}const mr=[];function Xa(N,u){return{subscribe:Mi(N,u).subscribe}}function Mi(N,u=vt){let C;const _=new Set;function T(c){if(Yt(N,c)&&(N=c,C)){const p=!mr.length;for(const v of _)v[1](),mr.push(v,N);if(p){for(let v=0;v<mr.length;v+=2)mr[v][0](mr[v+1]);mr.length=0}}}function b(c){T(c(N))}function x(c,p=vt){const v=[c,p];return _.add(v),_.size===1&&(C=u(T)||vt),c(N),()=>{_.delete(v),_.size===0&&(C(),C=null)}}return{set:T,update:b,subscribe:x}}var yt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ya(N){return N&&N.__esModule&&Object.prototype.hasOwnProperty.call(N,"default")?N.default:N}var Hn={exports:{}},Ti={exports:{}},Xn=function(u,C){return function(){for(var T=new Array(arguments.length),b=0;b<T.length;b++)T[b]=arguments[b];return u.apply(C,T)}},Ga=Xn,Ii=Object.prototype.toString,Ri=function(N){return function(u){var C=Ii.call(u);return N[C]||(N[C]=C.slice(8,-1).toLowerCase())}}(Object.create(null));function dr(N){return N=N.toLowerCase(),function(C){return Ri(C)===N}}function Oi(N){return Array.isArray(N)}function jr(N){return typeof N>"u"}function Wa(N){return N!==null&&!jr(N)&&N.constructor!==null&&!jr(N.constructor)&&typeof N.constructor.isBuffer=="function"&&N.constructor.isBuffer(N)}var Yn=dr("ArrayBuffer");function ja(N){var u;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?u=ArrayBuffer.isView(N):u=N&&N.buffer&&Yn(N.buffer),u}function Za(N){return typeof N=="string"}function $a(N){return typeof N=="number"}function Gn(N){return N!==null&&typeof N=="object"}function Hr(N){if(Ri(N)!=="object")return!1;var u=Object.getPrototypeOf(N);return u===null||u===Object.prototype}var Va=dr("Date"),qa=dr("File"),Ja=dr("Blob"),Qa=dr("FileList");function Li(N){return Ii.call(N)==="[object Function]"}function Ka(N){return Gn(N)&&Li(N.pipe)}function e0(N){var u="[object FormData]";return N&&(typeof FormData=="function"&&N instanceof FormData||Ii.call(N)===u||Li(N.toString)&&N.toString()===u)}var t0=dr("URLSearchParams");function r0(N){return N.trim?N.trim():N.replace(/^\s+|\s+$/g,"")}function i0(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function Di(N,u){if(!(N===null||typeof N>"u"))if(typeof N!="object"&&(N=[N]),Oi(N))for(var C=0,_=N.length;C<_;C++)u.call(null,N[C],C,N);else for(var T in N)Object.prototype.hasOwnProperty.call(N,T)&&u.call(null,N[T],T,N)}function bi(){var N={};function u(T,b){Hr(N[b])&&Hr(T)?N[b]=bi(N[b],T):Hr(T)?N[b]=bi({},T):Oi(T)?N[b]=T.slice():N[b]=T}for(var C=0,_=arguments.length;C<_;C++)Di(arguments[C],u);return N}function n0(N,u,C){return Di(u,function(T,b){C&&typeof T=="function"?N[b]=Ga(T,C):N[b]=T}),N}function a0(N){return N.charCodeAt(0)===65279&&(N=N.slice(1)),N}function s0(N,u,C,_){N.prototype=Object.create(u.prototype,_),N.prototype.constructor=N,C&&Object.assign(N.prototype,C)}function o0(N,u,C){var _,T,b,x={};u=u||{};do{for(_=Object.getOwnPropertyNames(N),T=_.length;T-- >0;)b=_[T],x[b]||(u[b]=N[b],x[b]=!0);N=Object.getPrototypeOf(N)}while(N&&(!C||C(N,u))&&N!==Object.prototype);return u}function l0(N,u,C){N=String(N),(C===void 0||C>N.length)&&(C=N.length),C-=u.length;var _=N.indexOf(u,C);return _!==-1&&_===C}function f0(N){if(!N)return null;var u=N.length;if(jr(u))return null;for(var C=new Array(u);u-- >0;)C[u]=N[u];return C}var u0=function(N){return function(u){return N&&u instanceof N}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Dt={isArray:Oi,isArrayBuffer:Yn,isBuffer:Wa,isFormData:e0,isArrayBufferView:ja,isString:Za,isNumber:$a,isObject:Gn,isPlainObject:Hr,isUndefined:jr,isDate:Va,isFile:qa,isBlob:Ja,isFunction:Li,isStream:Ka,isURLSearchParams:t0,isStandardBrowserEnv:i0,forEach:Di,merge:bi,extend:n0,trim:r0,stripBOM:a0,inherits:s0,toFlatObject:o0,kindOf:Ri,kindOfTest:dr,endsWith:l0,toArray:f0,isTypedArray:u0,isFileList:Qa},_r=Dt;function Yi(N){return encodeURIComponent(N).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Wn=function(u,C,_){if(!C)return u;var T;if(_)T=_(C);else if(_r.isURLSearchParams(C))T=C.toString();else{var b=[];_r.forEach(C,function(p,v){p===null||typeof p>"u"||(_r.isArray(p)?v=v+"[]":p=[p],_r.forEach(p,function(s){_r.isDate(s)?s=s.toISOString():_r.isObject(s)&&(s=JSON.stringify(s)),b.push(Yi(v)+"="+Yi(s))}))}),T=b.join("&")}if(T){var x=u.indexOf("#");x!==-1&&(u=u.slice(0,x)),u+=(u.indexOf("?")===-1?"?":"&")+T}return u},h0=Dt;function Vr(){this.handlers=[]}Vr.prototype.use=function(u,C,_){return this.handlers.push({fulfilled:u,rejected:C,synchronous:_?_.synchronous:!1,runWhen:_?_.runWhen:null}),this.handlers.length-1};Vr.prototype.eject=function(u){this.handlers[u]&&(this.handlers[u]=null)};Vr.prototype.forEach=function(u){h0.forEach(this.handlers,function(_){_!==null&&u(_)})};var c0=Vr,d0=Dt,p0=function(u,C){d0.forEach(u,function(T,b){b!==C&&b.toUpperCase()===C.toUpperCase()&&(u[C]=T,delete u[b])})},jn=Dt;function xr(N,u,C,_,T){Error.call(this),this.message=N,this.name="AxiosError",u&&(this.code=u),C&&(this.config=C),_&&(this.request=_),T&&(this.response=T)}jn.inherits(xr,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var Zn=xr.prototype,$n={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(N){$n[N]={value:N}});Object.defineProperties(xr,$n);Object.defineProperty(Zn,"isAxiosError",{value:!0});xr.from=function(N,u,C,_,T,b){var x=Object.create(Zn);return jn.toFlatObject(N,x,function(p){return p!==Error.prototype}),xr.call(x,N.message,u,C,_,T),x.name=N.name,b&&Object.assign(x,b),x};var Cr=xr,Vn={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},jt=Dt;function v0(N,u){u=u||new FormData;var C=[];function _(b){return b===null?"":jt.isDate(b)?b.toISOString():jt.isArrayBuffer(b)||jt.isTypedArray(b)?typeof Blob=="function"?new Blob([b]):Buffer.from(b):b}function T(b,x){if(jt.isPlainObject(b)||jt.isArray(b)){if(C.indexOf(b)!==-1)throw Error("Circular reference detected in "+x);C.push(b),jt.forEach(b,function(p,v){if(!jt.isUndefined(p)){var o=x?x+"."+v:v,s;if(p&&!x&&typeof p=="object"){if(jt.endsWith(v,"{}"))p=JSON.stringify(p);else if(jt.endsWith(v,"[]")&&(s=jt.toArray(p))){s.forEach(function(i){!jt.isUndefined(i)&&u.append(o,_(i))});return}}T(p,o)}}),C.pop()}else u.append(x,_(b))}return T(N),u}var qn=v0,ri,Gi;function m0(){if(Gi)return ri;Gi=1;var N=Cr;return ri=function(C,_,T){var b=T.config.validateStatus;!T.status||!b||b(T.status)?C(T):_(new N("Request failed with status code "+T.status,[N.ERR_BAD_REQUEST,N.ERR_BAD_RESPONSE][Math.floor(T.status/100)-4],T.config,T.request,T))},ri}var ii,Wi;function _0(){if(Wi)return ii;Wi=1;var N=Dt;return ii=N.isStandardBrowserEnv()?function(){return{write:function(_,T,b,x,c,p){var v=[];v.push(_+"="+encodeURIComponent(T)),N.isNumber(b)&&v.push("expires="+new Date(b).toGMTString()),N.isString(x)&&v.push("path="+x),N.isString(c)&&v.push("domain="+c),p===!0&&v.push("secure"),document.cookie=v.join("; ")},read:function(_){var T=document.cookie.match(new RegExp("(^|;\\s*)("+_+")=([^;]*)"));return T?decodeURIComponent(T[3]):null},remove:function(_){this.write(_,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),ii}var g0=function(u){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(u)},y0=function(u,C){return C?u.replace(/\/+$/,"")+"/"+C.replace(/^\/+/,""):u},b0=g0,w0=y0,Jn=function(u,C){return u&&!b0(C)?w0(u,C):C},ni,ji;function x0(){if(ji)return ni;ji=1;var N=Dt,u=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return ni=function(_){var T={},b,x,c;return _&&N.forEach(_.split(`
`),function(v){if(c=v.indexOf(":"),b=N.trim(v.substr(0,c)).toLowerCase(),x=N.trim(v.substr(c+1)),b){if(T[b]&&u.indexOf(b)>=0)return;b==="set-cookie"?T[b]=(T[b]?T[b]:[]).concat([x]):T[b]=T[b]?T[b]+", "+x:x}}),T},ni}var ai,Zi;function E0(){if(Zi)return ai;Zi=1;var N=Dt;return ai=N.isStandardBrowserEnv()?function(){var C=/(msie|trident)/i.test(navigator.userAgent),_=document.createElement("a"),T;function b(x){var c=x;return C&&(_.setAttribute("href",c),c=_.href),_.setAttribute("href",c),{href:_.href,protocol:_.protocol?_.protocol.replace(/:$/,""):"",host:_.host,search:_.search?_.search.replace(/^\?/,""):"",hash:_.hash?_.hash.replace(/^#/,""):"",hostname:_.hostname,port:_.port,pathname:_.pathname.charAt(0)==="/"?_.pathname:"/"+_.pathname}}return T=b(window.location.href),function(c){var p=N.isString(c)?b(c):c;return p.protocol===T.protocol&&p.host===T.host}}():function(){return function(){return!0}}(),ai}var si,$i;function qr(){if($i)return si;$i=1;var N=Cr,u=Dt;function C(_){N.call(this,_==null?"canceled":_,N.ERR_CANCELED),this.name="CanceledError"}return u.inherits(C,N,{__CANCEL__:!0}),si=C,si}var oi,Vi;function P0(){return Vi||(Vi=1,oi=function(u){var C=/^([-+\w]{1,25})(:?\/\/|:)/.exec(u);return C&&C[1]||""}),oi}var li,qi;function Ji(){if(qi)return li;qi=1;var N=Dt,u=m0(),C=_0(),_=Wn,T=Jn,b=x0(),x=E0(),c=Vn,p=Cr,v=qr(),o=P0();return li=function(i){return new Promise(function(e,l){var h=i.data,n=i.headers,f=i.responseType,a;function m(){i.cancelToken&&i.cancelToken.unsubscribe(a),i.signal&&i.signal.removeEventListener("abort",a)}N.isFormData(h)&&N.isStandardBrowserEnv()&&delete n["Content-Type"];var g=new XMLHttpRequest;if(i.auth){var y=i.auth.username||"",E=i.auth.password?unescape(encodeURIComponent(i.auth.password)):"";n.Authorization="Basic "+btoa(y+":"+E)}var S=T(i.baseURL,i.url);g.open(i.method.toUpperCase(),_(S,i.params,i.paramsSerializer),!0),g.timeout=i.timeout;function A(){if(!!g){var R="getAllResponseHeaders"in g?b(g.getAllResponseHeaders()):null,H=!f||f==="text"||f==="json"?g.responseText:g.response,L={data:H,status:g.status,statusText:g.statusText,headers:R,config:i,request:g};u(function(V){e(V),m()},function(V){l(V),m()},L),g=null}}if("onloadend"in g?g.onloadend=A:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(A)},g.onabort=function(){!g||(l(new p("Request aborted",p.ECONNABORTED,i,g)),g=null)},g.onerror=function(){l(new p("Network Error",p.ERR_NETWORK,i,g,g)),g=null},g.ontimeout=function(){var H=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded",L=i.transitional||c;i.timeoutErrorMessage&&(H=i.timeoutErrorMessage),l(new p(H,L.clarifyTimeoutError?p.ETIMEDOUT:p.ECONNABORTED,i,g)),g=null},N.isStandardBrowserEnv()){var M=(i.withCredentials||x(S))&&i.xsrfCookieName?C.read(i.xsrfCookieName):void 0;M&&(n[i.xsrfHeaderName]=M)}"setRequestHeader"in g&&N.forEach(n,function(H,L){typeof h>"u"&&L.toLowerCase()==="content-type"?delete n[L]:g.setRequestHeader(L,H)}),N.isUndefined(i.withCredentials)||(g.withCredentials=!!i.withCredentials),f&&f!=="json"&&(g.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&g.addEventListener("progress",i.onDownloadProgress),typeof i.onUploadProgress=="function"&&g.upload&&g.upload.addEventListener("progress",i.onUploadProgress),(i.cancelToken||i.signal)&&(a=function(R){!g||(l(!R||R&&R.type?new v:R),g.abort(),g=null)},i.cancelToken&&i.cancelToken.subscribe(a),i.signal&&(i.signal.aborted?a():i.signal.addEventListener("abort",a))),h||(h=null);var I=o(S);if(I&&["http","https","file"].indexOf(I)===-1){l(new p("Unsupported protocol "+I+":",p.ERR_BAD_REQUEST,i));return}g.send(h)})},li}var fi,Qi;function S0(){return Qi||(Qi=1,fi=null),fi}var Rt=Dt,Ki=p0,en=Cr,C0=Vn,A0=qn,M0={"Content-Type":"application/x-www-form-urlencoded"};function tn(N,u){!Rt.isUndefined(N)&&Rt.isUndefined(N["Content-Type"])&&(N["Content-Type"]=u)}function T0(){var N;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(N=Ji()),N}function I0(N,u,C){if(Rt.isString(N))try{return(u||JSON.parse)(N),Rt.trim(N)}catch(_){if(_.name!=="SyntaxError")throw _}return(C||JSON.stringify)(N)}var Jr={transitional:C0,adapter:T0(),transformRequest:[function(u,C){if(Ki(C,"Accept"),Ki(C,"Content-Type"),Rt.isFormData(u)||Rt.isArrayBuffer(u)||Rt.isBuffer(u)||Rt.isStream(u)||Rt.isFile(u)||Rt.isBlob(u))return u;if(Rt.isArrayBufferView(u))return u.buffer;if(Rt.isURLSearchParams(u))return tn(C,"application/x-www-form-urlencoded;charset=utf-8"),u.toString();var _=Rt.isObject(u),T=C&&C["Content-Type"],b;if((b=Rt.isFileList(u))||_&&T==="multipart/form-data"){var x=this.env&&this.env.FormData;return A0(b?{"files[]":u}:u,x&&new x)}else if(_||T==="application/json")return tn(C,"application/json"),I0(u);return u}],transformResponse:[function(u){var C=this.transitional||Jr.transitional,_=C&&C.silentJSONParsing,T=C&&C.forcedJSONParsing,b=!_&&this.responseType==="json";if(b||T&&Rt.isString(u)&&u.length)try{return JSON.parse(u)}catch(x){if(b)throw x.name==="SyntaxError"?en.from(x,en.ERR_BAD_RESPONSE,this,null,this.response):x}return u}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:S0()},validateStatus:function(u){return u>=200&&u<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Rt.forEach(["delete","get","head"],function(u){Jr.headers[u]={}});Rt.forEach(["post","put","patch"],function(u){Jr.headers[u]=Rt.merge(M0)});var Bi=Jr,R0=Dt,O0=Bi,L0=function(u,C,_){var T=this||O0;return R0.forEach(_,function(x){u=x.call(T,u,C)}),u},ui,rn;function Qn(){return rn||(rn=1,ui=function(u){return!!(u&&u.__CANCEL__)}),ui}var nn=Dt,hi=L0,D0=Qn(),B0=Bi,N0=qr();function ci(N){if(N.cancelToken&&N.cancelToken.throwIfRequested(),N.signal&&N.signal.aborted)throw new N0}var k0=function(u){ci(u),u.headers=u.headers||{},u.data=hi.call(u,u.data,u.headers,u.transformRequest),u.headers=nn.merge(u.headers.common||{},u.headers[u.method]||{},u.headers),nn.forEach(["delete","get","head","post","put","patch","common"],function(T){delete u.headers[T]});var C=u.adapter||B0.adapter;return C(u).then(function(T){return ci(u),T.data=hi.call(u,T.data,T.headers,u.transformResponse),T},function(T){return D0(T)||(ci(u),T&&T.response&&(T.response.data=hi.call(u,T.response.data,T.response.headers,u.transformResponse))),Promise.reject(T)})},zt=Dt,Kn=function(u,C){C=C||{};var _={};function T(o,s){return zt.isPlainObject(o)&&zt.isPlainObject(s)?zt.merge(o,s):zt.isPlainObject(s)?zt.merge({},s):zt.isArray(s)?s.slice():s}function b(o){if(zt.isUndefined(C[o])){if(!zt.isUndefined(u[o]))return T(void 0,u[o])}else return T(u[o],C[o])}function x(o){if(!zt.isUndefined(C[o]))return T(void 0,C[o])}function c(o){if(zt.isUndefined(C[o])){if(!zt.isUndefined(u[o]))return T(void 0,u[o])}else return T(void 0,C[o])}function p(o){if(o in C)return T(u[o],C[o]);if(o in u)return T(void 0,u[o])}var v={url:x,method:x,data:x,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:p};return zt.forEach(Object.keys(u).concat(Object.keys(C)),function(s){var i=v[s]||b,t=i(s);zt.isUndefined(t)&&i!==p||(_[s]=t)}),_},di,an;function ea(){return an||(an=1,di={version:"0.27.2"}),di}var F0=ea().version,nr=Cr,Ni={};["object","boolean","number","function","string","symbol"].forEach(function(N,u){Ni[N]=function(_){return typeof _===N||"a"+(u<1?"n ":" ")+N}});var sn={};Ni.transitional=function(u,C,_){function T(b,x){return"[Axios v"+F0+"] Transitional option '"+b+"'"+x+(_?". "+_:"")}return function(b,x,c){if(u===!1)throw new nr(T(x," has been removed"+(C?" in "+C:"")),nr.ERR_DEPRECATED);return C&&!sn[x]&&(sn[x]=!0,console.warn(T(x," has been deprecated since v"+C+" and will be removed in the near future"))),u?u(b,x,c):!0}};function U0(N,u,C){if(typeof N!="object")throw new nr("options must be an object",nr.ERR_BAD_OPTION_VALUE);for(var _=Object.keys(N),T=_.length;T-- >0;){var b=_[T],x=u[b];if(x){var c=N[b],p=c===void 0||x(c,b,N);if(p!==!0)throw new nr("option "+b+" must be "+p,nr.ERR_BAD_OPTION_VALUE);continue}if(C!==!0)throw new nr("Unknown option "+b,nr.ERR_BAD_OPTION)}}var z0={assertOptions:U0,validators:Ni},ta=Dt,H0=Wn,on=c0,ln=k0,Qr=Kn,X0=Jn,ra=z0,gr=ra.validators;function Er(N){this.defaults=N,this.interceptors={request:new on,response:new on}}Er.prototype.request=function(u,C){typeof u=="string"?(C=C||{},C.url=u):C=u||{},C=Qr(this.defaults,C),C.method?C.method=C.method.toLowerCase():this.defaults.method?C.method=this.defaults.method.toLowerCase():C.method="get";var _=C.transitional;_!==void 0&&ra.assertOptions(_,{silentJSONParsing:gr.transitional(gr.boolean),forcedJSONParsing:gr.transitional(gr.boolean),clarifyTimeoutError:gr.transitional(gr.boolean)},!1);var T=[],b=!0;this.interceptors.request.forEach(function(t){typeof t.runWhen=="function"&&t.runWhen(C)===!1||(b=b&&t.synchronous,T.unshift(t.fulfilled,t.rejected))});var x=[];this.interceptors.response.forEach(function(t){x.push(t.fulfilled,t.rejected)});var c;if(!b){var p=[ln,void 0];for(Array.prototype.unshift.apply(p,T),p=p.concat(x),c=Promise.resolve(C);p.length;)c=c.then(p.shift(),p.shift());return c}for(var v=C;T.length;){var o=T.shift(),s=T.shift();try{v=o(v)}catch(i){s(i);break}}try{c=ln(v)}catch(i){return Promise.reject(i)}for(;x.length;)c=c.then(x.shift(),x.shift());return c};Er.prototype.getUri=function(u){u=Qr(this.defaults,u);var C=X0(u.baseURL,u.url);return H0(C,u.params,u.paramsSerializer)};ta.forEach(["delete","get","head","options"],function(u){Er.prototype[u]=function(C,_){return this.request(Qr(_||{},{method:u,url:C,data:(_||{}).data}))}});ta.forEach(["post","put","patch"],function(u){function C(_){return function(b,x,c){return this.request(Qr(c||{},{method:u,headers:_?{"Content-Type":"multipart/form-data"}:{},url:b,data:x}))}}Er.prototype[u]=C(),Er.prototype[u+"Form"]=C(!0)});var Y0=Er,pi,fn;function G0(){if(fn)return pi;fn=1;var N=qr();function u(C){if(typeof C!="function")throw new TypeError("executor must be a function.");var _;this.promise=new Promise(function(x){_=x});var T=this;this.promise.then(function(b){if(!!T._listeners){var x,c=T._listeners.length;for(x=0;x<c;x++)T._listeners[x](b);T._listeners=null}}),this.promise.then=function(b){var x,c=new Promise(function(p){T.subscribe(p),x=p}).then(b);return c.cancel=function(){T.unsubscribe(x)},c},C(function(x){T.reason||(T.reason=new N(x),_(T.reason))})}return u.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},u.prototype.subscribe=function(_){if(this.reason){_(this.reason);return}this._listeners?this._listeners.push(_):this._listeners=[_]},u.prototype.unsubscribe=function(_){if(!!this._listeners){var T=this._listeners.indexOf(_);T!==-1&&this._listeners.splice(T,1)}},u.source=function(){var _,T=new u(function(x){_=x});return{token:T,cancel:_}},pi=u,pi}var vi,un;function W0(){return un||(un=1,vi=function(u){return function(_){return u.apply(null,_)}}),vi}var mi,hn;function j0(){if(hn)return mi;hn=1;var N=Dt;return mi=function(C){return N.isObject(C)&&C.isAxiosError===!0},mi}var cn=Dt,Z0=Xn,Xr=Y0,$0=Kn,V0=Bi;function ia(N){var u=new Xr(N),C=Z0(Xr.prototype.request,u);return cn.extend(C,Xr.prototype,u),cn.extend(C,u),C.create=function(T){return ia($0(N,T))},C}var Ut=ia(V0);Ut.Axios=Xr;Ut.CanceledError=qr();Ut.CancelToken=G0();Ut.isCancel=Qn();Ut.VERSION=ea().version;Ut.toFormData=qn;Ut.AxiosError=Cr;Ut.Cancel=Ut.CanceledError;Ut.all=function(u){return Promise.all(u)};Ut.spread=W0();Ut.isAxiosError=j0();Ti.exports=Ut;Ti.exports.default=Ut;(function(N){N.exports=Ti.exports})(Hn);const na=Ya(Hn.exports),aa="//10.113.64.68:5434";async function q0(N,u){const C=`${aa}/save_user_guess`,_=JSON.stringify({graph_id:N,guess:JSON.stringify(u)});return na.post(C,_,{headers:{"Content-Type":"application/json"}}).then(T=>T.data)}async function J0(N){const u=`${aa}/get_user_guesses?graph_id=${N}`;return na.get(u).then(C=>C.data.map(_=>_.data.replaceAll('"',"")))}const Q0=Xa(null,function(u){return J0("map").then(C=>{u(C)}),function(){}}),Zr=Mi(""),wi=Mi(!1);function K0(N){let u,C,_,T,b,x,c,p,v,o,s,i,t;return{c(){u=Ot("div"),C=Ot("div"),_=Ot("label"),T=Ot("input"),b=br(`\r
      Erase`),x=fr(),c=Ot("div"),p=Ot("button"),p.textContent="Erase all",v=fr(),o=Ot("div"),s=Ot("button"),s.textContent="Done!",at(T,"type","checkbox"),at(u,"id","button-row"),at(u,"class","svelte-5kw3oy")},m(e,l){Lt(e,u,l),_t(u,C),_t(C,_),_t(_,T),T.checked=N[0],_t(_,b),_t(u,x),_t(u,c),_t(c,p),_t(u,v),_t(u,o),_t(o,s),i||(t=[or(T,"change",N[2]),or(p,"click",N[3]),or(s,"click",N[4])],i=!0)},p(e,[l]){l&1&&(T.checked=e[0])},i:vt,o:vt,d(e){e&&It(u),i=!1,cr(t)}}}function es(N,u,C){let _;Sr(N,wi,p=>C(0,_=p));const T=Da();function b(){_=this.checked,wi.set(_)}return[_,T,b,()=>{T("clickedEraseAll")},()=>{T("doneClicked")}]}class ts extends qt{constructor(u){super(),Vt(this,u,es,K0,Yt,{})}}const ur=700,hr=700,xi="#6d9dc7",sa="M88,515l3,0,11-5,19,9,4,0,6,7,5,1,0-3,4,1,1,2,3,0,2,6,1,2,4,2-1-5-2-3,1-2,8-6,5-1,1-7,2-2,6,1,4,8,6,1,6,4-1-2,5-1-1-2,4-2,4,0,3,6-9,12-6-2-1,2-8,4,2-3-7-2,0-4-6,1,0,2-4-1,1-6-3-1-3,4,3,1,1,4-5,0-1,2-3-1,0,4-5,1-1,3,5-2-3,4,5,4-4,4-6,1-1-1,1-3-3-6-3-2,2-3,3,2,2-3,0-4-3-4-4,0-3-2-7,8,0-4,2-4-4,1,0-7-4-1-7,2-3-3,4-1-4-2-2,1-5-1,0,3-5,3-3-2-7,5-4-1-2-4-1,4-1-6,1-3,6-2ZM82,533l-3-2,2-2,1,4ZM142,466l6,1,4,3,0,4,2,3-3,1-1,3,8-1,2,4,9,2,0,9,1,8-5-4-7,3-2,9-2,3-4-1-1,1-7,2-8-6-4-1-1-3-5-5,1-1,5,3-4-4,5-1-4-3,0,2-11,6-8,0-5-4-2-6-11-9,0-3,5-3,9-6,9-2,3,1,0,2,5,6,2,1,4,9,6,2-1,4,4,4,0,4,4,0,2-5,2,0-3-6,3,0,4-3-3-2,2-6,3,0-4-4-4,1-4-2,1-4-4,1-3-2,1,3-2,2,4,2-4,1-4-2,4,0-4-2-2,2-4-4,0-3-5,1-3-2-5,0-9,6,9-6,6,0,3,1,9-2,3,2,2-2,6,0,5-2ZM138,486l-4,1,0-2,4,1ZM139,483l2-2,0,2-2,0ZM143,436l-8,0-8,3-4,5,3-5,10-4,7,1ZM128,441l2-2,5-3-4,7-3-2ZM128,451l11-15,8,1,6-2,4,5,1,10,3,2-2,4,4-2,2-3,8-1,2-1,7,4,0,4-4,4-12,4-3-1-4-3-6-1,0-3-4-7-7-4-5,2-3,3-4,1-2-1ZM165,447l-2,2,0-4,2,2ZM166,442l4,3,0,3-4-1,0-5ZM164,443l-2,0,1-2,1,2ZM173,434l4,9-3-4-1-5ZM152,418l7-4,8-2,3,0,1,3-4-1-5,1,0,2,4-3,6,2,2,4,1-2,20,11-3,2-8-1,1-4-9,1-7-6-2,1,4,4,2,6-2,1,0-6-4-5-4,0-12,3-2-4,3-3ZM175,399l-2,4-1,0,3-4ZM175,384l0-2,4,2-4,0ZM170,501l-1-12,2-3,4,3,2,6,4,7,6,3,6-2,4,0,4,3,0,6-4,0-3-1-6,3-11-5-4-5-2,0-1-3ZM184,466l4,1,5-1,7,11-1,8-2,3-7-4-11,0-3-4-4-2,0-3-5-2,0-4,5-1,4-3,6,0,2,1ZM185,435l-1,2-1-1,2-1ZM184,430l2,1-3,3,1-4ZM181,428l2,2-4-1,2-1ZM183,389l-1,1-1-3,2,2ZM184,381l-3,0,4-1-1,1ZM186,455l1,0,9,5,4,0-5,5-9,0-4-5,0-2,4-3ZM189,450l-3,1,0-1,3,0ZM185,438l5,5,2,0,1,4-8-4,2-3-2-2ZM173,385l0,2,6-1,0,5,12,3,7,6,3,5,5,3,9,0,2,4,7,1-4,5-1,0-7,2-2,2-4-1-3,5-4-3-5-1-3-4-4-2-5,0-4-8-2-3,0-4,4-1,0-2,3-4-3,0-2,2-3-2-3,0,0-4-2-6,3,1ZM188,391l-1-3,2,2-1,1ZM201,482l2-6,2-5-1,9,2,1-1,9-5-3,1-5ZM201,473l0,2-3-2,3,0ZM201,473l4-2-2,4-2-2ZM201,397l4,2,0,2-5-2,1-2ZM190,389l6,5,1,3,2,0,1,4,4,1,1,4-3,0-2-6-6-4-4-4,0-3ZM205,503l6-2-1,5,3,1-1,6,2,1,0,4-9,0-2-2-1-4,0-7,3-2ZM208,462l5,0,0,3-2,0-3-3ZM194,430l1-1,7,6,3,4,10,5,7,1-2,1-2,6-5,2-3,0,5-4-7-2-3-3-8,1,1,4-6-2,4-5-1-8,2,4,4,1,0-2-6-4-2-3,1-1ZM225,417l-3,7,1,3-8,0,1-4-4,0,0,2,4,7,5,2,5,3-1,3-7-5-15-5-2-3,3-2,1-3,5,0,2-2,8-1,5-2ZM216,404l-2-2,3,0-1,2ZM213,366l2-5,2,3-4,2ZM221,403l-1,2-2-2,3,0ZM220,364l-3,2,1-4,2,2ZM226,438l3,1,0,2-4-1,1-2ZM221,401l2,0-1,3-1-3ZM226,402l3-2-2,3-1-1ZM229,418l2-2,1,4-3-2ZM232,402l-2-2,3,1-1,1ZM229,397l1,2-3,0,2-2ZM232,377l1-2,2,1-3,1ZM236,415l5,1,4,0,1,3,3,2-4,7,0,9,1-1,3,3,7-10,0,4-1,6-5,4-8,2-7-3-5-1,0-2,6-1,6,1,0-4-5-4,0-4-2-1-2-9,3-2ZM236,400l3-1,2,3,4-2,5,0,5,3,0,1,5,6-2,1,4,5-5,6-6-3-4,0-1-4-6,0,0-2-9,2-4-2-6,0-3-2-1-5,12-2-1,2,5,1,1-6,2-1ZM242,398l-1-1,3-1-2,2ZM238,303l-4,7,0-1,4-6ZM246,432l-1-4,1-1,0,5ZM254,422l2,4-6-2,0-3,4,1ZM249,273l3,0-1,1-2-1ZM260,446l-1,3-5-1,2-5,3-1,1,4ZM254,255l-2,5,1-6,1,1ZM271,482l-4,4-4,12-4,4,2,0-2,5-1-6,4-4,0-2,5-9,4-4ZM262,416l-1-4,1,2,0,2ZM274,475l0,3-1-3,1,0ZM276,436l0,0-2,3,1-1ZM276,434l-4,2,3-5,1,3ZM276,427l1,2-7,8-2,0,4-4,3-7,1,1ZM263,419l5,0,4,2,9-2,10,0-3,3-4,1-5-1-6,4-1,5-6,6-6,2,0-5-1,5-2,0-1-13,3,0,1-6,3-1ZM272,156l4,0,1,4,4-1-3,5,1,3-3,8-2,8-3,0-3,5-3-1,3-9,1-14,3-4,0-4ZM279,486l-2-2,2,0,0,2ZM278,475l1,5-1-1,0-4ZM278,462l1-2,2,5-3-3ZM278,260l1,4-2,0,1-4ZM275,202l4,1-2,4-2-1,0-4ZM283,433l4,0,0,6-2,3-3-1,2-3-6,1,1-3-2-1,2-3,4,1ZM270,151l-2-3-1-5,2-10,3-7,10-15,5-6,4,3,3,7,0,14-6,10-6,2-3,6-5-1,2,2-2,2-4,1ZM278,119l-5,7-3,6-1,5,1,6,2-1,0-5,2-3,1-3-2-1,1-5,4-2,0-4ZM294,298l-2-2,4,0-2,2ZM292,292l3,3-2,1-1-4ZM312,79l0,3-8,4,0,6-3,1-4,5-9-1,2-3,4-1,5-4,5-6,8-4ZM298,466l-2-2,2-1,6,3,0,2-6-2ZM312,300l-2-1,3,0-1,1ZM323,479l3-4,1,1-2,4,0,2-6,4,4-7ZM326,478l3,2-3,0,0-2ZM379,417l2,3,5-4,4,0,8,4,0,3,7,2,1,3,4,1,1,3,4,2,7,0,5-2,3,2,1,5,3,2,7,1,2,7,0,7,8,8,2,10-3-4-2,1,0-5-4,2,0-8-2,1-2-5-4,1-3-6-3,2-2-1-3,1-5-3-11-13-5-3-7,0-1-4-16-1-1,6-2,2,2,3-1,3,5-1-3,3,0,4-8,2-1,4,9,5-2,3-6-3-7-1,0,4-5,2,1,4,5,6,7-1,4-1,0,4,2,5,1,6,4,0,1,2-5,1-1,7,0-5-2-5-1-11-6,1-1-2-6-1,0-2-5,0-1-5-3-1,1-3-5,4,0,2-6-1-2,1,2-5-2-3-3-7-7,0-10-1-2-2,2-3-11,4-5,6-7,0-7-1-1-2-4,0,0-4-1-6-1,2,2,4-8,3,1,2-4,4-2-4-5,1,0,2,6,1-5,1-4-2-2,3-1,5-9,2-5,0-1-3-4,1-1-2-2,5-1-3-4,2,1-2-5-1-1,3,2,2,0,4-4-4,0-4-8-1-5-3,1-7-11,6-3-1,2,4-7,0,3-6,6,1,11-4,2-2,2,3-2,1,10,5-8-9,2-5,3,1-2,2,1,2,8,5,3,1,4-6-3-1-4,2-5-4-2-4,2-2,8,3,6-1,5,7,8-6,1,6,3-1,5-5,1-2-5,1-2-6,2,0,10-2,5,1,5,2,6,0,2-2,10-1,5,1,4,1,8,1,9-6,6-1,9,0,2,2,3-2,5,1,4-3,1,2,4-4,1-7,6-5,7,1,3-4,3,0ZM275,450l4,3,3-3-1-3,3-1-11,2,2,2ZM309,164l4-2,0,4,2-1,9,18-2,18,7,7,4,0,4-3,9,2,1,1,2,9-4,3-3,0-1,7-9,5-2,3-4,0-1-3-3,0-1-2-7,0-4,3,3,16,1,0,3,9,3,3-2,4-2,0,1,5-5,1,4,1-1,5,5,1-3,5-2,0-3,3-2,6-9-2,1,6,2,0,4,4,4,2,9-2,7,7,6,2-2,1,0,4-3,0-2,5,2,7-1,6,3,5,0,6,2-6,2,2-1,6-2,3,6,9,4,2,1,3,7,8,9,2,4,3,5,1,2,3-6,3-4,0-4,1-1,4-3,0-11-5-3,4-8-2-4-6-4-2-7,4-2,5,5-7,4-1,4,2,3,4,6,3,4,0,2-4,5,4,6,2,7-4,7,1-1-1,4-3,8,1,6,3,4,4,1-1,5,3,6-3,10-2,3-2,4,3,5-1,3-3,4,2,3-4,7,4,3,4,2,5,4,5,3,1,2,4-5,1-2,4-3,1-3-4-6,0-3,4-5-2-5-3-10-2-4-2-23-2,0,2-5,1-5,0-1-1-4,4-3,7-6,8-3,1-5-4-9,1-5,2-4-2-5,1-7-3-6,2-13-2-4-1-7,3-12,0-11-2-5,1,0-3-7-11,6,0,3-2,8-2,3-2,6-2-2-1-7,3-4,4-7,1-6,0-5-2-2-3-11-2-3,4-4,0-1-3-4,1-1,2-5-3,0-2,7,0-2-1,2-2-3-4-1,7-4,0,0,6-3,1-2-2-4,1-9-6,0-2-7-3,0-2-4-1-5-6,6-9,6-4,1-3,4-4,3-1,4-4-3-2,5-3,1,4,5,0,5-2,4-5-4,1,1-7,4-9-1-2,6-12,5-7,5,0,4-6,2-1,2-4,1,1-2,5,5-2,2-2,3,0,5-7-2,2,0-10-2-1,1-6-2,0,1-3-1-5-8,0,4-3,3,2,1-2,3-2,3,1,2-1,1-3-1-3,2-4,0-3-4,3-5-4,0-6,1-2-1-5,0-6,2-9,4-1,0-10-4-3-4,0,2-10,1,2,5-10,3-6,2-3,3,0,2-7,3-9,11,6,12-1,0-3,4-1-5-1,8-4ZM276,196l-3,1-6,14,4-3,0,5,2-3,5,0,1-6,3-1-1-2,7,2,0-5-3,0-4-3-5,1ZM275,224l-1,4-3,2-2,6-5,8,1,6,2-7,3-1,0-3,5-1,1-4-2-2,3-8-2,0ZM273,256l4-1,0,7-3-1-2,3,10,2-3-1,0-6-2-4-4,1ZM285,287l1,1-10,0-5,2,3,1,1-2,11,1,5-1,0,11-3-1-1,9,2-4,3,0-2-3,7,3,1-3-2-4,5-1,0-3-6-1-2-4-8-1ZM274,296l4,4,4,6,2-7-4,0,1-5-3,1,1,4-5-3ZM236,338l-2,2,7,2-6-1-4,6-4,5-2,3-7,3,1,2,5,1-1-2,2-1,4-6,2-1,2-4,8-3,6,4,7,0,7-3-6,1,0,1-7,1-5-3,1-3-3-2,0-2-5,0ZM224,362l-1,2-7-4,1-2-6,5,2,7,2,1,1-3,5,0,3,2,4-1-1,5,1,4,8,2-1-9-4-1,0-4-2,0-3-5-2,1ZM306,352l-2,1,8,2,1,4,2-1,4,2,0-5-6-1-4-5-3,0,0,3ZM243,369l-2,9-3,2,0,7-2,0-2,4,3,1,1,2,2-5-3,1,2-10,3-1,2-5,0-5-1,0ZM217,372l-3,1,0,4,4-1,2,4,5-1-3-5-4-4-1,2ZM323,274l-2,1,1-4,5,1-4,2ZM316,76l4,0-2,2-2-2ZM349,490l-5,2-3-1-3,2-1-3,12,0ZM335,483l4,2-2,3-2,0-1,4-3-2-3,0,4-2,1-6,2,1ZM345,322l-2,2,0-2,2,0ZM336,67l-5,1-2-5,7-8,5-1-4,3,3,2-3,4-1,4ZM356,472l-3-2,4,1-1,1ZM359,427l0,0,1-2,0-1ZM362,133l-2,2-1-3,2-1,1,2ZM355,52l-2,0,15-6,11-3,6,1-1,3-5,1-8,6-8,0-9,6-5,1-3,0-6,2,4-5,10-3-3-2,4-1ZM370,523l2,7-3-4,1-3ZM375,508l-4,1-4,4,0,3,3,6-4-4,0-6,3-3,4,0,2-3,0,2ZM385,402l2-2,18,1,5,2,10,3,3,2,0,3,3-1,0,4-3,1-1,3,6,11,5,5,3,3,10-1,6,3,0,11-2,1,4,5-6-3,1,4,3,3,6-1-2,2-5,0,2,4,3,2,2,5-3,5-1-5-2-3-1-7-7-5-1-2,0-7-1-5-10-4-2-6-3-1-9,1-4,0-3-5-4-1-1-3-6-1-2-5-3,0-10-4-1,4-4,0-4-3-2,4-5,1-5-2-4,5-2,6-1-1-1,5-6,3-4,0-4,1-1-1-10-1-9,3-7,4-7,0-8-2-4,1-6-1-4,2,2-3,0-7-5,1-4-2,0-7,1-1,5,1,4-2,4-3,4-2,12,2,4,5,2-1-5-2-1-3,6,1,4-2,7,3,6-1,6,1,5-1,8-2,4,4,4,0,3-5,4-4,1-3,3-5,15-2ZM383,419l-1,1-2-2,3,1ZM358,384l0-2,6,1,5-4,5-1,1,2,6,2,2,2-7-3-8,0-3,2-7,1ZM349,311l3,4,7,1,4,5,12-2,5-2,3,0,0,4-6,6-4,0,0,4,2,1,2,6-1,9,4,0,1,3,5,3,1,5,5,2,3,8,0,4,2,0,1,5,4,3-1,6,12-2,9,0-4,2-7-2-12,4-4,2-2,0,0-4-5-3-1-3-7-7,2-4-10-1,0-3-3,0-5-3-2-3,1-11,1-1-2-6-4-3-4,1,0-2-5-3,2-6-7-1,1-7-1-3,3-7,5-2-3,3ZM368,331l-6,0,7,7,1-8-2,1ZM392,240l5-1,2,2,14,3,7,1,0,4,4,5,2,4-1,4,0,5-5,8-5-1,3,4-6,4-3,0-13,7-3,4-6,1-4,4,1,5,0,5-3,7-15,5-1,0-12-12-5-3-8-4-5,0-6,1-2-2,0-6-2-3,12-8,8-5,25-18,0-4,3-5,4,0,9-9,6-2ZM391,477l1-2,0,2-1,0ZM392,471l2,5-3-4,1-1ZM384,466l0-1,4,5-2,1-5-3,3-2ZM385,387l-1-2,3,2-2,0ZM400,545l-1-4,2,5-1-1ZM403,497l2,2-2,3-2-4-2,1-1-2,5,0ZM399,486l3,4-3,0,0-4ZM395,481l3,3-5,0,0-5,2,2ZM397,476l3-2,0,6-3,2,0-6ZM409,637l-1,6,0,3-3,10-1-2,2-3-1-9,1-6,3,1ZM405,636l0,5,0,0,0-5ZM406,630l4,0,0,4-5,1,1-5ZM412,617l-5,11-1,3-3-3,3-6,3,0,1-4,3-5-1,4ZM410,620l3-6,0,5-2,4-3,3,2-6ZM406,505l-1-1,2-1-1,2ZM412,606l3-3-2,6,0,1-4,0,3-4ZM412,523l0-9,1,10,3,1,2,6-3-1-1,3-5-1-3-1,1-3,3-2,0-3,2,0ZM415,284l3-3-2,4-1-1ZM391,210l0-8,10-15,7-1,0-1,4,0,6,5,0,3,4,5,3,0,7,5,5,7,1,4,3,1,0,4-3,2,0,3,7,4-2,3-10,3-7-1-3,0,1,4-24,0-7-10,2-3-4,1,0-15ZM413,41l-7,0,34-3,3,2-2,2-7,0-13,4-5,0-7-1-6,4-6,0-4-6,3-4,3,0,4,2-6,0-3,1,1,3,2-3,9-1,15,0,0-1-8,1ZM432,568l-11,21-4,7-3-1,2-7,4,0,1-4-2-3,5,0,2-3-5-2,2-3,4-1,0-2,5-2ZM418,560l2-3,4,0,2,3-6,3-3,0,5-4-4,1ZM433,641l-3-7-4,0-3-3-5,0-7-3,0-1,5,2,8,2,7,4,2,6ZM423,585l8-15,0,3-2,7,2,1-2,3-4,4,4,3-5-1-1,4-5,3,3-7,2-5ZM428,569l-3-1,2-5,5,3-6,2,2,1ZM428,536l-4-1,2-1,2,2ZM423,534l4-3-1,3-3,0ZM430,383l-3,1-4-1,6-1,1,1ZM426,559l-2-3,2-3,4-1-4,7ZM432,234l1,1-3,0,2-1ZM430,160l3-3,2,4-3,1-2-2ZM436,620l1,0-2,1,1-1ZM433,566l3,1-1-2,4,1-2,2-4,0,0-2ZM432,150l3,3-1,1-2-4ZM443,546l5-2,0,5-3,2,0,7-2-3-5,6,2,5-4-2-3,1,5-9,3-1,3-5-1-4ZM444,425l2,4-3,4-1-2,1-8,1,2ZM446,408l3-4,7,4,0,3-8,4-6-1-2,3-9-4-1-2,3-4,4-1,5,4,2,0,2-2ZM448,557l-2,1,3,9,3-1,9,3-1,5-3-4-11-1,1-3-3-5-2,0,5-6,1,2ZM450,546l-1-3,3,0,3-5,5-2-7,4,2,6-3,4-3,0,1,4-5-2,4-3,1-3ZM454,375l2,0-3,3,1-3ZM461,524l1-3,4,2,2-5,2,2-6,6,0,2-4,7-3,1,1-3,3-3,0-3,4-5-4,2ZM458,486l0-2-4-6,5,1,4,1,1,3,7,6,0,4,2,5-4,5,1,4-2,5,1-7-3,0,5-7,0-5-5,3,3,3-4-2,4-5-6-5-5-1ZM464,480l-5-1-3-2,3-1,4,1,3,4,2,5-4-4,0-2ZM471,520l-3,6-4,3,0-3,7-6ZM470,516l0,3-2-2,2-1ZM473,509l-2-4,0,12-2-6,1-3,0-6,3-4-2-5,0-5,3,6,0,8-2,3,1,4ZM559,41l2-1,9,5,0,7,2,5,2,9,6,5,11,6,7,1,1,8,3,3,15,3,1,10-2,2,3,2-3,1-4,9,2,9-7,6-1-4-4,5-8-1,0-3-3-1-5,1,0-2-4,1-3-2-6,1,0-10-1,4-3-4-2,0,0,3-5,1-4-3-6,0,1,3-9,2-3-3-4-10-3-1-4-7,5,2-3-7-4,1-2-2-4,2,5,8,2,0,4,5,1,5-2,4-1-3-7-3-4,2-2-4-2-2,0,3-4,2-3-1-2-3-4,0-1-6-3-1,0,3-6-3,0,4-5,3-2-3,1-2-10,0-2-1,0-4,2-2-5,0-1-5-1,3-5,0-3-2,2-2,3,1,6-4,4,4,2-5-6-2-3,2-4-3-2-5,0,5-5,1-4,2-2,10,4,3-2,6,3,3,3,0-1,4-6,0-3-8-2-1,4-5-1-4-3,0,1-3-3-2-5,6,1,1-1,6,4,2-2,2-4,0,4,6,3,2-3,1,1,4,4-1,0-2-2-4,3-2,1,3,0,6,4,0-2,3-4,1,6,6,2,11-4,3-2,5-10,1,0,2-4,1-3-2-4-5-1,1,3,4,0,5-3,1,0,5,5,0,1,5-7-1,3,2-1,3,5,0,3-2,2-6,1,1,9-3,2,3,4-1,0-3,5-1,1,5-10,6-2-2-4,5-3,1-3,6,1,2,10-4,2-4,4,0,0-3,6-4-5,7,5,3-5,0-1,3-7,2,0,2-5,3-3-3,1,4-2,4,9,2,2,0,7,1,7,5,7,2-3,8,4-1-2,9,0,2,4-1,1-7,2-3,3,9-2,8-3,2,1,5,1,9,4,0-1,3,2,5,5,3,3,3,9,0,1,2,4-2,1,2-5,2-4-2-3,2-3-1-3,3,6,0-3,2-3,0,0,3,8,0,1,1-3,3-5,2-4,7,3-1,0,5-5,2,2,1-4,7,2,4-9,0,7,4-1,2-5-1-1,3,2,3,4,3,2,8-3,2,6,0-5,9,2,5,3,3,5,0,2,2-4,1-1,3,1,15-2,2-1,5,0,9,2,2,1,6,5,0,1,4,4,0,2,4,0,6,3-2,3,5,1,0,2,5-7,0-1,2,3,7-6-1-2-3-6-1-2-4-3-1-8,1-1-1,8-1,0-10-5-3,1-2-5-1-7,2,1,5,3,2,0,2-3-1-6,1,4,6,3,3,0,4-7-2-10-5-4-6-2-1-5-7-1-2-3-3-1-4-3-2,7-2,4,0,1-2,5,1,0,2,3,0,4-5-2-2,6-5,1-4,6-6-1-3-4,0-1-8-2-5-4,2-2-4,3,1-2-4-4,0,2-5-2-7-5-2-1-8,2-4,1-8,2-3,0-4,7-15-1-4,1-5-1-3-6-1-10,6-4,0-4,3-2,0-5,5-6,0-4,3,4-5,2-9,3,0,1-8,2-4-1-7-3-5-3-3,4,0-2-4,2-2,6-2,4,1,10-2,3-3-1-4,3-1-1-5-4-3-3,1,1-5-2-4-7-8-6-5-3-1-2-6-7-3-5-6-6,2-6,0-3-4-2,2-5,1-1,2-3,2,6-6,0-3,4-2,0-3-6-1-3-2-5,3-2,3,3,2-5,2-5-4-2,6-4,1-3-2-5-5,1-5,4-1,1-2,0-14-1-4,0-9-3-6,4,0-5-8,1-4,4-6,2-13,3-6,4-5,8-5,7-9,6-4,4,0,6-3,9-6,2,0,17-8,4,0,12-4,11-1,7,1,5-3,3,2,8-2,6,3,2,2,11-5,12-2,10-1,4-2,12-4,7-3,7,0,5,2ZM428,162l-1-3-3-2,3-4-3,1-4-1-3,4,1,0,1,5,6,2,3-2ZM470,58l1,8,2-1,7,1,2-4-8,1-1-2,7,0-6-1-1-6,5,3,5,0-5-2-5-3-2,1-1,5ZM504,75l-2-1-5,1-1,2-4,0,2,8,3,0,6,3-2,1,4,5,5,1-2-7,1-2-2-12-3,1ZM417,102l-3,2,2,1,2,6-1,10,4-9,4,0-4-4,1-2,5-2,1-4-4,0-3-3-4,0,0,5ZM483,98l-2,3-3,0-1,2,7,0-1-1,5-1,2-4-7,1ZM410,125l-2,4,8-2,0-3-2-1-4,2ZM409,161l-1,6,8-1,0-5-7,0ZM463,98l1-1,2,0-3,1ZM468,40l-3,2-1-4,3-6,3-1,13-2,8,0,4,2-9,3-5,3-11,1-2,2ZM509,213l1,3-4,0,3-3ZM530,304l-1,1-7,0-1-2-5-3-3-8,1,0,1,5,6,6,7,2,3-5-1-3,4-1,1,6-2,4-3-2ZM535,387l4-3-1,5-4,2,1-4ZM551,387l-3,1,0-1,3,0ZM546,357l-2-2,0-2,2,4ZM543,321l-4,1-1-3,5,2ZM551,319l-2,1,2-3,0,2ZM537,286l2,2-3,4-4-5,5-1ZM550,231l-3,3,2,3-1,4-7,1-2,6-5,2,0,5,3-3,2,0-3,5,1,4-3,6-2,1,1,5,2,5-5,2-4-5,2-1-1-4-3,0-1-2-7,0-2,3-2-5,9,0,7-3,1-4-4,2-2-3-5,4-1-5-7,4-3-2,7-2,0-3,5,2,0,4,4-4,2,3,4-5,2-5,9-13,1-4,2,1,7-2ZM549,223l1,3-3,1,2-4ZM535,120l1,3-3-1,2-2ZM553,375l2,1-3,1,1-2ZM558,344l2,1-1,1-1-2ZM552,315l2,2,7,2,2,2-4,0-6-2-1-4ZM591,301l1,8-1,2,1,5-2,1,1-7-2-9,2,0ZM556,222l4,2,1,3-7-1-1-3,3-1Z",rs="M193,365l1-2,1,0,1,1,0,0,2-1,6-8,0,0,0-1,0,0,0,0,1,1,0,0,0,0,0,0,0,0,1,0-1,1,0,0,1-1,0,0-1,0,1-1,0,0-1,1,0,0,0,0,0-1,0,0-1,0,1,0,0,0,6-7,8-11,3-4,1-2,1-1,0,0,0,0,0-1,7-11,6-14,6-15,2-5,1-3,0-2,0-3-1-2-1,0-1-1,0-1,0,1,1,1,2-1,1,0-1,0,1,1,0,0,0-1,0,0,0,0,0,0,1,0,0,0,0,1,0-1,1,0,0,0,0,1,0,0,1,0,0,0-1-1,1,0,1,1,1,0-2-1,6-1,3,1,2,1,6,5,2,1-1,0,0,1,0,0-1,0,0,0,0,0,0,0-1,0-2,2,0,0,0-1-1-2,0,0,0,0,0,1,1,2-1,1,0,0,1,0,2-3,2,0,1-1,3,0,1,3-1,0,1,0,0,0-1,1,1-1,0,1,0,0,0,1,1-1-1-3,2,0,0,0,0,1,0-1,1,2-1,1,1,0,0,1,0,0,0,0,0,0,0,1,0-1,0,2,1,0-1,2,0,0,1-2,0,0,0,0,2,0,0-1-2,0,0-1,2,0,0,0,0,0,1,0,0,0-1,0,0-1-2,0-1-3,5,1-1,0-1,0,1,1,0,0,0,0,0,0,2,0,1,4,0,1-2,0,1,0,1,0,0,1,0-1,0,0,0,1,1-1,0,0-1,0,0,0,2,0,0-1-2,0,0,0,2,0,0-1-2,0,0,0,2,0,0,0-2,0-1-3,4,0,0,1-2,0,1,0,0,1,0,0,1-1,0,1,0,0,0,0,0,0,0,1,0,0,0-1,1,1,0,0,0-1-1-2,2,1,0,0,0,1,1-1-1,0,0,0,0,0,1,0,0,0,0,0,0,0-1,2,0,0,1-1,0,0,0,1,0,0,1,0,0,0,0,0,0-1,1,1-2,1-1-1,0,1,1,0-1,1,0,0,1,0,1-1,0,1,0-1,0,0,0,1,1,0,0,0,0-1,0,0,0,1,1-1,1,1-1,0-1,0,1,1,0,0,0,0,0,0,1,0,0,0,0,0,0,1,0-1,0,1,0,1,0,0,1,0,1,1,1,0,0,0,0,0,0,0,4,1,0,0,0,0,1,0,0,0-1,1,1-1,0,1,0,0-2,0,0,0,0,0,0,0,0,0,0,0,3,0,0,0,0,0,0,0,0,1,0-1,1,3,1,0,6,5,0,2,1,5,0,0,0,5-4,24,1,4,0,1,6,5,1,1,4,4,0,1,0,0-1,0-2-2,0,0,2,1-1,0,1,1-1,0,1,0,0,0,0,0,0,0,1,0,0,1-1,0,1,1,0,4,1,1,2,5,1,1,0,1,0,0,1,4-1,3,0,1,0,1-2,1,0-1,0,0,0,0-4,1,0,2-3,2-2,2-2-1-2,0-1,0-1,0,0,1-2,3-4-1-1,1-1,2-2,1-4,2-2,0-1-1-1,0-2,0-2,0,0,2-2,0,0,2-3,1-1,1-3,0-2,1-1,1-1,1-2,1-3,0-2,1-1,0-1,1-1,0-1-1-1,1-1-1-2,1-4-2-1-2-1,0,0,0-1-1,1-2,0,0,3-1,1,0,1-1,0,0,1-1,1,0,0,0,1-4,1,0-1-2-1-1,0-1,2,0,0,0,1,0,0-1,2-1,0-1,1-1,1-1,1-1,1,0,2-2,1,0,2-1,0,0-1,0-1,1-1,0-2,2,0-1-1,1,1-1-1,0-3,4,0,1-2,0-1,1-3,1,0,1,2,1,1,1-1,1-1,2,0,1-2,1,0,0-1,1,0,0,0,1,0,0-1-1-2,2-1,0-1,1,0,1-2,1-1,0-3,1-1,0,0-1-1-1-3-2-1,1-1,1,0,0-2,1-1,0,0,0-1,1-2,0-1-2-3,0,0,0,0,1-1,1,1,0-1,0-1,0-1,0-2-1-1,0-1,0-2,1-1,1-6,0-3-2-1,0-1-1-1,0-1,0,1-1-5-4-4-3-6-5-3-1-1-2-1,1-3-2,0,0,1,0,0,0,3-2,2-3,4-5,2-2,0-1M239,395l-1,0,0,0-1,1,0-1,0,1-1,0,0,1,0,0,1-1,1-1,2,1,0,0,0,0M141,555l-2-1,0,0,0-3,0-4,1-2-2-1-1-1,0,0-1,1-1-1-1-1,0-1,0,1-4-1-1,0-1,0-2-1-1-1-1,0-1,0-2-2-2,0-1,0-2-1,0,0-1-1-4-1,1,0-1-1-1,2,1,1-1,1,0,0,0,1,0-1-1,0,0,0-2-1,0,0,0,1-1,0-1,0-1,1-1,1,0-2-2,1,2,9-12,1-2-1-1,0,0-2-1-1,0,0-1,0,0,0-1-1-1,0-1-2-1-1-1,0,0-1,1,0,0-1-1-1-1-2,2-1-3-3,4-4-1-1-1-2,0-2,1,0-1-1,0-1,0-1,0-1,1,0,4-2,2-1,1,0,0,1,1,0,1,0,0-1,2-1,3-1,3-1,0-1,2,0,4,0,0,1,2,1,0,1,2,0,2,1,2,1,2,1,10,2,0,1,3,2,1,2,6,0-1,1,0,1,2,1,1,0-1-3,1,0,2,0,1,1,1,0,1,1,0,2,1,0,1,4,2,8-1,2,1-1,0,0-1,2,0,0,0-1-1,3-3,5,0,0,0,0,0-1,1,0-1,3,0-1,0,2M141,555l0,0,0-1,0,0M199,519l0,1,1,1,1,1,1,1-10,13-14,10-1,1,0,0-3,1,0-1-2,1-1-1,0,0-2,1-1,1,0,0-1,1,0,0-1,2-3,0,0,0,0,2-2,0-1,0-1-1-1,0-1,0,0,1,0,0,0,1,0,0-1,1-2,1,0-1-1,1-1-1-1-1,2-1,1-1-1-1-4,3-1-1,0,0-2,0-2,1-3-1,1-4,0,0,0,0,0,0,1-2,2-5,1,0,0,1,0,1,0-3,0-2,1,1,0,0,2,1,2,0-2,0-2-1-1-1-1-6,1,1,0,0-1-2,0,0,1-1-1,0,0-1,1,1-2-1,0,0,1,0-1-1,0-2,0-1,0,1,0-1,0,2-1-1,0-2,1,0,2,1,4,0,0-1,1-1,0,0,2-1,2-2,2-1,3,0,1-1,2,0,0-1,0-1,0-1,1-1,0-1,0-2,1-2,2,0,1,1,3,0,0,1,0,0,0,0,1,0,0,0-1,0,0,1,0,2,2-1,0-1-1,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0-1,2,3,0,1,5,0,2,2,2,1,0,0,3,4,3,2,2,0,3-2,1-1,2-1,2-2,0,0,1,2,1-2-2-2-1-1,0,0,0-1,0-1M205,518l-2,0,0,0,0-2-2-2-2-2-2,0,0-1-1,0-1,0-1,1-1,0-2,1-1,1-2-1-1,0-2-1,0-1-2,0-1-1-2,0,0,1-1-1-2-1-1-1,0-1-1,0,1-1-3-1,0-1,0,0,0,0-2-1,0-1-1-2,0,0-1-4,0-5,0-1,1-2,1-2,0,1,3,3,2-1,0,1,0,1,0,0,0,1,0,1,0,1,0,0,1,2,3,3,0,0,1,3,2,1,3,2,0-1,1,1,2,1,2-2,2-1,3,2,0-1,1,0,2,1,1-1-1-4,0-2,0-6-6-2,0-1,0-1-2-1,0,0,0,0,2,1,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,1,3,1,0,0,0,0,2,1,0,0,0,0,0,0,0,0,1,6-1,2,1,4,1,2,0,7,0,1,1,0,0-1-1-8-1-1-1-4,1-1,0,1,0,0,0,1,0,0,0-1,0,0,0,2,0-1,1,3,1,10,1,2M425,568l0-1,0,0-1-1,0,0-1-2-1,1,0,1-1-1-1,1,0,0,0,0-1,1-1,1-1,0,0-1-1,0,1-1,0-1-1,0,0,0,0,0,0,0,0,0,0-1,1-1-1,0,1-1-2-1-1,0,0-1-2-1-1,1,0,0,0,0-2,0-2,2,0-1-1,0,0,0-1,0-1-1-2,1,0-1,0,0-1,0-1,0-1-2,0,0,0,0-13-6,0-5,0-4,0-1-2-1-2-2-1-2-1-1-4-1,0,0-1,1,0,1-2,1-3,1-1,1,0,0-3,3-10-3,0,1,0,1,0,0-1,1-3,0-3,0-4-1-4,1-1-1,2-8-6-4,0,0-4,1-1,2-4-2,0-7-2-2-1-1-6-7,3-7,2-2-4-8-4,0-1-1-1-1,1,0,0-2,0,0-1,0-2,1-1,2,0,0-1,2,1,1,0,1,0,0-1,1,0,0,0,2-6,4-5,6,0-1,0,1,0,1-1,0-1,0,2-1-1,0-1,0,1-1-1,0-1-1,1,0-1-1,0,0,0,0,0,0-1,0,0,0,1-1-1,1,0-1,0,1-1-1-1,0,0,0-2,1-1,0,1,0,0,0-1,0,0,0-2-1,0,1-1-1-7,1,0,0,0,0-2-1-1,1,0-1,0,0,0-1,0-1,0,0,0-1,0,0,2-1,0,0,1,1,2,0,0,1,1,0,1,0,1,0,0,1,1,0,0,1,1-2-1,1-1-1-1-6,1,0,1-2,0,1,1-1-1,0,0-2,1-3-3,0-1-3-2-1-1,0-1,0,0-1-1,0-2,1-1,0,0,0-1,1,0,0,0,1-3,2-1,2-1,1,1,0-2,0,0,1-2,3-1,0-2,2,0,4-2,0,0-1-1,1-1,0-2,0-7-2-6,2-1-6,3-5-1-2-8,1-1,0-2,2-3,0-8,4,0,0-1,1,2,0,0,0,1,1,0,1,0,1,0,0-1,0,0,0,1,0,0,1-1,0,0,1-1,1,1,3,6,7-1,1,1,1-2,0-3,2-2,1-5-1-1,0-1-5-9,1-2-2-1-1-1-1-1-8,1-2,0,0,0,0,0-1,0-1-1,0,0,0,0,2,1,0-1,1,0-2,0-1,0-1,0,1,0-1,0-1,0,0,0,0,0,1,0,0,0-1,0-1,0,0-1-7,0-1,0,0,1,0,0,0,1,0,0,0,1-1,1,1-1,0,1,0-1-1-1,0,1-2,3,2,0,0,0,0,0,0,1,0,0,0-3-2-2,0,0,0-1-1-2,0,2-5,1-2,0-1-1-2,0-1,0,0-1-1,0,1,0-1,0,0,0,0,0,0-1-1,0,0,0,0,0,0-1-1,0,0-1-2,0-1,0,0,0,1-1-1-1-2,1,0-1,0,0-2,1-1,1-2,2-1,0,1,1-1,0-1,1,0,1,0,1,1,2-1,1,1,0,0,0-1,3-1,0,1,4-3,1,0,3-1,2-2,1,0,1,1,0-1,0,1,0-1,0-1,0,0-1,0,0,0,1,0,0,0,1-1-1,0,2-1,0-2,0,0,5-4,2,0-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,1,4,2,5,0,0-1,2,0,0-1,3-1,0,0,0,0,0,0,1,0,1,3,1,0-1-3,1-1,2,4,0,0-1-2,2,0-2-1,0-1,1,0,1,0-1,0,1-1,1,3,0-1,0,0,0-2,1-1,0,0,0,0,3-2,1,1,0-1,0,0,1,0,6-1-1,1,1,0,0,0-1-1,1,0,0,0,0,0,2,0,5-1,2,0,4,2,2,1,0,0,0,0,1,0-1,0,1,0,0,0,0,0,0,0,0,1,0,0,0-1,1,0-1,0,2,0,0,1,0-1-1,1,0,0,0-1,0,1,0-1,0,1,0-1,0,1,0-1-1,1,2,0,1,3,1,2,0,1,1,2,0,2-2-1,0,1,2,0-1,2-1,1,1,0,0,0-1,0,1,0,0,2,0,0,1,1,2,0,10,3,1,1,7,4,5,3,1,1,5,1,3,0,2,2,1,2-2,1-1,0,1,0,2-1,2,5,0,1,0,1,4,3,6,3,1,0,0,0,0,0,10,0,6,0,10,2,5-3,10,0,11-2,5,0,4-1,1,0,4,5,2,5,0,3,0,4-1,0,0-1,1,2,1,6,1,0,3,4,1,1,3,24,0,1-2,1-18,10,0,0,0,0-4,2,22-12,2,0,0,0,0,0,1,1,12,20,0,0,6,3-2,1-1,1,0,0,0,0,0-1,0,0-1,0,0,0-1,1-1,1,0-1,0-1,0,0,0,1M299,503l0,0,0-1,0,1,0-1,0,1-1,0,0,0,0,1,0-1,0,0,0,0-1-1,1,0-1,0,1,0-1,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0-1,1,2,0,0,0,0,1,2-1,0,0-1,0,0-1,1,1,0-1,0,0,0,0,0,0-1,0,0-1,0,0M301,500l0,1,0,0-2,0,1,1,0,0,0,0,0-1,1,0-1,1,1,0,0-1,0,0,0-1M299,510l-1,1,1,0-1,0,1,0,0-1M301,502l0,0-1,1,1,0,0-1M293,507l0,0,0,0,0,0,0,0M299,502l0,0,0,0,0,0M298,502l0,0,0,0M298,501l1,0-1,0,0,0M300,503l0,1,0,0,0-1M289,509l0,1,1,0,0-1M286,508l0,0,0,1,0-1M300,500l0,1,0,0,0,0M300,503l0,0,0,0,0,0M300,503l0,0,0,0-1,0M298,501l0,0,0,1M291,509l0,0,0,0,0,0M301,500l0,0,0,0,0,0M300,502l0,0,0,0M300,500l0,0,0,0M297,503l0,0,0,0M300,503l0,0,0,0,0,0M285,501l0,1,0,0,0,0M414,541l0,0,0,0-1,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0M427,570l1-1-1,0,1,0M426,571l0-1,0,0,0,0,1,0,0,0M425,572l0,0-1,0M424,573l0-1,0,0,0,1M422,575l0,0,0-1,0,0,0,1,0,0M423,581l0,0,1-1,0-1,0-1-2,0,1,0,1,0,0,0,1,1-1,1-1,1M420,584l1,0-1,0,0-2,1,2,0,0M420,586l-1,0,0,0,1,0M419,588l1,0,0,0,0-1,0,1,0,0M416,588l0,0,0,0,0,0M416,588l0,0,0,0,0,0M416,589l0,0,0-1,0,1,0,0M416,590l0,0,0-1,0,1,0,0M415,592l0,0,1-2-1,2M415,593l0,0,0,0,0,0M416,597l0-1-2-1,2,1,0,0M410,612l0,0,0,0-1-1,0,0,0,0,0,0,0,0,0,0,0-1,0,0,0,0,0,0,0,0,0-1,0,0,1,0,0-1,0,0,0,0,0,0,0,0,0,0,1,0,0-2,0,0,0,0,0,0,1,0,1-1,0-1,1,0,0,0,0,0,0-1,0,0,1,0,0-1,0,0,0,0,0,0,0-1,0-1,0-1,0,0,0,0,0,0,0-1,0,0,1,0,0,0,0,0,0,0,0-1-1,2,0,1,0,1,0,1,0,0-1,1,0,1-1,1-1,1-1,0,0,2-1,0,0,0,0,0-1,1,0,1,0,0,0,1M409,622l1-1-1-2,0,0,1,0,0-1,0,0,0,0,0,0,0-1,2-2,0,0,0-1,0,0,0,0,0,0,0-1,1,0,0,0,0,0,0,0,1,0,0,0,0-1,0,0,0-1-2-1,2,1,0,1,0,0,0,1,0,0-1,0-1,0,0,1,0,1-2,3-1,1,1,2-1,1,0,0,0,0M408,622l0,0,0,0M405,622l0,0,0,0,0,0M405,624l0-1,0,0,0,0M403,627l0,0,0-1,0,1M403,628l0,0,0,0M402,628l1,0,0,1,1,2-1-1M405,643l-1,0-1,0,0-1-1,0,0,0-1,0-2-1,1,0-1-1,0,0,0-1-1-2,0,0,0,0,0,0,0-1,0,0-1-1,1,0-1-1,1-1,0,0,0,0,0,0,0-1,0,0,1-1-1-1,1-1,0,0,3-1,0,0,2,4,0-1,0,0,0,0,1,1,0,0-1,0,1,0,0,2,1,3-1,0,0,2,0-1,0,1,0,0,0,2M404,655l0,0,0,0-1,0,0,0,0,0,0-1,1,0,0,0,0-1,1,0,0-1,0,0,1-2,0-1,0,0-1-1,0,0,0-1,0-1,0,0,0,0,0-1,0-2,0,0,0,0,0,3,0,1,1,2,0,0,0,1-1,2,0,0-1,1-1,1,0,1M404,655l0,0,0,0,0,0M404,655l0,0,0,0,0,0M456,409l0,0,0,0-1,1,0,1-1,1-1,1-1,0,0-1-2,1,0,1-1,1-2,1-1,0-2-1-1-1-3,3,2,2-1,0-1,0,0,0,1,1-1,0,2,0,3,3-1,0,1,1-1,1,0,0,0,0,0,1,1,0,0,0,1,0,0,0,0,0-1,1,1,1-1,0,2,1-1,1-1,2-1,0-3,2,0,0,0,2,0,0,3,0,3,0,1,1,4,2,0,1,1,0,0,1,0,0,0,0,1,0,0,1-2,0,0,0-1,1,1,2,0,1,0,1,0,0,0,2,0,0,0,1,1,1-1,0,6,2,0,0,1,0,0,1,1-1,0,1,2,1,0-1,2,1,0,1,0,0-1,1,0,0,0,1-1,4-1,1,0,0,0,1-1,2,5,3,1,3,2,2,2,1,2,6,4,3,1,3,1,2-1,3,1,1,1,3,0,1-1,3,1,2-1,0,0,3-2,7,1,0,2,0-1,3,0,0,0,0,1,6-5,5,1,1-4,0,0,1-1,2,0,1-1,1,0,1-1,2-2,3-1,2-5,6-2,2,2,4-2,0-1,0,1,9,1,2,3,1,0-1,1,0,1-1,1-1,6-3,2,2-6,3,5,3-2,2,0,0-2,0-2,1-1,0,0,1,0,0-1,1-3,1,0,0-1,1,0,0,0,0-1,1,1,0-1,0,0,0,0,0-1,1,0,0-2,1-1,1,1,0-3,3-2,1-1-1,0,1-1,0-2,2-1,2-1,1,0,0,0,0-1,2,0,1-1,0,1,1-1,0,0,1,0,1-1,0,0,1,0,1-1-1-2,1,0-2-2-1-1-4,0,0-3,3-4,0,0,1,2,2,0,1-1,1,1,2,0,1,1,1,1,0,0,1,2,1-1,3-1,2,0,1,2,0,1-1,3-1,2-1,1,1,1,1,2-1,1,1,6-1,0,1-2,4-2,1,2,1,0,1,0,3,3,1,1,1,1-1,1,1-1,1,2,0,1,0,0,0,2,1,1-1,0,1-2,2-1,3,0,1,1,1,0,0,0,0,0,0,0,0,1,1,0,1,0,1,0,0,0,1-1,0,0,0,0,1-1,0,0,3-2,0,0-2-1,0-1,2-4,1,0,1,0,1,0,0,0,1,1,1,0,0,0,1,0,1,0,0,0,1,0,0-1,1-1,1-1,1-2-3-1,1,0,1-1,0,0,1,1,0,1,1,1,1,0,1,2,1,3,2-2,2,1,2-1,0-5,0-1,0,0-1,0,0-2-1-3,1-1,0-1,2-1,0,0-1,0,0,0,0-1,0,0,0-1,0,0,1-2-1,0-3,0-1-2,2-1,0-2,1,0,1-1-2-1,0-1,1-1,0-2,1-2-4-1,1-1-1,0-2-1,0-1,0-3,3,0,1,0,0-1,1-1,0-1-1-1,1,0-1-1,1-1,0,0,1-1,0-1,0,0,0,1-2,1-2,0-3,1-1,0-1,0,0,0-1,0-3-1-4,0-1-1-3,1-6,1-3,1,0,0,1-1,2,1-2,0-1,2-5,2-3,1-4,2-2,0,0-2-2,0-1,0-1,1,0,0-1,0,0,2-4,0-2,3-6,2-5,0,1,0,0,0-2,0,0,0,2,0,0,0-2,0,0,0-1,0,0,1,0-1,1,0,0,1-1,0,0,0,0,0-1,5-9,0,0,4-8,1-1,0-1,0,0,0,0,0,0,1,0,0,0,0,0-1-1,0,0,1-1,1,2,0-1,0,0,0,0,1,0-1,0,1-1,1,0,0,1-1,1,1-1,0-1,0,0,0,0,0,1,2,0,2-1,0,0,1,0,0-2,0,0,1-1-1-1,0,0,0-2-1,0,1,0,2,1,1,0,0-1,0-1,1,0,0-1,1-1,0,0,0,0,0-1,1,1,0-1,0,0,1,0-1,0,0,0,0-1-1-2,0,0,0-1,0,0,1,2,2,0,0,0,1,0,0-1-1-1,0-1,0-1,1-1,2-2-1-1-1,0,0-1,0-1,0,0,0-1,1,0,0,0,1-2,1,0,1-1,1-1,4-3,3-3,0,0,2-4,0-2,0,0,0-1,5-5,1-1,1-1,0-1-1-4,0-1,0-1-1-1,1-1-1,0,1-2,0-3,0-1,1,0,0-2,0-1,2-2,0-2-1-4,0,0,0,0,1-2-1-2-2-2-3-2-1-1-2-2,0-2,0,0,0,0,0-1-1,0-2-1,1,1-3,0,1,0-2-1,0-1,0,0,0,0,0-1,0,0-2-1,1,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,2-2-2,1-1,0,0,1-1-1,0,1,0,0,0,0-1,0,0-1,1-2,1,0-1-1,1,0-1-1,0-1-2-2-1-1-1-2,0,0,0-1-1-1-3-2-1-3-2-2,1-1-1-1,0-1-1-1,0,0,0,0-1-1,1,0,0-1,0,0,0-1-2-1,0-1,1-1,0-1,0,0,0-1,0-1-2-1-1,0-1,0-1-2-1,0,0,1-3-1-2-4,3,2,2,2,1,0,0-1,0,0-1,0,0,0,0-1,0,0-1,0,0,1,0,0,0-1-1,0-1-1,0,0-1-1-3-3-2-1-3-5-3-4-1-6,0-2,1-1,1-1,1-1-1,1,0,0,0-1-1,1,0,0,2-3,0,1,0-1,0,0,3,2,0,0,0,0,0,0,3,0,0,1,0,0,1,0,1-1,1,0,1-1,0-3,1-1,2,1,1,1,2,0,2,3,3,0,1,0,0,0,0,0,0-1,2-1,0-1,1,0,1,0,2-1,3,0M459,410l0-1,0,1M460,411l0,0,0,0M461,411l-1,0,0,0,1,0M461,411l0,0,0,0M461,411l0,0,0,0M462,412l0,0,0,0M464,412l0,0,0,0,0,0M467,412l0,0,0,0M468,412l0,0,0,0,1,0M617,95l0,0,1,3,0,4-2,2,3,2-3,1-2,3,0,1,0,0,0,2-1,2-1,1,1,2,0,1,0,1,3,2-1,7,2,16,1,1-1,2-4,13-11,18-2,4,0,2-3,7-1,19-1,19,0,0-2,3,0,0-1-1-3,0-1-1,0,0-2,0-2-1-1,1-1,0-1,0-2,1-2-1-1,0,0,0-1-2-1,0-1,0-2,0-1-1-2,1-1,0-2-1-3,1-1,0-1-1-1,1-1-1-2,0-1,1-1,0-1,1,0-1,0,0,0,0-2,1-2,3-2,1,0,0,1,1,1,1,0,1-1,6,7,6,0,0-2,1-2-1-2,0-1,2,0,1,0,0-5-1,3,7-1,8,4,2,4,3,3,1,11,0,0,3,1-1,11,4,1,0,2-2,2-5,2-1,0,1,2,5,1,3,1,2,2,4,3,1,0,0,1,0,0,1,0,1,1,4,0,5-2,3,0,2-1,2,0,0,0,1,0,1-1,0,0,0,0,1-1,2-1,2,0,1,1,1-1,1,0,1,1,0,1,4,4,3-1,2-3,1-3,1-2-1-3,1,0,1,0,0,0,1-1,3-2,2,0,1-1,2-6,1-1,1,0,1-3,3,0,0-1,6-1,0-2,2-4,0-9,0,0,5-1,1-1-1,0,1,0,1,0,0,1,1-1,1-2,1-5,1,0,1,0,1-1,2,0,0,0,0,0,0,0,3,3,0,6,3,1,1,1,1,1,0,5,5,0,0,2,1,1,1,0,2,0,2-1,1-2,0,0,1-2,1,0,3,0,0,0,2-2,1,1,0-3,3-2,1,0,1,0,0-2,1-1,1-1,1-3-2,0-1-1,0,0-2-1,1-1-1,0,0-1,0-5,3-1,1-1-1-5,2-3,2-1,1,0,0-1,0,0,0,0,0,0-1-1,0,0,1,0,0-1,0-2,2-1,0-2,1,0,0,0,1,0,1-4,1,0,0-2,0-1-2-1,0,0,0-2,1,0,0-1-1-1-1-1-1,0,1-1-1,0,1-1-1,0,1,0-1-1,0,0,2,0,1,3,2-1,2,1,1-1,0,1,2-1,0-2-1-1,0-2,0-1-1,1,0-1-2-2-1-4,0-2,0,0-3-1,0,0-1-2-1-2,0-1,1-4,0-2,0-1,0-2-1-2-2,0-1,1,0,0-1,0,0-1-1-2-1,0,0-1-1-5,1-1-1,0,1-1,0,0,1,0,0-1,1,2,0,3,1,1,2,0,2,1,1,2,1,0,0,0,1,0,1,0,2-1,0,1,0,0-1-2,0-1-1-5,0-1,0,0-1,0,0,0-3,0-1-1-2-1-1-3,1-1-1-4,0,0-2-1-2-3-2-1-1,0-1,0,0-1-1-2-1-1-1,0-1,0-1,0-1-1-1-1-1,2-2,1,0,3-2,1-1,1-2,0,0,2,0,1,1,2-1,2-1,0,0,0,0,0-1,1,0-1,0,0,1,1-1,0,0,0-1,0,1,0-1,1,0,0,0,2,2,2,0,1-1,1-2,2,0,0-1,0-1,0-1,2,0,2-1,0-1,0-1,0-1,0-1-2-1-1,1-1,1-1-1-1-1,1-1,2-1,1-1,1-1,1-1,1,0,1-2,1-2,5-1,1-4-1,0-1-2-1,0,0,0-1,0-1-2,1-2,0-1,0,0,0,0-1-1,0-1,0,0,0,0,0-1,0-1,1,0,0,0-1,0,0-2,1,0,1,1,2,0,2,0,6-1,16,0,5,0,2,0,2-2,1,0,5-4,1-1,7-6,7-1,9-4,1,0,2-2,1,0,9,0,6,1,2,1,1,0,2,3,1,0,0,1,1,1,0,0-1-1,0-1,1,2,1,0,0,0-5-5-1,0,0-1-3,0,0,0,0,0-2,0,1-1-1,1-3-1,0,0-9,0-1,0-3,2-2,1,0-2-1-4-1-6-1-7-2-6,0-2,1-2,0,0,0,0,0,0,1,0-1-1,1,0,0,1,0-1,1,0,1,2-2-3,0,1-1,0,0,1-1,0,1,0-1,1,0,3,0,0,0,0,0,0,2,6,1,8,1,5,1,4,0,1-1,1-6,2-7,2-3,3-1,0,0,0-1,2-3,2-6,4-2,1-2,1-2,0,0-1,0,0,0,1-4-1-15,1-8,1-2-1-1-1,1-1,0-1,0,0-1-1-1,0-1-1,0,0,0-1,0,0,0-1,0-1,2-2,0-2-1-1,0-2-1,0,0-1-1,0,1,0-1,0-1-2,0,0,0-1-4-3-1-1,0-1,0,0-1-1,1-1-2-5-1-3-1-2,0-2,0-1,1-1-1,0,1-1,0,0,0-1,0-1,0-1-1-1,1-1,0-1,1,0,0-1,1-1,0-1,1-2,1-2,1-3-1,0,0-1,0-1-1-2-2-1,0-1-1-2,0-3,0,0,1-1-1,0-1-1,1,0,0,0-1,0-1-2-1,0-1-2-1,0-1-1,0,0,0-1-1-1-1-1,2-3,1,0-1,0,0,0,1,0,0,0,2,1-1-1-1,0,1-1-1-1,0-1,0,0,0,0,0,0,1-1,0-2,0,0,0-1,1,0,0,1,1-1,0,0,0-1,1,0,1,0,0,0,1,1,1,1,0,1,2,2,1,1-1,0,2,1,1,0,2,1,1-1,2,1,1,0,2,1,0,1,1,0,0,0,2,1,1,0,1,1,1,0,2,1,2,0,2-1,0,0,0-1,2-1,3,0,0,0,1-1,0,0,0,0,2,0,0,0,1,0,0,0,3,1,0-1,0,0-1,0,1,0,0-1,1-1,0-1,0,1,2-3,2-5-2,4-1,1,0,0-2,0,0,0,0,2-1,0,0,0-5,0,0,1-1,0-2-1-2,1-1-1-1,1-1,1,0,0,0,1,0,0-1,1,0,1,0,0-2,0,0,0-1,1-1,0-1-2-3-1-2-2-1,0-1,0-2,0-1,0-1-1-1,0-2,0,1,0-1-1,1-1,0-1-2,0,0,0,0-1-2-2,1-1-2,0,0-1-1,0,0-2,0,0,0-1,1,0-1-2-3-2,0,0,0-1,0,0,0,0,0,1,0-1,0,1,0,0,1-2-2-8,0,0-1,0,0,0,0,0,0-1-4,1-3-1,0-1-1-1-1-1-4-1,0,0,0,0-2,4,0,0-18,6-12,0-1,0,1,1-1,0-1-1-10,0-2,0,0,0,0-1-5-7-2-2,0-1-1,1,1-1-1,0,1,0-1,0,0,0,0,1,0-1,0,0,0-23,10-16,1,0,5-1,1-1,0,0,0,0-1,0,0,0,1-1-1,0,0,0,0,1,0,0,0,0,0-1-1,0,1,1-1,0,0,0,0-1,0,0-4,0,0-1,0,0,0,1-2,0,0-1,1-2-2-1,0,0-2,0-3,2-2-1-1,1-1,1-1,1-3,2-2,0-2-1-3-1,0,0-4-2-4-1-2,1-1,0-3,0-1-1-4-3-1-1,0,0,0,0,0-1,0,0-1,0,0-2,1,0-1,0,2-3,2-1,2,0,1-1,1-2-1-1,0-1,0-1-1-2,0-1,1,0,0-1,0,1,0,0,1-1,0-1,0-2,3-3-2,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0-1,0,1-1-1,1,1-2,1,1-1-1-4,0-1-1-3,1-3,0-1,1-2-1-3,0-2,0,0-1,0,0,0,0,0,0,0-1,0,0,0-1,0-1,1-1,0,1-1-1,0,1,0,0-1,0-1,1,0,0,1,0,0,1-1-1,1,1,1,0,0,0-2,0,1,0,0,1,0,0,0,0,0-1-1,1,0,0,1,0,0,0-1,1,1-2-3,0-1,0-1,0-1-2-3-1,0,1-2,1-2-1,0,3-2,1-1,0-2,1-6,0-3,0,0,0,0,0,0,0-1-1,0,0-1,0,0-1,0,1,0,0,1,1,0,0,1-1-1,0-1,0,0,0,0,1,0,0,1,1,0-1,0,0-1,1,0-2,0,2-1-1,0,2-1,1-1,0-1,0,0-1,0,1,0-1,1,0,1-1,0-1,0,0,1,0,0,0,0,0,0-1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1-1,0,0,0,0,0,0,0,0,0-1,0,0,1,0,2-5,2-3,2-2,3-3,1,0,5-4,4-4,1-2,2-3,3-2,2-1,2,0,6-2,7-2,2,0,3,1,2-1,0-1,2-3,4-2,6-3,0-2,2-1,2-1,10-3,1,0,1,1,6-3,1,0,6-1,5,1,4,0,7-3,0,0,2,1,0,0,1,0-1,0,0,1,1,0,1-1,0,0-1,1,0,0,0-1,0,0,0,0,1,0,1,1,5-2,1,0,5,3,2,3,12-6,3,0,2,0,1-1,12-2,1,1,5-1,5-2,2-2,11-4,8-1,3,2,3,1,2-2,3,1,0,1-2-1,0,0,2,1,0,1-3-1,0,1,2,0,0,1-1,0,0,0,5,1,0-1-2,0,0-2,1,0,2,1,3,2,0,1-1,4,0,3,0,0,2,3-1,1,1,0,0,0,0,2,0,2,1,1,0,1,0,1,0,1,1,2,1,0,2,2,0,1,1,0,2,1-1,1-1-2,0,1-1,0,0,0,0,0,2,1,0,1,0,0,1,0,2,1,1,0,4,1,1,1,3,2,1-1,2,1,5,0,0,2,0,2-1,1,0,1-1,2,2,3,8,4,4,0,0,1,4-1,1,0,0,1,1,0M298,504l-1,0,1-1-1,0,1,1M290,510l0,0,0,0,0,0M298,504l1,0,0,1-1,0M299,505l0,0,0,0,0,0M298,504l0-1,1,0,0,1M299,504l0,0,0,0,0,0M300,502l0-1,0,0,0,1M258,440l-1-2,0,0,0,1,0,1,0,0,0,0-1,1,0-2,0,1,0,1,0,0,0-1,2-6-1,0,0,0,0,1,0,1,0-2-1-4,0-4,0-2,0-1,0,0,1,1,0,0-1,1,0,1,1-1,0,0,0,0,0,1,0-1,1,1,0,0,1-1-1,0,0,0,1,0,0,0-1,0-1-1,2,0,0-1-1,0,0,1,0-1-1,1,1-1,0,0-1,1,0-1,1-1,0,1,0,0,2-3,0,0,0,0,0,0,0-1,0,0,0,0,1,0,1-1,1,0,0,1,1,0,1,2,1-1,0-1,2,1,1,1,1,0,2,1,0,1,2,1,0,1,0,0-1,1,0,1-1,4-3,2-4,1-1-3,0,1-3,1-2,4-2,1M254,440l-1,1-2,0,0,0-1,1-1-1-1,0-1,1-1,0-2,1-1,0-1,1-2,0-5-2,0-1,0,0-2,0-4,0-1,0-9-5,1,1,0-1-1,1-2-2-4-2,0,0-5-1,0,0-1,0-1-1,0,0-1-3-2-2,2,0-1-2,2-2,1,0,0,1,0,0,1-1,2,0,1-1,3-1,1,0,1-1,2-1,2,1,4-3,0,0,1,0,1,0,2,0,2-1,0,0,1,1,9,0,3,1,1,1,2-1,1,2,0,1,2,1,0,0,0,1,1-1,2,2,0,0,2,1,2,3,0,4,0,0,0,1,0-1-1,0,1,3,0,1,0,4-1,1M208,421l-2,0-2,0,0,0-2,2-6-3-2,1-3-3,0,0,0-1-2,1-1-1,0,1-1,0,1,0-1,0,0-1,0,1-1,0,1-2-1,0,0,2,0,0-1,0,1-1,0-1-1,1,0,1,0,0,0,0,0-1,0-1-1,0-2-1,0,1-2-2,0-2-3,1,1-1-1-1-2-4-3-4,0-1,0-1,2-2,0-1-2-1-1,0,0,2,0,0-1-1-1-1-1,0-2-2,0,0-3-8,0-2,3-4,3-1,3,1,1-1,1,0,0,0,0,1,4,2,1,0,0,0,1,1,0,0,0,1,0,0-1,0,0,0,0,0,0,0,0-1-1,0,0,1,0-1-1,0-1,0-8-3-4,6,1,1,3-5,0,4-2,4,0,0,3-4,1,0,1,0-1-1,1,0-1,0-1-1,0-1,1-1,6,2,0,1-1,0-2-1,0,1,0,0,0-1-1,0,1,1,0,0,0,1,6-1,0,2-5,1,0,1,0,0,5-1,0,0-1,2-4,1-1-3,0,0,0,1,0,0,1,3,0,0,2,0-1-1,5-1-1,0,0,1,1-1,2,0,7,2,2,1,1,0,1,2,6,4,1,3,1,2,1,1,4,2,9,0-1,0,1,0,0,1,1,0-1,1,1,0-1,0,0,1,1-1,1,1,2,2,0,0,2,0,1,2,1,1-3,2-2,0-7,2-1,1-2,0M216,408l-1-2,0,0,0,0-1-3,0-1,2-1,0,1,0,0,0,0,0,0,1,0,0,1-1,1,0,0,1-1,0,0,0,2,0-1,0,0,0-2-1-1,3,0,0,1-1,1,0,0,1,0,2,0,0,0,1,0-1,0-1-1,0-1,0,0,2,0-1,0,1,0,0,0,1,0,1,1,0,1,0-1,0,1,0-1,0,1,1,0,0,1,0,0-2,0,0,1,2-1,1,1,0-1,2,1,0,0-2-1,0-1,2,1,0,0-3-1,0-1,0,0,2,1,0-1-2-1-1,0,1,0,0,0,1,1,0-1-1,0,0,0,1-1,0,2,1-1,0,0-1,0,0-1,0,0,0,0,1,0,0,1,1-1,0,0,1,0,0,0,0,0,0,0-1,1,0,0,1,0,1,0,0,0-2,1,0,0,2,0,0,0-2,1,1,0,1,0-1,1,0,0,0,0,1,0-1,0,3,1,0-1-1,0,0,0,1,0,0-1-1,0,1,0,0,0-2-1,1,0,0,0,2,0,0,0-2-1,0,0,2,0-3,0,0-1,1,1,1,0,0,0,0-1,1,0,0,1,0-1,1,0,1,1,3-1,0,0-1,0,1,0,0,0-3,1-1-1,1,0,0,0,0-1,3,0-1,0-1,0,0,0,1-1,1,0-1,0,1-1,1,2-1-1,0-1,0,0,1-1,0,1,0,0,1,0,0,2,0-1,0,1,0,0,1,2,1,0,2,0,1-2,4,1,2,2,3,0,0,1,2,3,1,1,0,1,1,1,0,1,1,0,0,0,1,1,0,2,0,0,1,2,0,2,0,1-2,2-1,0-1,1-1,0,0-1-2,0,0,0-2,1-1,0,0-1-2,0-1-1-1-1,0-1,0-1,0,0-2-1-3,0,0-1-2,0-1-1-2,0-3,2-3-2-1,0-3-1-1,0-1,0,0,0-2,1-1-1,0,1-4-2-2-2,1,0M323,374l0,0,1,0-1,1M323,375l1-4,0-2,0,0,5,5,6,2,19,9-1,1-7-1-1-2-1-1-2-1-2,1,0,1-1,1-3,1-5-2-1,0,0-1-1-3-1-1-2-1-1-1-1,0,0,0-1,0M353,385l-1,0,0-1,1,1M353,385l-18-9-5-1-2-1-3-4-1-2-1-2,0,0,0,0-3-6-1-4,2,1-2-2,0,0,1,0-1-1,0-1,0,0,0,0,0-1,0-1-3-3-2-1-6-6,0-1-1-3,1-2,3-20,0-1,0,1,0-1,0-6,0,0,0,0,0-5-1-2,2,0-1,0,0,0-1,0-2-1,1,0,1-1,0,0-2,0-3-3-1,0-1,0,0,0,1,0,0,0,0-1-1,0,0,0,0,1,0-1-1-1,0-3,0,0,1,0,0,0,2,2-1,0,1,2,1-1,1,0-1,1,0,0,1,0,2,2,1-1,0,1,0,0,0,1-1,1-1-2-2-1,0,0,1,0-1-1-1,1,0-1,0,0-1,0,1-1-1,0,0-1-2,0,0,1,1,0,0,0,0,0,0,1,1,0,1,1,1,0,0,1,2,1,0,1,1,0,1,0,1,1,1,0,0,1,0,0,2,0,2-1,1,1,1,1,0-1,0,0,1-1,2,0,2,2,2,0,1,2,1-1,0,0,1,1-1,0,0,1,1-1,0,0,1,2,0,0,0,0-1,0,0,1,1,0,0,0,0,0,0,0,1,0-1,0,0,0,0,0,0-1,0,1,0-1,0,0,1,1,0,1,2,0,1,0,2-1,7-1,0,0,0,0,0,1,0,0,0,1-1,0,1,0,0-1,0,0,0-1,0,1,1-1-1,1,1,0,0-1,0-1,0,1,1,2,1,0,0-1,0,1,1,0,3,2,1-1,0,0,1,0,0,0,0,0,1-1,0,1-3,1,0,1,0,0,1,3,1,0,1,1,1,0,1,0,1,1,2,0,1,0,0,0,0,1,1-1,1,1,0,0,0,1,0,0,0-1,0,1,0,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0-1,0,0,0,1-1-1,1,1,0,0,1,2,1,2,1,3-2,4-1,0-1,0,1,0-1,1,0-1,0,1,0,0,0,0,0,0,1,2-2,2,0,4,0,0,0,0,0,0,0,1,0-1,0,0,0,0-1,1,0-1,0,1,0,0,0,0-1,1-1,0,0,0,0,0,0,0-1,0,0,1-2,1-4,0-1,0,0,0,0,0-1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1-2,2-1,1-1,1-1,2-2,0-1,0,0,0,0,0-1,1,1-1,0,1,0,0,0,0-1,1,1-1-1-1,0,1,0-1,0,0,0,1,0-1-1,2,1,0,0,0-1,0,0,0,0,1,0,0,0,0-1,0,0,0,0,0,0,2,0,0,0,4-3,2,0,0-1,2,0,0-1,1,0,2-1,0-1,0,0,1,0,0,0,0,0,0,0,2-2,8-7,2-3,0-1-1-1,0,0,1,1,1,0,0,1,0-1-1-1,1-3,0,1-1,1,0,0,0,1,1,0-1,0,2-1,0,1,0-1,0,0,1-2,0,0,0,0,0,0,0-1,1,0-1,0,0-1,1-3,0,0,0,0,0-1,1-1,0,0,0-1,1-2,0-1,0,0,0-1,0,0,2,0,1,1,1-2,2,1,1,0,1,0,4-1,0,1,1,2,0,0,1,1,1,0,4-3,1,0,0,0,0,2,1,0,1,2,2,0,2,1,0,1,0,1,2,3,1,1,1,2,0,0,0,2,0,2-1,1,0,1,1,0,0,0,2,0,0,4-1,1,1,3-1,3-2,2-1,2,0,1,1,0,0,2,1,2,2,1,0,1-1,4,0,1,0,1,1,2-1,1,1,1,1,0,0,1-1,0,0,1,1,0,0,3,2,1,0,2,1,0,1,2,1,0,1,1,1,1,1,0-1,1-2,1,1,3,2-1-2,1,1,1-1,2,1,1-1,0,0,0-1,2,1,0,0,1,0,0,0,1,1,1,0,0-1,1,1,0,2,0,0,1,0,1,1,1,0,1,1,2,0,1,1,2-1,2-1,2,0,0,1,1,0,0,0,1,0,2,0,1-1,2-1,1-1,1-1,1,0,0,0,1-1,1-1,0,0,0-3,4-1,3,0,0,0,1,0,1,0,1-2-1-3,3,0,0-2,0-2,1,0,1,0,0,0,0,0,1-1,1-1,1-2,0-2,0-1,2,0,0-2,3-3,0-1,2-1,1-1-2-2,0-4-3-1,0-2,1-6,0-4,2-7,0,1-1-1,0-7,2-4,0-3,1-3,3-1,0-1,0-1-1-1,0,0,1-5-2-3-2-2-1-1-2-6-2-1-2-1,0-4,1-2,1,0,1-2,1-2,1-3-1-2,0-1,1,0,1-1,1M440,256l-1,1-3,0-2,0-1-1-2,1-1,0-1-2,0-1-1,1,1-1-1,0,0,0,0-1-1,0,0,0,1,0,0-1,0-1-1,0,0-1-1-1,0-1,0,0-1-2,0-1,1,0,3,0,0,1,1,0,0,0-1,0,0-1,2,1-1,1,1,0-1,1,0-1,0,1,1-1,1-1,1,1,2,1,0,1,1,0,1,2,0,0,0,0,0,1,1,2M425,243l0-3,1-1-1-1,1,0,2,0,4-2,3,1,2,1,5-2,0-1,0,0,4,1,0-1,1,0-1-1,3-2,0,0,1,1,2,0,1,1,0,0,0,0,0,0,4,0,1,1,0,1,0,1,1,0,1,2,0,1-1,0,0,2,2,1-1,1,1,0,0,0,0,0,0,0,0,1,0-1,1,1-1,0,1,0,0,0,0,1,0,0-1,0,1,2-1,2,0,0-2,2-1,2,0,2-1,1,1,0-1,0,0,1-1,2,0-1,0,1,0,0-1,2-1-1-2-2-1-1,0-2-3,0-2,1-3,0,0-1,0-2-2,0-1,0-1-1-1-2-2-2,1-1-1,0-1-1-1,0-3-3-1,0-2,0-2,0M430,563l0,0-1-1,0,1,1,0-3-1,0,0-12-21-1-1,0,0,0,0,0-1-2-11,0,0,0-4,0-1,0,0,0,0-1-7,0-1,0,0,0,0,0-1,0,0-2-1,0,0-2-2,0-1,0,0-1,0-1-7,0-4,0-2-2-7-4-5,0,1-1-1,0-1,0-1-9-11-8-7,2-1,0,0-2,0-8-6-8-3-4-5-2-3-1-2-2-4-1-3,0-2,0,0,1-1,0-1,3-2,0-1,0-2,1-4,2-2,1,0,0-1,1-1,1,0,0,0,1-1,1,0,0,0,3,1,3,0,0,1,0,1,0,0,1,0,0,0,1,0,1,0,0-1,0-3-1-1,1,0,0-1,1-1,2,1,2,2,2,1,1,0,1,1,1-1-1-2,1-1,0,0,1,0,0,0,0,1,1,1,3,1,0,0,0-2,0,0,1-1,2,1,3,1,1,1,1,2,0,1,3,2,2,0,1,0-2,2-1,2,1,2,1,1,1,0,3-2,1-1,1,1,1,1,0,0,1,1,3,2,3,0,6-2,3,0,0,0-1,1,0-1-2,1-1,0-1,1-1-1-1,1,0,0,2,1,0,1,1,0-1,2,0,0,0,0,1,0,0,0,0,0,0,1,1-1,0-1,1-1,1,1,0-1,0,0-1,0,0-1,0-1,0,1,0,1,0,0-1-1,0-1-1,0-1,0,1,0,0,0,1-1,0,1,1,0,0-1,1,0,0,1,0,0,0,1,0,0,1,1,0,0,0,0,1,0,0,0,0-1,0,0,0,0,1,0,0-1-2,0,0-1,1,0-1,0,0-1,2,0,1,1,1,1,1,5,1,1,2,2,1,0,1,1,1,0,1,0,1,1-1,0,1,1,0,2,2,0-2,0,0,1,0,2,0,1,0,2,2,0-2,1,0,1,2,0,0,1,0,1,1,0,0,0-1,1,1,1,0-1,1,2,1,1,0,0,1,2,3,4,1,0,1,1,0,1-1,0,1,1,1,1,1,2,0,2-1,1,1,1,1,1,2,0,0,0,0,1,2,0,0,1,1,0,0,1-1,0,1,1-1,1,0,1,0,2,1,0,0,0,1,0,0,1,2,0,0,0-1,0,2-1-1,1,1,0,1,0,2,2,3,0,1,1,1,1,0,1-1,0,0,0,1,0,0,3,0,1,0,2,0,1-1,0-1,3,0,2,0,1,0,2,0,1,0,1-1,1,0,2,0,2,1-1,0,1,0,0,0,0-1,1,1,1-1-1,1-1,2,3-1,2-3,3-4,4,0,1,0,0,0,1-3,6-1,1,0,0-6,4-2,1,1,0-1,1,0,0-1,1-1,1-1,1-1,1,1,0-1,2,0,1-1,2,0,0,0,0-1,1,0,0,0,0-1,0,1,0,0,0,0,0,0,1,0-1-1,0,0,1-1,0,1,0,0,0,0,0,0,1-2-1-1,1-1,1,1,1,0,1,0,0,0,0-3,4-2,3-1,0-1,1-1,0,0,1,0,0,0-1-1,0,1,0,0-1-1,0,0,0,0,0-1-1,0,0,0,0,0,1,1,0-1,1,1,0,0,0,0,0,1,0-1,0M423,410l-2,4,0,1,0,1,1,6,3,4,2,5-2,0-1,1-1-1-1,1-4,1-2-1-1-1-1,0,1-1-1,0-2,0-1-2-4-1-1-1,0-2,0,0,0-1-2,0-2,1-2-1,0-2,0-1,0-1-1-1-1-1-1,0-1,0,0,1,0-1-5-1-3,0,1-1-1-1-1-1-2,0-1,1-1,1,0,2,1,1-1,0-2,0-2-3-1-1-3,2,0,1-1,1-1,1-1,0-2,1-3-3-1-1-1,0,0,0,1,1-1,0-1,1-1,0,0,1-1,1-1,2-1,0,0,0-1,0-1,1,0-1,3-1,1-3,4-5,1,0,0-2,0,0,0,0,1-2,2-1-1-1,0,0,2-2,3-1,0,0,1,0,1,0,2-1,2,0,1,0,1,0,3,0,4-2,1,1,0-1,0,0,2,0,2,0,2,2,2-1,1,1,1,0,1-1,1-1,0,1,1,0,4,1,2,2,3-1,0,1,5,1,3,2,1,0,1,1,1,0,0,0M285,446l-1-3,2-1,1,0,0,1,0,0,0,0,0-1,0,0,1,0,0,1,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0-2,1,0,0,0,0-2,1,0,0,0,1,0,0M291,440l0-1-1,0,0-1-1,0-1-1-1,0,1-2,0-1,0,0,0-1,1-2,0-1,0-1,2-2,0-2,0-1,0-2,0,0,0,0,0-1,1-1,0-1,2,0,2-1,2-1,1,0,1,0,0,0,0,1,0,0,2,0,1,1,1,0,5-1,0,1,2,3,2,1,2,1-1,1,2,1,2,1,2,1,1-1,1-1,2,1,1,2,1,1,1,3-1,2-1,1-4,2-2,1-2,2-2,1-2,0-3,0-8-3-3,1-3,0,0,0-2,1,0-1-1,0M316,424l-1-1,0-1,1,0,0-2,2-1,1-1,1-1,1,1,1,0,0,0,1,1,3,1,0,0,1,0,3,0,2,0,2,0,1,1,0,0,2,1,1-1,3-1,0,0,0,0,1-1,0,0,0,1,0-1,1,0,1,0,0,0,3-1,1,1,0,1-1,0,1,1,1,1,2-1,2-2,0,0,2,2,1,1,1,1,1,0,0,0,0,0-1,0,0,0,0,0-1,0-2,0-1,1,0,1,1,2,1,1,1,0,0,0,0,1,0,2,0,1-4,3-5-1,0,0-1,0,0,1,0,0-1,1-1,0-1,0-2-1-1,0-2,0-1-1,0,1-1,0-1-1-1,1,0,0-3-1,0,0,1-1,0,0,1,0,1,2,0,0,1-1,0-1,0-1-1,0-1-1-1,0-2,1-1-1,0-1,0,0,0-1-2,0-1-2-1,0,0-1,0-2-1-1-1,0-1,1-1,1-1,1-2,0-1-1-1-1M325,437l1,0,1,0,0,0,0,0,1,0,0,0,2-1,1,0,3,0,0,0,1,1,4-1,2,0,1,2,1,0,1,0,0,0,3-1-1-1,2,0,0,1,1,0,2,0,1,0,2-1,1,2,1,3,2,4,1,2,1,2-1,0,2,1,5,5,8,3,6,6,2,1-1,1,0-1-1,0,1,1,0,0,1-1,7,6,8,12,1,3-4,1-5,0-1,0-11,2-10,0-4,3-10-2-6,0-11,0-6-3-4-4-3-8-1-1,1,0,1-2,0,0,0,0-1,2-1,0-1-1-1-1-2,1-6-2-13-8-11-3-1,0,0-1,0,0,0,1-1-1,0-1,0,0,0,1,0,0,0-2,1-1-1,1,0,0,0,1,1-6-1-3,0-1,1,1,0,0,1,0,0,0-1,0-1-1,0,0,1-1,0,0,1-1,1,0-1,1,1,0-1,0,2-1,0,0,0,0,0,0,0-1,0,0,0-1-2-2,1-1,3,0,1,0,0,1,1,0,1,0,1,0,0,0-1,0,6-1,4,0,3,2,2,0,6,0,2-1,0,0,0,0,3-3M411,515l0,0,0,0,0,0M411,515l0,0,0,0M411,515l0,0,0,0,0,0,0,0M411,515l0,0,0,0M411,515l0-1,0,0,0,0M411,514l0,0,0,0,0,0M411,514l0,0,0,0,0,0,0,0M411,514l0,0,0,0,0,0M411,514l0,0,0,0,0,0M411,515l0,0,0,0,0,0,0,0M411,515l0,0,0,0,0,0M411,515l0,0,0,1,0-1M403,546l0,0,0,0,0,0M407,510l0,0,0,0,0,0M289,445l0,0,0,0,0,0M289,445l0,1,0,0,0-1M289,445l0,0,0,0,0,0M307,468l0,0,0,0,0,0M289,445l0,1,0-1M337,490l0,0,0,0,0,0M379,463l0,0,1,0,0,0M313,472l0,0,0,0,0,0M429,563l0,0-1,0,0,0M358,425l1,0-1,2,0,0-3-2,2,0M428,436l-1,0,0,0,1,0-1,0M427,436l0,0,0,0,0,0M427,436l0,0,0,0,0,0M427,436l0,0,0-1,0,0M426,433l1,0,0,1,0,0-1,0,0-1,0,0M405,427l0,0,1,2,0,0-1,1-1,0,0-1,0-2M327,379l1,1-1,0,0-2M291,392l6-2,1-1,1-1,1-1,1-1,1,1,3,0,0-1,3-3,2,0,0,2,1,0,2,0,1,0,1-2,2-1,1-2,1-1,0-1,1,1,1-1,1,0,0,0,0,0,1,0,3,1,1,1,0,1,1,0,0,1,1,2,1,1,2,1,0,0,0,0,1,0,0,0,3,1,1,0,2,0,0,0,1-1,0-1,1-1,2,0,1,1,3,2,4,0,1,1,0,0,1,0,2,0,2-1,4,2,8,7,0,1,0,0,0,1,0-1,1,0,1,0,1,4-2,2,0,0-1,1-3,2,0,1,1,1-1,1,0,1-2,2-2,1-1,2,0,2-1,1-1,1-2,1-1,0,1-2-1-1,0,0-2,0-1-1-4,1,0-1-1-1-1,1-1,0-1,0-1,0-1,1-3,1-1,1-1,1,0,0-1-1,0-1-1-2-3,1-1,1-2,0-1,0-2,0,0,0-1,0-1,0-1-2-1,0-2,0-2,0-2,0-2,2,0,0,0,0-1,0,0,0,0-1-1,0-1,1,0,0-1,0-3-2-2,0,0,0-1,0-1,1,0,0-1-1,1,0,0,0,0,0-1,0,0,0-1,0,0,0,0,0,0,0-1,0-2-1,0-1,0,0-1,0,0,1-1,1-1,0,0-1,0,0,0,0,0,1-1,0-2,1-1,1-1,0,0,0-1,0,0,0,0,0,0,0-2,0,0,0,0,0-1,0-2,0-2,0-2,0,0,0,0,0-2,0,0,1-2-1,0,1-1,0-1-1,0,0,1,0-1-1-1,1,0,0,0-1,0,0-2,0-1-1-2,0-1,0,0,0-1,1-1,0-2,1,0-1,0,0-1,1-1-1,0-2,1,0,0-1,1-1,0,0-2-1,0-1-1-1,0,0,0-1,0,0-2-1,0,0-2-2,0,0-1-2,1,0-1-1,1-1,3,1,2,0,5-2,2,0,2-1,2-1,0-1,2-1,1,0,2,0,1-1,3-1,1-1,1-1,1-1,1-1,2,0,1,1,1,0-1,0,1,0,0,0,1,0M291,392l0,0,0,0M279,424l0,0,2-1,0,1-1,0,0,1,0,2-1,0,0,0,0-2,0,0M281,424l1,0,0-1,1,1,0,0,2,0-1,1-1,1,0-2,0,0-1,2-1,0,0,1-1,0,1-1,0-1M290,423l0,0-1,0,0-1,2-1,0,1-1,0M282,431l1-1,0,1,0,0M289,428l0,0,0-1,0-1,1,0,0,1M284,431l0-1,1-1,0,0,0,1,0,1-1,0M278,432l-1,1,0,1-1,0-1-2,1,0,0,0,1-1M286,429l1-1,1,0,0,2-1,2-1,0,0-1M278,437l-1,2-1,0-1,0,0-1,0,0,1-2,2-1,1,1,0,0M285,438l0,1-1,1-1,1-2-1-2,0-1-1,0,0,4-1M271,420l0,0,1,0-1,1-2-1,1,0M259,420l0,0,0,0M228,415l0,0,0,0-1,0,0,1,0,0-3-1,0-1,3,0,1,0M372,400l-1-1,0,0,1,1M372,400l-1-3-1-1-9-7-4-2,1-1,3,0,0-1,2,1,2-1,1,1,1-1,3-3,1,0,0-1,1,1,2,0,4,1,2,1,1,1,2,1,4,3,4,0,1,1,0,0,0,1,0,0,1,0,2,1,1,0,2-1,2-1,1,0,2-2,2-1,2,0,7-1,1,0,1,1,3,0,3-2,1-1,2,0,7,1,1-2,2,1,2,1,1,1,1,3,1,3,0,0,0,0,1,3,0,0,1,0,1,1,0,1,2,2,0,0,1,0,2,0,0,1,0,1,2,0,1,1-3,1-1,2-1,1-2-1-2,2-1,0-1,0-1-3-2,0-2-1,0,0-2,0-1,2,0,1,0,1-1,1-1,1-2,1-2-2,0-1-1-1-1,0-1-1-2,1-3-2-2-1-1,0,0,0-1,0-2-1-1,0-3-1-2-1-2,0-2-2-2,0-4,2-1-1-2-2-3,0-3,2-1,0-1,0-1,0-1,0,0,0,0,0-1,0,0,0,0,0-1,0-4,1-1-1-4,2M358,388l0-1,0,1,0,0M358,388l0-1,0,1,0,0M432,568l0,0,0,0-1,1,0,0-3,7-6,11-2,4-1,1,0,0,1,0-1,3-1,3-2,3-1,2-2,6,0,1,1,1,0,0,0,1,0,0,0,1-1,1-1,3,0,1-2,3-4,7,0,1,0,0,0,0,1-1-1,0,1-1,0-1,0,1,2-5,0,0,0,0,0,0,1-1,0-1,0,0,0-2,1-1,1,0,1-3,0,0,0,0,1-1,0,0,0-1,0-1-1-1-1,0-1,1,0,0,0-1-1,0,1-1,0-1,0-1,0,0,0,0,0-1,2,1,0-1,1,0,1-2-1-1,1-1,0-2,1-1,1-2-1-1-1-2,0-2,1,0,0-2,0,1,1,0,0,0,1,0,1-1,1-1,0-2,0,0,0-1,0,0,0,1,0,0,1-2-1-2,0-1,1,0,0,0,2,0,1,0,0,0,2-3-1,0,1-1,3-4-1,0,1-1,1-1,0-1,1-1,0-1M403,628l0,0,1-1,1,2,0,0,0,1-1-1M405,624l1-1,0,1,1,0,0,1,0,0-2,0M428,571l1,0,0,0-1,2,0,0-1,1-1,0-1,1,0,1,1,1,0,0,1,0-1,1-3-1-1,0,0-1,0-1,1-1,1,0,1,0,0,0,1-1,0-1,0,0,1,0,0-1,1,1M460,482l-1,1,0-1,0,0,0-2,1,1,0,1-1,0,1,0M454,471l0,0,0,1-1-1,1,0-1,0-1-3,0,0,0-1,0,0,1,1M470,489l0,0-1,0-2-1-1,0,0-1-1,0,0-1,0,0,0,0,0-1,1,0,2,2,2,1,0,1M460,486l0,0-1,0,1-2-1-1,1-1,1,1,0-1,1,0,1,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,0,0,0,0,0,1-1,0M466,375l0,0,0,0,0,0M466,375l0,0,0,0,0,0M459,292l0,0,0,0,0-1,2-2,0-1,1-2,0-1,1-1,1-1-1-2,0-1-1-1,0-1,0,0,3,2,0,1,1,4-1,2-2,4M501,339l0,0,0,0,0,0M480,341l0,0,1,0,0,0M560,321l0,0,0,0,0,0M480,341l0,0,0,0,1,0M542,321l0,1,0,0,1-1M458,258l0,0,0,1,0,0M150,427l0-1-1-1-1-3,0-1,0-1,1-1,0-1,4-2,4,0,5-4,4,0,3-1,1,0,1,0,1,1,1,3,0,0,0,0-1,0,0,0,1,1,0,0,1,1,0,1,1,0-1,0,1,1,0-1,1,0,2,2,2,1,1,1,4,2,1,1,5,2,0,0,1,1,2,1,1-1,0,1,4,4,3,2,1,1-1,0,1,0,1,2,0,1,2,1,2,1,2,0,3,3,1,1,8,0,1-1,1,0,0,2,0,0,1,0,0-1-1,1,1,0-1,1,0-1-1,1,1-1-2-1-8,0,4,3,1,1-1,0,0,0,1,0,0,0,0,2-1,1-2,1-3,1-1,0,0,0-2,0-3,1-5-2-1-1-3-2,0,0,0-1,0,0,0,0,0-1,0,0,0,1,0-1,0,1,0,0,0,0,0-1,0,0,0,0-1,1,1,0,0,1-2,0-1-1-3,0,0-1-2,1,0,1,1,2,1,0,1,0-1,0,0,1-2,0,1-1,0,0-2-2,0,0,0,0,0,1,0-1-1,1,1,0,0,0-1-1-5,1-1,1,0,1-1-1,1,0,1-1,6-1,2-2-1-2-3-1,0-1-3-1-6,0-1,0-1-3,1-1,0-1,0-3-2-4,0-1-1-1-1,0,0-1,1,0,0-2-1,0-1-1-1-2-1-1,0,1-2-2-2,1-2,0,0,0-2,0-3,1,1,0-1,0,0,0-3,0,0,1,0,0,0,0-2-1-1,1-2,1-1,1,0,1,0,0,1,1,0,0-1,0,0,0,1,0-1-1,0,1,0,0,0,0-1,2,0,1,0,0-1,1,1,0,0,0,0-1,1,1-1,0,1,0,1,0-1,1,1,0,0,0-1,1,0,0,0-1,0,0,0,1,0,0,0,0,0,0-1,0,0-1-1,0,0-1,0,1,0-1,0,1,0,0,0,0-1-1-1,0,0,1,0,1-1,0,1,0,0-1,0,0-1,0,0,1,0,0-1,0,0,2,1,0,1,0,1,0,1,0,5-1,0,0,0,0,0,0,1,1-1-1,0,1,1,0,0,0,0,0,0,0,0,0,2,2,0,0,0,1,0,0,1,0-1,0,1,0-1-1,1,0,1,0,3-1,4,1-1,1,1,1-1,0,1,1,1,0,1,1,2,2,1,1,1,3,2,1,2,0,4,2,1,0,0,1,0-1,0,0,0,1,1,0,0,0,0,0,0,0,0,0,1,1,0,0,1,2,0,0-1,0,0,0,0,2-2,1-2,3-2,0-1-1-1,1-2,1,0,1-3,1-2,0,0,0-3,0-3-2,0,0-1-3,0,0-1,2-2,0,0,0-3-1,3-3,1,0,1,0,0,0-1,0,0,0,0,0-1,0-4,3,0-2,0-1,0-1-1-1,0,0-1-2,0-1-2-2-1,0-1,0-3-1,0-1,0-1-1-1-3,0-1,0,0,2,0,0-5,3,0,0-1,0-3,1,0,0,0,1,0,0-2,0-2-2-1-1-1-2,0-2-1-2,1-1,0-2,3-3,1,0,1-1,1-1-1,0-1,1-1-1,1,0,2-1,2,1,4-1,3,0,4,1,1-1,0-1,0,0,0,0,1-2,3-1,1-1M109,503l-1,0,0,0-1-2-1,0-1,0-2-3-5-7-5-3-2-3-1,0,0-1-1,0,0-1,1-2,7-6,7-4,1-1,0,0,4-2,2,0,5,1,1,3-1,1,0,0,2,2,0,1,0,0,1,1,1,0,1,1,1,1,0,0,0,0,1,0-1,1,0,1,0,0,1-1,0,0,1,3,0,0,0,1,0,1,1,0,2,2-1,1,1,0,0,1,2,0,1,0,2-1,1,0,1,0,0-3,0-1-2,1,0-1,0-1,1-1,2-1,1,0,0,0,3,1,2-1,0-1,1-1,1,1,1-1,2,0,0,1,1,1,2,0,3,0,3,0,0-1,1,0,2,0,1,1-1,1,0,0,2,2,2,0,1,0,5,1,1,0,0,1,0,1,0-1,1,0,0,2-1,0,0,0,0,0,0,2,0,8,0,2,1,0,0,0,0,3-1,0,0-1-1,0-1-2-1-1-1-1-2,2-1,0-3,1-1,0,0,0,0,1-1,1,1,1,0,1-1,2,0,0,0,0,0,0-1,2-1,4,0,1-1,0-1,0-1-1-2,0-1,1,0,0-2,0-4,2-1-1-3-3-2-1,0-1,0,0-1,0-2-1-1,1-1,0-1-1-1-3-2-1-3-3-2-1,2-1,2,1,1,1-1,1,0,0,1-1,1,1,1-1-2-1,2-1,0-1-1,1-1,0-1,1-1-2,2-1,0,0,1,0,0,0,1-2-1,0,0,1-1-1-1-1,0,0,1,2-1,0-2,2-1-1,0,1-1,0,0,0,0,0,0,1-1-1,0,0-1,0,0,0-1,1,0,1,0,0,0,0-1,0-1,1,0,1-4,0-1,0,0-2-1,0,0,0,0,1,0,1,0,0,0,0-3,0,1,0M143,529l0-1,0-1,1,3M143,527l0,0,0,0,0,1M201,502l0-1,0,1,0-1,0,1M196,463l0,0-1,2,0,2-1,0-1,1,2,2,0,0,1,1,0,1,2,1,2,3,0,1,1,0,0,1,0,1,0,0,0,3-1,0,0,1-1,1,0,1,0,0,0,1-1,1,0,1-1,0-1,0,0-1-3,0,0,1-1-1,0,0,1,0,0,0-2-2-2,0-1,0-1-1-2,1-2-1-1,0-1,0-2,0,0-1,0,0-1,0,0-1,0,0-1-1,0-1-1-1-1-1-2,0,0-1,0-1,0-1-3-1-1-1-2,0-1-1,0-2,1-1,2,0,1,1,0-1-1,0,1-1,0,1,1-1,1,0,2-1,1,0,1-1,1,0,1-1,1,0,4,0,0,2,1,0,1,1,1,0,2,0,3,0,0-2,2,0,0-2,0,0-1,0,0,0-1,0-1,1-4,0-1-3-1-1-1,0-1-1,0-1,1-1,0,0,2-2,1,0,4,1,1,2,2,0,1,0,1,1,0-1,0-1-3-2-1-2-1,0,0,0,1,0,1,1,0,0,3,2,0,1,1,1-1,3M194,464l-1,0,0,2,0,2,2-1,0-2M191,454l-1,0,1,0,0,0,0,0M191,454l-1,0,0,0,0-1,0,0-2,1,0-1,2,0,0,0,0,0,3,0,1,0,0,0-1,0-1,0-1,0,0,1,0,0M191,453l0,0,0,0,0,0M224,446l1,0,0-1,0,1,0,1-1,0-1,0M225,447l3-2,0,0,0,0,0,0-5,4,0,0,1-1M225,447l1,0,0,0-1,1M225,448l1-1,0,0-1,1M208,433l0,0,2,1,0,0M210,434l0,0,2,0,2,1-1,0,1,0,2,1,2,1,0,1,0,0-2,1,0-1,1,0,0-1-1-1-1,0-1-1-1,0,0,0,0,1,0-1-2-1,0,0M121,470l0-1,3-2,0,1,2,0,2,1,1,1,2-1,1,0,0,0,1-1,2,0,0,0,2,0,1-1,3,0,0-1,1,0,1,1,3-1,0,1,1,0,2,1,1,0,1,1,1,3,1,1,0,0,0,1,0,0,1,1,0,1,0,1,0,0-3,1-1,0-1,2-1,0-2-3-5,1,1,0-2,1-3-1-2,0-4,1-1,2-1,0-1,0,0-3-1,0-1-1,1-2-1,0,0,0-1,2,0,0-2-1,0-2-2-1,1-2M125,464l-1,0,0,0-1,0,0-1,1,1,1,0,0,0,1,0-1,0M125,463l-1,0,0,0,0,0-1-1-1,1,2-1,1-1,0,0,0,0,1-2,0,0,0-1,1,0,0,0-1,1,1,0,1,0-1-1,1,0,1,0,0,0,0,0-1,1,1,0,0,0,0,0,0,0,0,1-1,0,1,1,0,0,1,0,0,0,0-1,1,1,0-1-1-1,1,1-1,2-1-1,0,0-1,0-1,0,1,1-1,1,0-1,0,0-1-1-1,1,1,1,1,0-1,0,0,0-1,0,0,0,0,0M129,457l0,0,0-1,0,0,0-1,1,0,1,0-1,1,1,0,0-1,0,1,0,0,0,0,0,0M129,460l0,0,1,0-1,0,0,0M269,159l2-2,6-1,0,0,1,0,0,0,0,1,0-1,0,1-1-1,1,1-1,0,0,1,2,2-1,0,1,0,0,0,0,0,0,0,0,0-1-2-1-1,0,1,0-1,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0-1,1,1,0-1,0,0,0,0,0,0,0,0,1,0-1-1,0,0,1,0,0,0-1,0,0-1,1,0,1,1-1,2-1,2,0,2,0,0,0,0,0,1,2,4,10,6,4-1,1-1,0,0,1-1,3-1,2-3,0-2,2-1,1,0,1,0,2-1,0,0,1,0-1,1,3-1,2-1,0,0-1,0,1,1,1,0,1,1,0,0-1-1,0,1-1,2,0,0,0,0,1,0,1-1,3,7,1,1,0,1,3,6,1,0-1,1,1,0,0,0,1,1-1,0,1,2-2,16,2,0-1,1-1,0,0,0,1,0,0,0,1,0-1,0,1,0,0-1,0,0,1,2-1,0,1,1,0,2,2,0,0,1,0,0,2,3,2,0,1,0,2-2,0-1,0,0,0,1,1-2,3,0,2,0,4,0,2,1-2,1,2,0,2,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,1,0,1,1,0,1,0,0,0,0,0,1-1,0,0,0,1-1-1,0,0,0,0,1,0,0-1,0,1,0-1,0,1,0,0,0,0,0,0,1-1-1,0,0,0,0-1,1,0,0,1,1-2,1-1,0-1,0,0,0-1,0,1,0-2,0,0,1,0,0,0,2-1,1,0,3-1,1-3,2-1,1,0,1-3,0-3,3-1,0-3,1,0-1,0-1-1-2-3,0-1-1,0,0,0-1-1,1-1-1-1,1,0,0-1,1,1-1-1,0,0,0-1,0,1,0,0,1,0-1-1,1,1,0,0,1,0-1,0,0-1,0,0,0,1,1-1-1,0,0,0-1-1,0-1,1-2,0-1,1-1,2,1,2,0,2,0,0,0,1,0,0,0,0,0,0-1,1,1-1,0,1,1,3,0,0,1,2-1,2,2,1,0,1,2,3,0,1,0,1,1,1,0,1,0,1,1,1,1,0-1,1,0,0,0-1,0,0,1,0-1,1,1,0,1,2-1,1,0,1,0,1,0,0,0,0-1,0,1,0-1,0,0,1-1-1,0,1,0,0,0,0-1,0,0,1,0,1,1,1,1,1-1,1-2-1-1,1-1,0,0,0,1,0-1,1,0,0,0,0,0-1,0,0,0,1,0,1,0-1,1,1,0-1,0,0,0,0,0,1,0,0,1-1,1,0-1,1,0,0,0,1,0,1,0,1,0,1,0,0,2,1,3,0,0,1-1,0,0,1,0-1-1,1,1,0-1,1,0,0,0,1-1,1-1,0-1,0,0,2-2,0-1,1,0,3-2,1,0,0,0,2-1,0-1,0,0-1-1,0,1,0-3,1-1-1,0,1,0-1,0,0-1-1,0,0,0,0,0,0-1,0,0-1,0,1-1,0,0,0,0,0,0-1-1,1,0-1,0,0,0-1-1,0,0,0,1,0-1,1,1,0,0,1-2,0,1,0-1,0,0,0-1,0,0,0,0,0-2,0,0,0,0,0,0,0,0,0-1,0,1,0,0-1,0-1,0,0,1,0,0-1-2,0,0-1,1,1-1-1,0,0,0,0,1-1,0,0,0-1-1-2,0,0,1,2-1,2-1-1,1,1,0,0-1,1,0-1,0,0-1,0,1-1,0,1-1-1,1,0-1,0,0,0,0,0,0,0,0,0-1-1,0,0,0,0,0,0-1-1,0,0-1,0,1-1-2,0,1,0-1-2,1-1-1,2,0,1,0,0-2,0,0,0,1,0,0-1-1,0,1,0,1-1,0,0,0,0-2,1,0,0,0,0-1-2,0,0,0-1,0,1,0,0-1-2-1,1,0,0,0,0,0,0,0,1,0,0,0,0,0-1,0,1,0,1-1,0,0,1-4-1,0-1,0,0,0,0,0,1,0,0-4-1-1,0,1-2-1,0,0,0,0,1,0,1,0,0-4-1,1,0-2-1,0,0-1,0-5-4,0-1,0,0-1,0,0,0,0-1,0,0,0,1,1,0,0-1-1,1,0-1,1,0,0,0,0,0,0,0,0-2,0,1-1-2,0,1,0,0,0,0,1,1-1,2-2-1-2,0,0,0,0-1,0,0-1,0,1,1-1-1,0,1,0,0,0-3-2,0,0,0,1,1,1,1-2,0,1,0,1,1-3-1,0,0,2,1-4-1,1,0,0,0,0,0,2-1-2,0-3,1,0-1,0,0,1-1,0-1,1-1,0,0,0,0-1,1-2,3-2,1,0,0-1-1-1,1,1-1,2,1,2-4,1-3,1-6,1-5,1-1,0-1,1-6,1-11,0,0,1-4-1-1,1-6,0,0,1-2,0-3,0-4,1-3,1-8,4-10,1-7,1-1,0-1,0-1,0,0,0-1,1-1,0-1,1-2,1-6,0-8,0-2,1-3M289,282l-1,0,1,0,0,0M303,290l0,0,0,0,0,0M303,290l0,0,0,0,0,0M303,290l0,0,0,0,0,0,0,0M303,290l0,0-1,0,0,0M302,290l0,0,0,0,0,0M302,290l0,0,1,1-1,0M213,402l0,0,0,1,1,4-8,1-4-2-1-2,3,1,0,0-2-1-2-2,0-1,1,0,1,0,1,1,1-1-3,0-1-1,0-3-1-2,0,0-8-7-3-2,0,0,0,0-1-1-1-1,8,6,5,3,1,1,0,2,1,1,1,0,0,0,5,3,3,1,1,1,0,0-1,0,0,0,0,0,0,0-1,1,0-1,0,0-1-1,0,0,1,2-1,0,0,0,0,0,0,0-1,0,0-1,0-1-1,0,1,2-2,1,1,0-1,0,1,0-1,0,1,0-1,0,1,0-1,1,1,0,0,0,1-1-1,2,1,0,0-2,4-1,0,1-2,1,0,0,2,0,0,0,1,1,0,0,0-1,0-1,0,0,0-2,0,1,0-1,0,0,0,0,1,1,0,0,0-1-1,0,0,0,0,0M181,385l1-1,0,0,4,2-1,0,1,1,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,1,1,0,0-1,0-1,0,0,0-1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,1,1,0-1,0,0,0,1,0,0,0-1,1,1,1,1,0-1,0,1,0,0,0,0,0,0,0,1,1,0,0-1,0,0,0,1,0,0,0,0,0,0,0,0,1,0-1,0,1,0,1,1,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0-1,1,1,0,0,1,1,0,0-1,0,0,0,0,0,0,0,2,0-1,0,1,0,0,0-1,0,0,0,1,1,0,0-1,0,0,0,1,1,0,0-1,0,0,0,1,0-1,0,1,1,5,0-2-1,0,1,1-1-1-5-4-1-1,0-1-1-1-6-3-1,0,0-3,0,0-2-1,0,1,2,0,0,4,3,1,0,0-8-1,0-1,0-1,1,1,1,0-1-1,0,0,1,0-1-1,0-2,1,0,0,0,0-1M226,399l0,0,0,0,0,0M251,402l0,0,0,0,0-1M271,375l0,0,0,0,0,0M266,378l0,0,0,0,0,0M251,271l0,0,0,0,0,0M251,271l-1,0,2,0,1,0M252,271l0,0,2,0,0,0M254,271l-1,0,1,0,0,0M266,280l0,0,0,0,0,0M269,279l0,0,0,0,0,0M268,280l0,0,0,0,0,0M294,286l0,0,0,0,0,0M293,288l0,0,0,0,0,0M267,280l0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0M267,278l0,0,0,0,0,0M292,287l-1,0,0,0,0,0M294,287l0,0,0,0,0-1M263,282l0,0,0,0,0,0M269,278l0,0,0,0,0,0M295,291l0,0,0,0,0,0M268,277l0,1,0,0,0-1M269,278l0,0,0,0,0,0M291,285l1,1,0,0,0,0M288,286l0,0,1,0,0,0M284,279l0-1,0,0,1,1M297,291l0,0,4,0,0,0-2,1M295,290l-1,0,0-2,0,1,0-1,0,0,0,0,0,0,0,0,0-1,0,1,1,1-1-1,0-1,0,0,1,1,0,0,0,1,0,0M286,281l-1,1-1-1-2,0,0,0,1-1,0-1,0,0,0,0,0,0,2,0M248,271l1,0,0,0,0,0M374,317l-8,2-1,0-1,0-11-11-4-2-4-2-5-2-1,0,0-1,0,0,0,0,0,0,0,1-1,0,1,0-1,0,0,0,0-1-1,0,0,0,0,0-2,0-5,1-1,0-1,1,0,0,1-1-2-2-1,0,1,0-1-1,1,0,0-1,0,0,0-4-2-2,0-1,1-1,4-2,1-2,6-4,1,0,1,0,0,0,0,0,0,0,1,0,1-2,3-2,18-12,1-1,6-5,1-1-1,0,0,1,0-1,0,0,0,0,0-2,0-1,1,0-1,0,0,0,1,0,0,0,0-1,0,0,0,0,0,0,0,0,0,0,1,0,1-3,1-1,4,0,1,0,4-5,0,0,0-1,0,0,1,0-1,1,0,0,4-4,1-1,9-2,2-1-1,0,2,2,1,1,14,3,0,1,0,0,0-1,0,1,1,0,6,0,6,7,0,1,0,6-1,5-3,8-2,1-2,4-6,5-4,0-9,5-2,1,0,1,0,0-1,0,0,0,0,1,0,0,0,0-1,0,1,0-1,0-1,0,0,1,0,0,0,1-1,1,0,0-1,1,1-1-1,1,0,0-3,1-3-2-4,4,0,1,1,3,1,0,0,0,0,0,0,0,0,0-1,0,0,1,0,0,0,0,1,0,0,0-1,1,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1-3,9-1,1M385,302l-1,0,0-1,0,0M385,302l0,0-1,0,1,0M412,240l1,0,0,1-1,0-1,0,0-1M307,296l1,1,0,1-1-2M308,298l0,0,1,1,0,0M322,271l0,0,1,0,1,1,3,0,0,0-2,1-1,1-1,1-2,0,0-1,1-1,0,0,0,0,0,0,0,0,0-1M268,146l-1-3,1-2,1-5,1-5,2-4,3-4,4-7,1,0,0,1,2,0-1,1,1,0,2-3,1-1-1,0,0-1,0,0,1,0-1,0,1,1,0-1,0,0,0,0,0-1-1,0,0-1,0,0-1,0,0,0,0,1,0,0,0,0-2,3,1,0-1,0-1,0,1-1,3-6,2-2,2-1,0,0,2,3,1,3,0,1,1,0,1,0,1,2,0,2,0,9,0,2,0,2,0,1-2,1-1,0,0,1-1,1,0,2-1,2,0,1-1,0,0,1,0,0,0,0,0-1,1-1-1,0,0,1,0,0,0,0-1,1,1,0-1,1-2,1-2,0-4,5,1,1-1,0-1,0,0,0-1,0-3-2-2,1,2,1,1,0,0,1,1,1,0-1,1,1-3-1-2,0-3-1-1-1M300,90l-1,0-1,1,1-1,0-1,0,0,3-4,5-3,5-4,5-2,4,1,1,0,0,0-1,2,0,0,0,0-1-1,0,1,0,0-3,0-2,2-2,1-9,4,0,0,1,3-1,0-2,0,0,0,0,1,0-1,0,0,0,0,0,0,0,0,0,0-2,0,0,0,0,1,1,0M334,62l-1-2,1-2,3-1,3-2,4-1,12-3,16-5,3,0,4-1-4,1-9,2,0,0,3,2,0,1-1-1,0,2-1,0,0,1-2,0,0,0-3,1-3,2-1,1-2,2-3,1-1-1-1,1-2,0,0,1-2,0-1,0-2,0-2,2-1-1-2,1,0,0,0,1-1,0,1,1-1,0-3-2M394,45l0-2,1-2,1-1,3,0,5,1,8,0,24-2,1,0,0,1-1,0,1,1-1,0-3,1-1,0,0-1,0,0-6-1,0,1,1,1,0,0,1,1,1,0-2,1-1,0-6,2-4,0,0-1-6,0-1,0-1,1-2,2-3,1-5-1-2-2-1,0M468,34l2-2,1,0,10-1,1,0-7,1,1,1,1,0,0,0,0,0,0,0-2-1-1,0,1,1-1-1,1,1,0,0,0,0,0,0-1-1,0,0,0,0,0,1,0,0,0-1,0,1,0,0,0,0,0,1,0,0,0,0-1,0,1,0,0,1,0,0,1,0,2,0,0,1,0,1-2,1-5,0-1,0-1,0-1-1-1-1,1-1M324,369l0,0,0,0,0,0M414,541l0,0,0,0M236,396l1,0,0,0-1,1,0,0,0,0,0-1,0,0";function is(N){let u,C;return{c(){u=kt("svg"),C=kt("path"),at(C,"d",rs),at(C,"fill",ns),at(u,"id","background-map"),at(u,"class","plot svelte-ya02cv"),at(u,"width",ur),at(u,"height",hr)},m(_,T){Lt(_,u,T),_t(u,C)},p:vt,i:vt,o:vt,d(_){_&&It(u)}}}const ns="#eeeeee";class as extends qt{constructor(u){super(),Vt(this,u,null,is,Yt,{})}}function ss(N,u,C){const _=N.slice();return _[0]=u[C],_[2]=C,_}function os(N){let u;return{c(){u=kt("path"),at(u,"d","M"+(-20+N[2]*10)+",0L"+(21-20+N[2]*10)+",21"),at(u,"stroke","#000")},m(C,_){Lt(C,u,_)},p:vt,d(C){C&&It(u)}}}function ls(N){let u,C,_,T,b=Array(5),x=[];for(let c=0;c<b.length;c+=1)x[c]=os(ss(N,b,c));return{c(){u=kt("g"),C=kt("defs"),_=kt("pattern");for(let c=0;c<x.length;c+=1)x[c].c();T=kt("path"),at(_,"id","arcering"),at(_,"x","10"),at(_,"y","10"),at(_,"width","20"),at(_,"height","20"),at(_,"patternUnits","userSpaceOnUse"),at(T,"d",sa),at(T,"stroke","none"),at(T,"fill","url(#arcering)"),at(u,"id","actual-data")},m(c,p){Lt(c,u,p),_t(u,C),_t(C,_);for(let v=0;v<x.length;v+=1)x[v].m(_,null);_t(u,T)},p:vt,i:vt,o:vt,d(c){c&&It(u),Nn(x,c)}}}class fs extends qt{constructor(u){super(),Vt(this,u,null,ls,Yt,{})}}function us(N,{delay:u=0,duration:C=400,easing:_=Rn}={}){const T=+getComputedStyle(N).opacity;return{delay:u,duration:C,easing:_,css:b=>`opacity: ${b*T}`}}function dn(N,u,C){const _=N.slice();return _[2]=u[C],_[4]=C,_}function pn(N){let u,C=N[0],_=[];for(let T=0;T<C.length;T+=1)_[T]=vn(dn(N,C,T));return{c(){for(let T=0;T<_.length;T+=1)_[T].c();u=Ai()},m(T,b){for(let x=0;x<_.length;x+=1)_[x].m(T,b);Lt(T,u,b)},p(T,b){if(b&3){C=T[0];let x;for(x=0;x<C.length;x+=1){const c=dn(T,C,x);_[x]?(_[x].p(c,b),xt(_[x],1)):(_[x]=vn(c),_[x].c(),xt(_[x],1),_[x].m(u.parentNode,u))}for(;x<_.length;x+=1)_[x].d(1);_.length=C.length}},i(T){for(let b=0;b<C.length;b+=1)xt(_[b])},o:vt,d(T){Nn(_,T),T&&It(u)}}}function vn(N){let u,C,_;return{c(){u=kt("path"),at(u,"d",C=N[2]),at(u,"fill","#000"),at(u,"fill-rule","evenodd"),at(u,"fill-opacity",N[1])},m(T,b){Lt(T,u,b)},p(T,b){b&1&&C!==(C=T[2])&&at(u,"d",C),b&2&&at(u,"fill-opacity",T[1])},i(T){_||Dr(()=>{_=za(u,us,{delay:300+N[4]*60,duration:150}),_.start()})},o:vt,d(T){T&&It(u)}}}function hs(N){let u,C=N[0]&&pn(N);return{c(){u=kt("g"),C&&C.c(),at(u,"id","guesses_others")},m(_,T){Lt(_,u,T),C&&C.m(u,null)},p(_,[T]){_[0]?C?(C.p(_,T),T&1&&xt(C,1)):(C=pn(_),C.c(),xt(C,1),C.m(u,null)):C&&(C.d(1),C=null)},i(_){xt(C)},o:vt,d(_){_&&It(u),C&&C.d()}}}function cs(N,u,C){let _;Sr(N,Q0,b=>C(0,_=b));let T;return N.$$.update=()=>{N.$$.dirty&1&&C(1,T=_?1/_.length:.4)},[_,T]}class ds extends qt{constructor(u){super(),Vt(this,u,cs,hs,Yt,{})}}function ps(N){let u;return{c(){u=kt("path"),at(u,"id","user-answer"),at(u,"d",N[0]),at(u,"fill",xi),at(u,"fill-rule","evenodd")},m(C,_){Lt(C,u,_)},p(C,[_]){_&1&&at(u,"d",C[0])},i:vt,o:vt,d(C){C&&It(u)}}}function vs(N,u,C){let _;return Sr(N,Zr,T=>C(0,_=T)),[_]}class ms extends qt{constructor(u){super(),Vt(this,u,vs,ps,Yt,{})}}var oa={exports:{}};(function(N){var u={},C=!1;N.exports?(N.exports=u,C=!0):typeof document<"u"?window.ClipperLib=u:self.ClipperLib=u;var _;if(C){var T="chrome";_="Netscape"}else{var T=navigator.userAgent.toString().toLowerCase();_=navigator.appName}var b={};T.indexOf("chrome")!=-1&&T.indexOf("chromium")==-1?b.chrome=1:b.chrome=0,T.indexOf("chromium")!=-1?b.chromium=1:b.chromium=0,T.indexOf("safari")!=-1&&T.indexOf("chrome")==-1&&T.indexOf("chromium")==-1?b.safari=1:b.safari=0,T.indexOf("firefox")!=-1?b.firefox=1:b.firefox=0,T.indexOf("firefox/17")!=-1?b.firefox17=1:b.firefox17=0,T.indexOf("firefox/15")!=-1?b.firefox15=1:b.firefox15=0,T.indexOf("firefox/3")!=-1?b.firefox3=1:b.firefox3=0,T.indexOf("opera")!=-1?b.opera=1:b.opera=0,T.indexOf("msie 10")!=-1?b.msie10=1:b.msie10=0,T.indexOf("msie 9")!=-1?b.msie9=1:b.msie9=0,T.indexOf("msie 8")!=-1?b.msie8=1:b.msie8=0,T.indexOf("msie 7")!=-1?b.msie7=1:b.msie7=0,T.indexOf("msie ")!=-1?b.msie=1:b.msie=0,u.biginteger_used=null;var x;function c(r,d,P){u.biginteger_used=1,r!=null&&(typeof r=="number"&&typeof d>"u"?this.fromInt(r):typeof r=="number"?this.fromNumber(r,d,P):d==null&&typeof r!="string"?this.fromString(r,256):this.fromString(r,d))}function p(){return new c(null)}function v(r,d,P,k,$,ae){for(;--ae>=0;){var de=d*this[r++]+P[k]+$;$=Math.floor(de/67108864),P[k++]=de&67108863}return $}function o(r,d,P,k,$,ae){for(var de=d&32767,Ce=d>>15;--ae>=0;){var Be=this[r]&32767,Fe=this[r++]>>15,Ze=Ce*Be+Fe*de;Be=de*Be+((Ze&32767)<<15)+P[k]+($&1073741823),$=(Be>>>30)+(Ze>>>15)+Ce*Fe+($>>>30),P[k++]=Be&1073741823}return $}function s(r,d,P,k,$,ae){for(var de=d&16383,Ce=d>>14;--ae>=0;){var Be=this[r]&16383,Fe=this[r++]>>14,Ze=Ce*Be+Fe*de;Be=de*Be+((Ze&16383)<<14)+P[k]+$,$=(Be>>28)+(Ze>>14)+Ce*Fe,P[k++]=Be&268435455}return $}_=="Microsoft Internet Explorer"?(c.prototype.am=o,x=30):_!="Netscape"?(c.prototype.am=v,x=26):(c.prototype.am=s,x=28),c.prototype.DB=x,c.prototype.DM=(1<<x)-1,c.prototype.DV=1<<x;var i=52;c.prototype.FV=Math.pow(2,i),c.prototype.F1=i-x,c.prototype.F2=2*x-i;var t="0123456789abcdefghijklmnopqrstuvwxyz",e=new Array,l,h;for(l="0".charCodeAt(0),h=0;h<=9;++h)e[l++]=h;for(l="a".charCodeAt(0),h=10;h<36;++h)e[l++]=h;for(l="A".charCodeAt(0),h=10;h<36;++h)e[l++]=h;function n(r){return t.charAt(r)}function f(r,d){var P=e[r.charCodeAt(d)];return P==null?-1:P}function a(r){for(var d=this.t-1;d>=0;--d)r[d]=this[d];r.t=this.t,r.s=this.s}function m(r){this.t=1,this.s=r<0?-1:0,r>0?this[0]=r:r<-1?this[0]=r+this.DV:this.t=0}function g(r){var d=p();return d.fromInt(r),d}function y(r,d){var P;if(d==16)P=4;else if(d==8)P=3;else if(d==256)P=8;else if(d==2)P=1;else if(d==32)P=5;else if(d==4)P=2;else{this.fromRadix(r,d);return}this.t=0,this.s=0;for(var k=r.length,$=!1,ae=0;--k>=0;){var de=P==8?r[k]&255:f(r,k);if(de<0){r.charAt(k)=="-"&&($=!0);continue}$=!1,ae==0?this[this.t++]=de:ae+P>this.DB?(this[this.t-1]|=(de&(1<<this.DB-ae)-1)<<ae,this[this.t++]=de>>this.DB-ae):this[this.t-1]|=de<<ae,ae+=P,ae>=this.DB&&(ae-=this.DB)}P==8&&(r[0]&128)!=0&&(this.s=-1,ae>0&&(this[this.t-1]|=(1<<this.DB-ae)-1<<ae)),this.clamp(),$&&c.ZERO.subTo(this,this)}function E(){for(var r=this.s&this.DM;this.t>0&&this[this.t-1]==r;)--this.t}function S(r){if(this.s<0)return"-"+this.negate().toString(r);var d;if(r==16)d=4;else if(r==8)d=3;else if(r==2)d=1;else if(r==32)d=5;else if(r==4)d=2;else return this.toRadix(r);var P=(1<<d)-1,k,$=!1,ae="",de=this.t,Ce=this.DB-de*this.DB%d;if(de-- >0)for(Ce<this.DB&&(k=this[de]>>Ce)>0&&($=!0,ae=n(k));de>=0;)Ce<d?(k=(this[de]&(1<<Ce)-1)<<d-Ce,k|=this[--de]>>(Ce+=this.DB-d)):(k=this[de]>>(Ce-=d)&P,Ce<=0&&(Ce+=this.DB,--de)),k>0&&($=!0),$&&(ae+=n(k));return $?ae:"0"}function A(){var r=p();return c.ZERO.subTo(this,r),r}function M(){return this.s<0?this.negate():this}function I(r){var d=this.s-r.s;if(d!=0)return d;var P=this.t;if(d=P-r.t,d!=0)return this.s<0?-d:d;for(;--P>=0;)if((d=this[P]-r[P])!=0)return d;return 0}function R(r){var d=1,P;return(P=r>>>16)!=0&&(r=P,d+=16),(P=r>>8)!=0&&(r=P,d+=8),(P=r>>4)!=0&&(r=P,d+=4),(P=r>>2)!=0&&(r=P,d+=2),(P=r>>1)!=0&&(r=P,d+=1),d}function H(){return this.t<=0?0:this.DB*(this.t-1)+R(this[this.t-1]^this.s&this.DM)}function L(r,d){var P;for(P=this.t-1;P>=0;--P)d[P+r]=this[P];for(P=r-1;P>=0;--P)d[P]=0;d.t=this.t+r,d.s=this.s}function j(r,d){for(var P=r;P<this.t;++P)d[P-r]=this[P];d.t=Math.max(this.t-r,0),d.s=this.s}function V(r,d){var P=r%this.DB,k=this.DB-P,$=(1<<k)-1,ae=Math.floor(r/this.DB),de=this.s<<P&this.DM,Ce;for(Ce=this.t-1;Ce>=0;--Ce)d[Ce+ae+1]=this[Ce]>>k|de,de=(this[Ce]&$)<<P;for(Ce=ae-1;Ce>=0;--Ce)d[Ce]=0;d[ae]=de,d.t=this.t+ae+1,d.s=this.s,d.clamp()}function G(r,d){d.s=this.s;var P=Math.floor(r/this.DB);if(P>=this.t){d.t=0;return}var k=r%this.DB,$=this.DB-k,ae=(1<<k)-1;d[0]=this[P]>>k;for(var de=P+1;de<this.t;++de)d[de-P-1]|=(this[de]&ae)<<$,d[de-P]=this[de]>>k;k>0&&(d[this.t-P-1]|=(this.s&ae)<<$),d.t=this.t-P,d.clamp()}function U(r,d){for(var P=0,k=0,$=Math.min(r.t,this.t);P<$;)k+=this[P]-r[P],d[P++]=k&this.DM,k>>=this.DB;if(r.t<this.t){for(k-=r.s;P<this.t;)k+=this[P],d[P++]=k&this.DM,k>>=this.DB;k+=this.s}else{for(k+=this.s;P<r.t;)k-=r[P],d[P++]=k&this.DM,k>>=this.DB;k-=r.s}d.s=k<0?-1:0,k<-1?d[P++]=this.DV+k:k>0&&(d[P++]=k),d.t=P,d.clamp()}function Y(r,d){var P=this.abs(),k=r.abs(),$=P.t;for(d.t=$+k.t;--$>=0;)d[$]=0;for($=0;$<k.t;++$)d[$+P.t]=P.am(0,k[$],d,$,0,P.t);d.s=0,d.clamp(),this.s!=r.s&&c.ZERO.subTo(d,d)}function ee(r){for(var d=this.abs(),P=r.t=2*d.t;--P>=0;)r[P]=0;for(P=0;P<d.t-1;++P){var k=d.am(P,d[P],r,2*P,0,1);(r[P+d.t]+=d.am(P+1,2*d[P],r,2*P+1,k,d.t-P-1))>=d.DV&&(r[P+d.t]-=d.DV,r[P+d.t+1]=1)}r.t>0&&(r[r.t-1]+=d.am(P,d[P],r,2*P,0,1)),r.s=0,r.clamp()}function le(r,d,P){var k=r.abs();if(!(k.t<=0)){var $=this.abs();if($.t<k.t){d!=null&&d.fromInt(0),P!=null&&this.copyTo(P);return}P==null&&(P=p());var ae=p(),de=this.s,Ce=r.s,Be=this.DB-R(k[k.t-1]);Be>0?(k.lShiftTo(Be,ae),$.lShiftTo(Be,P)):(k.copyTo(ae),$.copyTo(P));var Fe=ae.t,Ze=ae[Fe-1];if(Ze!=0){var Qe=Ze*(1<<this.F1)+(Fe>1?ae[Fe-2]>>this.F2:0),it=this.FV/Qe,ot=(1<<this.F1)/Qe,st=1<<this.F2,ut=P.t,At=ut-Fe,Nt=d==null?p():d;for(ae.dlShiftTo(At,Nt),P.compareTo(Nt)>=0&&(P[P.t++]=1,P.subTo(Nt,P)),c.ONE.dlShiftTo(Fe,Nt),Nt.subTo(ae,ae);ae.t<Fe;)ae[ae.t++]=0;for(;--At>=0;){var Jt=P[--ut]==Ze?this.DM:Math.floor(P[ut]*it+(P[ut-1]+st)*ot);if((P[ut]+=ae.am(0,Jt,P,At,0,Fe))<Jt)for(ae.dlShiftTo(At,Nt),P.subTo(Nt,P);P[ut]<--Jt;)P.subTo(Nt,P)}d!=null&&(P.drShiftTo(Fe,d),de!=Ce&&c.ZERO.subTo(d,d)),P.t=Fe,P.clamp(),Be>0&&P.rShiftTo(Be,P),de<0&&c.ZERO.subTo(P,P)}}}function he(r){var d=p();return this.abs().divRemTo(r,null,d),this.s<0&&d.compareTo(c.ZERO)>0&&r.subTo(d,d),d}function oe(r){this.m=r}function q(r){return r.s<0||r.compareTo(this.m)>=0?r.mod(this.m):r}function K(r){return r}function Q(r){r.divRemTo(this.m,null,r)}function te(r,d,P){r.multiplyTo(d,P),this.reduce(P)}function ce(r,d){r.squareTo(d),this.reduce(d)}oe.prototype.convert=q,oe.prototype.revert=K,oe.prototype.reduce=Q,oe.prototype.mulTo=te,oe.prototype.sqrTo=ce;function we(){if(this.t<1)return 0;var r=this[0];if((r&1)==0)return 0;var d=r&3;return d=d*(2-(r&15)*d)&15,d=d*(2-(r&255)*d)&255,d=d*(2-((r&65535)*d&65535))&65535,d=d*(2-r*d%this.DV)%this.DV,d>0?this.DV-d:-d}function be(r){this.m=r,this.mp=r.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<r.DB-15)-1,this.mt2=2*r.t}function xe(r){var d=p();return r.abs().dlShiftTo(this.m.t,d),d.divRemTo(this.m,null,d),r.s<0&&d.compareTo(c.ZERO)>0&&this.m.subTo(d,d),d}function Ie(r){var d=p();return r.copyTo(d),this.reduce(d),d}function me(r){for(;r.t<=this.mt2;)r[r.t++]=0;for(var d=0;d<this.m.t;++d){var P=r[d]&32767,k=P*this.mpl+((P*this.mph+(r[d]>>15)*this.mpl&this.um)<<15)&r.DM;for(P=d+this.m.t,r[P]+=this.m.am(0,k,r,d,0,this.m.t);r[P]>=r.DV;)r[P]-=r.DV,r[++P]++}r.clamp(),r.drShiftTo(this.m.t,r),r.compareTo(this.m)>=0&&r.subTo(this.m,r)}function ve(r,d){r.squareTo(d),this.reduce(d)}function re(r,d,P){r.multiplyTo(d,P),this.reduce(P)}be.prototype.convert=xe,be.prototype.revert=Ie,be.prototype.reduce=me,be.prototype.mulTo=re,be.prototype.sqrTo=ve;function se(){return(this.t>0?this[0]&1:this.s)==0}function fe(r,d){if(r>4294967295||r<1)return c.ONE;var P=p(),k=p(),$=d.convert(this),ae=R(r)-1;for($.copyTo(P);--ae>=0;)if(d.sqrTo(P,k),(r&1<<ae)>0)d.mulTo(k,$,P);else{var de=P;P=k,k=de}return d.revert(P)}function J(r,d){var P;return r<256||d.isEven()?P=new oe(d):P=new be(d),this.exp(r,P)}c.prototype.copyTo=a,c.prototype.fromInt=m,c.prototype.fromString=y,c.prototype.clamp=E,c.prototype.dlShiftTo=L,c.prototype.drShiftTo=j,c.prototype.lShiftTo=V,c.prototype.rShiftTo=G,c.prototype.subTo=U,c.prototype.multiplyTo=Y,c.prototype.squareTo=ee,c.prototype.divRemTo=le,c.prototype.invDigit=we,c.prototype.isEven=se,c.prototype.exp=fe,c.prototype.toString=S,c.prototype.negate=A,c.prototype.abs=M,c.prototype.compareTo=I,c.prototype.bitLength=H,c.prototype.mod=he,c.prototype.modPowInt=J,c.ZERO=g(0),c.ONE=g(1);function z(){var r=p();return this.copyTo(r),r}function B(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function F(){return this.t==0?this.s:this[0]<<24>>24}function Z(){return this.t==0?this.s:this[0]<<16>>16}function D(r){return Math.floor(Math.LN2*this.DB/Math.log(r))}function O(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function ie(r){if(r==null&&(r=10),this.signum()==0||r<2||r>36)return"0";var d=this.chunkSize(r),P=Math.pow(r,d),k=g(P),$=p(),ae=p(),de="";for(this.divRemTo(k,$,ae);$.signum()>0;)de=(P+ae.intValue()).toString(r).substr(1)+de,$.divRemTo(k,$,ae);return ae.intValue().toString(r)+de}function ge(r,d){this.fromInt(0),d==null&&(d=10);for(var P=this.chunkSize(d),k=Math.pow(d,P),$=!1,ae=0,de=0,Ce=0;Ce<r.length;++Ce){var Be=f(r,Ce);if(Be<0){r.charAt(Ce)=="-"&&this.signum()==0&&($=!0);continue}de=d*de+Be,++ae>=P&&(this.dMultiply(k),this.dAddOffset(de,0),ae=0,de=0)}ae>0&&(this.dMultiply(Math.pow(d,ae)),this.dAddOffset(de,0)),$&&c.ZERO.subTo(this,this)}function Me(r,d,P){if(typeof d=="number")if(r<2)this.fromInt(1);else for(this.fromNumber(r,P),this.testBit(r-1)||this.bitwiseTo(c.ONE.shiftLeft(r-1),tt,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(d);)this.dAddOffset(2,0),this.bitLength()>r&&this.subTo(c.ONE.shiftLeft(r-1),this);else{var k=new Array,$=r&7;k.length=(r>>3)+1,d.nextBytes(k),$>0?k[0]&=(1<<$)-1:k[0]=0,this.fromString(k,256)}}function Le(){var r=this.t,d=new Array;d[0]=this.s;var P=this.DB-r*this.DB%8,k,$=0;if(r-- >0)for(P<this.DB&&(k=this[r]>>P)!=(this.s&this.DM)>>P&&(d[$++]=k|this.s<<this.DB-P);r>=0;)P<8?(k=(this[r]&(1<<P)-1)<<8-P,k|=this[--r]>>(P+=this.DB-8)):(k=this[r]>>(P-=8)&255,P<=0&&(P+=this.DB,--r)),(k&128)!=0&&(k|=-256),$==0&&(this.s&128)!=(k&128)&&++$,($>0||k!=this.s)&&(d[$++]=k);return d}function ze(r){return this.compareTo(r)==0}function qe(r){return this.compareTo(r)<0?this:r}function Ge(r){return this.compareTo(r)>0?this:r}function je(r,d,P){var k,$,ae=Math.min(r.t,this.t);for(k=0;k<ae;++k)P[k]=d(this[k],r[k]);if(r.t<this.t){for($=r.s&this.DM,k=ae;k<this.t;++k)P[k]=d(this[k],$);P.t=this.t}else{for($=this.s&this.DM,k=ae;k<r.t;++k)P[k]=d($,r[k]);P.t=r.t}P.s=d(this.s,r.s),P.clamp()}function We(r,d){return r&d}function He(r){var d=p();return this.bitwiseTo(r,We,d),d}function tt(r,d){return r|d}function Ve(r){var d=p();return this.bitwiseTo(r,tt,d),d}function W(r,d){return r^d}function Se(r){var d=p();return this.bitwiseTo(r,W,d),d}function Ae(r,d){return r&~d}function ke(r){var d=p();return this.bitwiseTo(r,Ae,d),d}function Pe(){for(var r=p(),d=0;d<this.t;++d)r[d]=this.DM&~this[d];return r.t=this.t,r.s=~this.s,r}function Oe(r){var d=p();return r<0?this.rShiftTo(-r,d):this.lShiftTo(r,d),d}function ne(r){var d=p();return r<0?this.lShiftTo(-r,d):this.rShiftTo(r,d),d}function Ue(r){if(r==0)return-1;var d=0;return(r&65535)==0&&(r>>=16,d+=16),(r&255)==0&&(r>>=8,d+=8),(r&15)==0&&(r>>=4,d+=4),(r&3)==0&&(r>>=2,d+=2),(r&1)==0&&++d,d}function et(){for(var r=0;r<this.t;++r)if(this[r]!=0)return r*this.DB+Ue(this[r]);return this.s<0?this.t*this.DB:-1}function w(r){for(var d=0;r!=0;)r&=r-1,++d;return d}function Ee(){for(var r=0,d=this.s&this.DM,P=0;P<this.t;++P)r+=w(this[P]^d);return r}function Re(r){var d=Math.floor(r/this.DB);return d>=this.t?this.s!=0:(this[d]&1<<r%this.DB)!=0}function X(r,d){var P=c.ONE.shiftLeft(r);return this.bitwiseTo(P,d,P),P}function _e(r){return this.changeBit(r,tt)}function De(r){return this.changeBit(r,Ae)}function Ye(r){return this.changeBit(r,W)}function Xe(r,d){for(var P=0,k=0,$=Math.min(r.t,this.t);P<$;)k+=this[P]+r[P],d[P++]=k&this.DM,k>>=this.DB;if(r.t<this.t){for(k+=r.s;P<this.t;)k+=this[P],d[P++]=k&this.DM,k>>=this.DB;k+=this.s}else{for(k+=this.s;P<r.t;)k+=r[P],d[P++]=k&this.DM,k>>=this.DB;k+=r.s}d.s=k<0?-1:0,k>0?d[P++]=k:k<-1&&(d[P++]=this.DV+k),d.t=P,d.clamp()}function Ke(r){var d=p();return this.addTo(r,d),d}function rt(r){var d=p();return this.subTo(r,d),d}function Et(r){var d=p();return this.multiplyTo(r,d),d}function ct(){var r=p();return this.squareTo(r),r}function nt(r){var d=p();return this.divRemTo(r,d,null),d}function pt(r){var d=p();return this.divRemTo(r,null,d),d}function dt(r){var d=p(),P=p();return this.divRemTo(r,d,P),new Array(d,P)}function Pt(r){this[this.t]=this.am(0,r-1,this,0,0,this.t),++this.t,this.clamp()}function ht(r,d){if(r!=0){for(;this.t<=d;)this[this.t++]=0;for(this[d]+=r;this[d]>=this.DV;)this[d]-=this.DV,++d>=this.t&&(this[this.t++]=0),++this[d]}}function Bt(){}function mt(r){return r}function St(r,d,P){r.multiplyTo(d,P)}function gt(r,d){r.squareTo(d)}Bt.prototype.convert=mt,Bt.prototype.revert=mt,Bt.prototype.mulTo=St,Bt.prototype.sqrTo=gt;function Tt(r){return this.exp(r,new Bt)}function bt(r,d,P){var k=Math.min(this.t+r.t,d);for(P.s=0,P.t=k;k>0;)P[--k]=0;var $;for($=P.t-this.t;k<$;++k)P[k+this.t]=this.am(0,r[k],P,k,0,this.t);for($=Math.min(r.t,d);k<$;++k)this.am(0,r[k],P,k,0,d-k);P.clamp()}function lt(r,d,P){--d;var k=P.t=this.t+r.t-d;for(P.s=0;--k>=0;)P[k]=0;for(k=Math.max(d-this.t,0);k<r.t;++k)P[this.t+k-d]=this.am(d-k,r[k],P,0,0,this.t+k-d);P.clamp(),P.drShiftTo(1,P)}function Gt(r){this.r2=p(),this.q3=p(),c.ONE.dlShiftTo(2*r.t,this.r2),this.mu=this.r2.divide(r),this.m=r}function er(r){if(r.s<0||r.t>2*this.m.t)return r.mod(this.m);if(r.compareTo(this.m)<0)return r;var d=p();return r.copyTo(d),this.reduce(d),d}function ar(r){return r}function Wt(r){for(r.drShiftTo(this.m.t-1,this.r2),r.t>this.m.t+1&&(r.t=this.m.t+1,r.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);r.compareTo(this.r2)<0;)r.dAddOffset(1,this.m.t+1);for(r.subTo(this.r2,r);r.compareTo(this.m)>=0;)r.subTo(this.m,r)}function ue(r,d){r.squareTo(d),this.reduce(d)}function pe(r,d,P){r.multiplyTo(d,P),this.reduce(P)}Gt.prototype.convert=er,Gt.prototype.revert=ar,Gt.prototype.reduce=Wt,Gt.prototype.mulTo=pe,Gt.prototype.sqrTo=ue;function Te(r,d){var P=r.bitLength(),k,$=g(1),ae;if(P<=0)return $;P<18?k=1:P<48?k=3:P<144?k=4:P<768?k=5:k=6,P<8?ae=new oe(d):d.isEven()?ae=new Gt(d):ae=new be(d);var de=new Array,Ce=3,Be=k-1,Fe=(1<<k)-1;if(de[1]=ae.convert(this),k>1){var Ze=p();for(ae.sqrTo(de[1],Ze);Ce<=Fe;)de[Ce]=p(),ae.mulTo(Ze,de[Ce-2],de[Ce]),Ce+=2}var Qe=r.t-1,it,ot=!0,st=p(),ut;for(P=R(r[Qe])-1;Qe>=0;){for(P>=Be?it=r[Qe]>>P-Be&Fe:(it=(r[Qe]&(1<<P+1)-1)<<Be-P,Qe>0&&(it|=r[Qe-1]>>this.DB+P-Be)),Ce=k;(it&1)==0;)it>>=1,--Ce;if((P-=Ce)<0&&(P+=this.DB,--Qe),ot)de[it].copyTo($),ot=!1;else{for(;Ce>1;)ae.sqrTo($,st),ae.sqrTo(st,$),Ce-=2;Ce>0?ae.sqrTo($,st):(ut=$,$=st,st=ut),ae.mulTo(st,de[it],$)}for(;Qe>=0&&(r[Qe]&1<<P)==0;)ae.sqrTo($,st),ut=$,$=st,st=ut,--P<0&&(P=this.DB-1,--Qe)}return ae.revert($)}function ye(r){var d=this.s<0?this.negate():this.clone(),P=r.s<0?r.negate():r.clone();if(d.compareTo(P)<0){var k=d;d=P,P=k}var $=d.getLowestSetBit(),ae=P.getLowestSetBit();if(ae<0)return d;for($<ae&&(ae=$),ae>0&&(d.rShiftTo(ae,d),P.rShiftTo(ae,P));d.signum()>0;)($=d.getLowestSetBit())>0&&d.rShiftTo($,d),($=P.getLowestSetBit())>0&&P.rShiftTo($,P),d.compareTo(P)>=0?(d.subTo(P,d),d.rShiftTo(1,d)):(P.subTo(d,P),P.rShiftTo(1,P));return ae>0&&P.lShiftTo(ae,P),P}function Ne(r){if(r<=0)return 0;var d=this.DV%r,P=this.s<0?r-1:0;if(this.t>0)if(d==0)P=this[0]%r;else for(var k=this.t-1;k>=0;--k)P=(d*P+this[k])%r;return P}function $e(r){var d=r.isEven();if(this.isEven()&&d||r.signum()==0)return c.ZERO;for(var P=r.clone(),k=this.clone(),$=g(1),ae=g(0),de=g(0),Ce=g(1);P.signum()!=0;){for(;P.isEven();)P.rShiftTo(1,P),d?((!$.isEven()||!ae.isEven())&&($.addTo(this,$),ae.subTo(r,ae)),$.rShiftTo(1,$)):ae.isEven()||ae.subTo(r,ae),ae.rShiftTo(1,ae);for(;k.isEven();)k.rShiftTo(1,k),d?((!de.isEven()||!Ce.isEven())&&(de.addTo(this,de),Ce.subTo(r,Ce)),de.rShiftTo(1,de)):Ce.isEven()||Ce.subTo(r,Ce),Ce.rShiftTo(1,Ce);P.compareTo(k)>=0?(P.subTo(k,P),d&&$.subTo(de,$),ae.subTo(Ce,ae)):(k.subTo(P,k),d&&de.subTo($,de),Ce.subTo(ae,Ce))}if(k.compareTo(c.ONE)!=0)return c.ZERO;if(Ce.compareTo(r)>=0)return Ce.subtract(r);if(Ce.signum()<0)Ce.addTo(r,Ce);else return Ce;return Ce.signum()<0?Ce.add(r):Ce}var Ct=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],Ar=(1<<26)/Ct[Ct.length-1];function pr(r){var d,P=this.abs();if(P.t==1&&P[0]<=Ct[Ct.length-1]){for(d=0;d<Ct.length;++d)if(P[0]==Ct[d])return!0;return!1}if(P.isEven())return!1;for(d=1;d<Ct.length;){for(var k=Ct[d],$=d+1;$<Ct.length&&k<Ar;)k*=Ct[$++];for(k=P.modInt(k);d<$;)if(k%Ct[d++]==0)return!1}return P.millerRabin(r)}function Mr(r){var d=this.subtract(c.ONE),P=d.getLowestSetBit();if(P<=0)return!1;var k=d.shiftRight(P);r=r+1>>1,r>Ct.length&&(r=Ct.length);for(var $=p(),ae=0;ae<r;++ae){$.fromInt(Ct[Math.floor(Math.random()*Ct.length)]);var de=$.modPow(k,this);if(de.compareTo(c.ONE)!=0&&de.compareTo(d)!=0){for(var Ce=1;Ce++<P&&de.compareTo(d)!=0;)if(de=de.modPowInt(2,this),de.compareTo(c.ONE)==0)return!1;if(de.compareTo(d)!=0)return!1}}return!0}c.prototype.chunkSize=D,c.prototype.toRadix=ie,c.prototype.fromRadix=ge,c.prototype.fromNumber=Me,c.prototype.bitwiseTo=je,c.prototype.changeBit=X,c.prototype.addTo=Xe,c.prototype.dMultiply=Pt,c.prototype.dAddOffset=ht,c.prototype.multiplyLowerTo=bt,c.prototype.multiplyUpperTo=lt,c.prototype.modInt=Ne,c.prototype.millerRabin=Mr,c.prototype.clone=z,c.prototype.intValue=B,c.prototype.byteValue=F,c.prototype.shortValue=Z,c.prototype.signum=O,c.prototype.toByteArray=Le,c.prototype.equals=ze,c.prototype.min=qe,c.prototype.max=Ge,c.prototype.and=He,c.prototype.or=Ve,c.prototype.xor=Se,c.prototype.andNot=ke,c.prototype.not=Pe,c.prototype.shiftLeft=Oe,c.prototype.shiftRight=ne,c.prototype.getLowestSetBit=et,c.prototype.bitCount=Ee,c.prototype.testBit=Re,c.prototype.setBit=_e,c.prototype.clearBit=De,c.prototype.flipBit=Ye,c.prototype.add=Ke,c.prototype.subtract=rt,c.prototype.multiply=Et,c.prototype.divide=nt,c.prototype.remainder=pt,c.prototype.divideAndRemainder=dt,c.prototype.modPow=Te,c.prototype.modInverse=$e,c.prototype.pow=Tt,c.prototype.gcd=ye,c.prototype.isProbablePrime=pr,c.prototype.square=ct;var ft=c;if(ft.prototype.IsNegative=function(){return this.compareTo(ft.ZERO)==-1},ft.op_Equality=function(r,d){return r.compareTo(d)==0},ft.op_Inequality=function(r,d){return r.compareTo(d)!=0},ft.op_GreaterThan=function(r,d){return r.compareTo(d)>0},ft.op_LessThan=function(r,d){return r.compareTo(d)<0},ft.op_Addition=function(r,d){return new ft(r).add(new ft(d))},ft.op_Subtraction=function(r,d){return new ft(r).subtract(new ft(d))},ft.Int128Mul=function(r,d){return new ft(r).multiply(new ft(d))},ft.op_Division=function(r,d){return r.divide(d)},ft.prototype.ToDouble=function(){return parseFloat(this.toString())},typeof sr>"u")var sr=function(r,d){var P;if(typeof Object.getOwnPropertyNames>"u"){for(P in d.prototype)(typeof r.prototype[P]>"u"||r.prototype[P]==Object.prototype[P])&&(r.prototype[P]=d.prototype[P]);for(P in d)typeof r[P]>"u"&&(r[P]=d[P]);r.$baseCtor=d}else{for(var k=Object.getOwnPropertyNames(d.prototype),$=0;$<k.length;$++)typeof Object.getOwnPropertyDescriptor(r.prototype,k[$])>"u"&&Object.defineProperty(r.prototype,k[$],Object.getOwnPropertyDescriptor(d.prototype,k[$]));for(P in d)typeof r[P]>"u"&&(r[P]=d[P]);r.$baseCtor=d}};u.Path=function(){return[]},u.Paths=function(){return[]},u.DoublePoint=function(){var r=arguments;this.X=0,this.Y=0,r.length==1?(this.X=r[0].X,this.Y=r[0].Y):r.length==2&&(this.X=r[0],this.Y=r[1])},u.DoublePoint0=function(){this.X=0,this.Y=0},u.DoublePoint1=function(r){this.X=r.X,this.Y=r.Y},u.DoublePoint2=function(r,d){this.X=r,this.Y=d},u.PolyNode=function(){this.m_Parent=null,this.m_polygon=new u.Path,this.m_Index=0,this.m_jointype=0,this.m_endtype=0,this.m_Childs=[],this.IsOpen=!1},u.PolyNode.prototype.IsHoleNode=function(){for(var r=!0,d=this.m_Parent;d!==null;)r=!r,d=d.m_Parent;return r},u.PolyNode.prototype.ChildCount=function(){return this.m_Childs.length},u.PolyNode.prototype.Contour=function(){return this.m_polygon},u.PolyNode.prototype.AddChild=function(r){var d=this.m_Childs.length;this.m_Childs.push(r),r.m_Parent=this,r.m_Index=d},u.PolyNode.prototype.GetNext=function(){return this.m_Childs.length>0?this.m_Childs[0]:this.GetNextSiblingUp()},u.PolyNode.prototype.GetNextSiblingUp=function(){return this.m_Parent===null?null:this.m_Index==this.m_Parent.m_Childs.length-1?this.m_Parent.GetNextSiblingUp():this.m_Parent.m_Childs[this.m_Index+1]},u.PolyNode.prototype.Childs=function(){return this.m_Childs},u.PolyNode.prototype.Parent=function(){return this.m_Parent},u.PolyNode.prototype.IsHole=function(){return this.IsHoleNode()},u.PolyTree=function(){this.m_AllPolys=[],u.PolyNode.call(this)},u.PolyTree.prototype.Clear=function(){for(var r=0,d=this.m_AllPolys.length;r<d;r++)this.m_AllPolys[r]=null;this.m_AllPolys.length=0,this.m_Childs.length=0},u.PolyTree.prototype.GetFirst=function(){return this.m_Childs.length>0?this.m_Childs[0]:null},u.PolyTree.prototype.Total=function(){return this.m_AllPolys.length},sr(u.PolyTree,u.PolyNode),u.Math_Abs_Int64=u.Math_Abs_Int32=u.Math_Abs_Double=function(r){return Math.abs(r)},u.Math_Max_Int32_Int32=function(r,d){return Math.max(r,d)},b.msie||b.opera||b.safari?u.Cast_Int32=function(r){return r|0}:u.Cast_Int32=function(r){return~~r},b.chrome?u.Cast_Int64=function(r){return r<-2147483648||r>2147483647?r<0?Math.ceil(r):Math.floor(r):~~r}:b.firefox&&typeof Number.toInteger=="function"?u.Cast_Int64=function(r){return Number.toInteger(r)}:b.msie7||b.msie8?u.Cast_Int64=function(r){return parseInt(r,10)}:b.msie?u.Cast_Int64=function(r){return r<-2147483648||r>2147483647?r<0?Math.ceil(r):Math.floor(r):r|0}:u.Cast_Int64=function(r){return r<0?Math.ceil(r):Math.floor(r)},u.Clear=function(r){r.length=0},u.PI=3.141592653589793,u.PI2=2*3.141592653589793,u.IntPoint=function(){var r=arguments,d=r.length;this.X=0,this.Y=0;var P,k;if(d==2)this.X=r[0],this.Y=r[1];else if(d==1)if(r[0]instanceof u.DoublePoint){var P=r[0];this.X=u.Clipper.Round(P.X),this.Y=u.Clipper.Round(P.Y)}else{var k=r[0];this.X=k.X,this.Y=k.Y}else this.X=0,this.Y=0},u.IntPoint.op_Equality=function(r,d){return r.X==d.X&&r.Y==d.Y},u.IntPoint.op_Inequality=function(r,d){return r.X!=d.X||r.Y!=d.Y},u.IntPoint0=function(){this.X=0,this.Y=0},u.IntPoint1=function(r){this.X=r.X,this.Y=r.Y},u.IntPoint1dp=function(r){this.X=u.Clipper.Round(r.X),this.Y=u.Clipper.Round(r.Y)},u.IntPoint2=function(r,d){this.X=r,this.Y=d},u.IntRect=function(){var r=arguments,d=r.length;d==4?(this.left=r[0],this.top=r[1],this.right=r[2],this.bottom=r[3]):d==1?(this.left=ir.left,this.top=ir.top,this.right=ir.right,this.bottom=ir.bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)},u.IntRect0=function(){this.left=0,this.top=0,this.right=0,this.bottom=0},u.IntRect1=function(r){this.left=r.left,this.top=r.top,this.right=r.right,this.bottom=r.bottom},u.IntRect4=function(r,d,P,k){this.left=r,this.top=d,this.right=P,this.bottom=k},u.ClipType={ctIntersection:0,ctUnion:1,ctDifference:2,ctXor:3},u.PolyType={ptSubject:0,ptClip:1},u.PolyFillType={pftEvenOdd:0,pftNonZero:1,pftPositive:2,pftNegative:3},u.JoinType={jtSquare:0,jtRound:1,jtMiter:2},u.EndType={etOpenSquare:0,etOpenRound:1,etOpenButt:2,etClosedLine:3,etClosedPolygon:4},u.EdgeSide={esLeft:0,esRight:1},u.Direction={dRightToLeft:0,dLeftToRight:1},u.TEdge=function(){this.Bot=new u.IntPoint,this.Curr=new u.IntPoint,this.Top=new u.IntPoint,this.Delta=new u.IntPoint,this.Dx=0,this.PolyTyp=u.PolyType.ptSubject,this.Side=u.EdgeSide.esLeft,this.WindDelta=0,this.WindCnt=0,this.WindCnt2=0,this.OutIdx=0,this.Next=null,this.Prev=null,this.NextInLML=null,this.NextInAEL=null,this.PrevInAEL=null,this.NextInSEL=null,this.PrevInSEL=null},u.IntersectNode=function(){this.Edge1=null,this.Edge2=null,this.Pt=new u.IntPoint},u.MyIntersectNodeSort=function(){},u.MyIntersectNodeSort.Compare=function(r,d){return d.Pt.Y-r.Pt.Y},u.LocalMinima=function(){this.Y=0,this.LeftBound=null,this.RightBound=null,this.Next=null},u.Scanbeam=function(){this.Y=0,this.Next=null},u.OutRec=function(){this.Idx=0,this.IsHole=!1,this.IsOpen=!1,this.FirstLeft=null,this.Pts=null,this.BottomPt=null,this.PolyNode=null},u.OutPt=function(){this.Idx=0,this.Pt=new u.IntPoint,this.Next=null,this.Prev=null},u.Join=function(){this.OutPt1=null,this.OutPt2=null,this.OffPt=new u.IntPoint},u.ClipperBase=function(){this.m_MinimaList=null,this.m_CurrentLM=null,this.m_edges=new Array,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1,this.PreserveCollinear=!1,this.m_MinimaList=null,this.m_CurrentLM=null,this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},u.ClipperBase.horizontal=-9007199254740992,u.ClipperBase.Skip=-2,u.ClipperBase.Unassigned=-1,u.ClipperBase.tolerance=1e-20,u.ClipperBase.loRange=47453132,u.ClipperBase.hiRange=0xfffffffffffff,u.ClipperBase.near_zero=function(r){return r>-u.ClipperBase.tolerance&&r<u.ClipperBase.tolerance},u.ClipperBase.IsHorizontal=function(r){return r.Delta.Y===0},u.ClipperBase.prototype.PointIsVertex=function(r,d){var P=d;do{if(u.IntPoint.op_Equality(P.Pt,r))return!0;P=P.Next}while(P!=d);return!1},u.ClipperBase.prototype.PointOnLineSegment=function(r,d,P,k){return k?r.X==d.X&&r.Y==d.Y||r.X==P.X&&r.Y==P.Y||r.X>d.X==r.X<P.X&&r.Y>d.Y==r.Y<P.Y&&ft.op_Equality(ft.Int128Mul(r.X-d.X,P.Y-d.Y),ft.Int128Mul(P.X-d.X,r.Y-d.Y)):r.X==d.X&&r.Y==d.Y||r.X==P.X&&r.Y==P.Y||r.X>d.X==r.X<P.X&&r.Y>d.Y==r.Y<P.Y&&(r.X-d.X)*(P.Y-d.Y)==(P.X-d.X)*(r.Y-d.Y)},u.ClipperBase.prototype.PointOnPolygon=function(r,d,P){for(var k=d;;){if(this.PointOnLineSegment(r,k.Pt,k.Next.Pt,P))return!0;if(k=k.Next,k==d)break}return!1},u.ClipperBase.prototype.SlopesEqual=u.ClipperBase.SlopesEqual=function(){var r=arguments,d=r.length,P,k,$,ae,de,Ce,Be;return d==3?(P=r[0],k=r[1],Be=r[2],Be?ft.op_Equality(ft.Int128Mul(P.Delta.Y,k.Delta.X),ft.Int128Mul(P.Delta.X,k.Delta.Y)):u.Cast_Int64(P.Delta.Y*k.Delta.X)==u.Cast_Int64(P.Delta.X*k.Delta.Y)):d==4?($=r[0],ae=r[1],de=r[2],Be=r[3],Be?ft.op_Equality(ft.Int128Mul($.Y-ae.Y,ae.X-de.X),ft.Int128Mul($.X-ae.X,ae.Y-de.Y)):u.Cast_Int64(($.Y-ae.Y)*(ae.X-de.X))-u.Cast_Int64(($.X-ae.X)*(ae.Y-de.Y))===0):($=r[0],ae=r[1],de=r[2],Ce=r[3],Be=r[4],Be?ft.op_Equality(ft.Int128Mul($.Y-ae.Y,de.X-Ce.X),ft.Int128Mul($.X-ae.X,de.Y-Ce.Y)):u.Cast_Int64(($.Y-ae.Y)*(de.X-Ce.X))-u.Cast_Int64(($.X-ae.X)*(de.Y-Ce.Y))===0)},u.ClipperBase.SlopesEqual3=function(r,d,P){return P?ft.op_Equality(ft.Int128Mul(r.Delta.Y,d.Delta.X),ft.Int128Mul(r.Delta.X,d.Delta.Y)):u.Cast_Int64(r.Delta.Y*d.Delta.X)==u.Cast_Int64(r.Delta.X*d.Delta.Y)},u.ClipperBase.SlopesEqual4=function(r,d,P,k){return k?ft.op_Equality(ft.Int128Mul(r.Y-d.Y,d.X-P.X),ft.Int128Mul(r.X-d.X,d.Y-P.Y)):u.Cast_Int64((r.Y-d.Y)*(d.X-P.X))-u.Cast_Int64((r.X-d.X)*(d.Y-P.Y))===0},u.ClipperBase.SlopesEqual5=function(r,d,P,k,$){return $?ft.op_Equality(ft.Int128Mul(r.Y-d.Y,P.X-k.X),ft.Int128Mul(r.X-d.X,P.Y-k.Y)):u.Cast_Int64((r.Y-d.Y)*(P.X-k.X))-u.Cast_Int64((r.X-d.X)*(P.Y-k.Y))===0},u.ClipperBase.prototype.Clear=function(){this.DisposeLocalMinimaList();for(var r=0,d=this.m_edges.length;r<d;++r){for(var P=0,k=this.m_edges[r].length;P<k;++P)this.m_edges[r][P]=null;u.Clear(this.m_edges[r])}u.Clear(this.m_edges),this.m_UseFullRange=!1,this.m_HasOpenPaths=!1},u.ClipperBase.prototype.DisposeLocalMinimaList=function(){for(;this.m_MinimaList!==null;){var r=this.m_MinimaList.Next;this.m_MinimaList=null,this.m_MinimaList=r}this.m_CurrentLM=null},u.ClipperBase.prototype.RangeTest=function(r,d){d.Value?(r.X>u.ClipperBase.hiRange||r.Y>u.ClipperBase.hiRange||-r.X>u.ClipperBase.hiRange||-r.Y>u.ClipperBase.hiRange)&&u.Error("Coordinate outside allowed range in RangeTest()."):(r.X>u.ClipperBase.loRange||r.Y>u.ClipperBase.loRange||-r.X>u.ClipperBase.loRange||-r.Y>u.ClipperBase.loRange)&&(d.Value=!0,this.RangeTest(r,d))},u.ClipperBase.prototype.InitEdge=function(r,d,P,k){r.Next=d,r.Prev=P,r.Curr.X=k.X,r.Curr.Y=k.Y,r.OutIdx=-1},u.ClipperBase.prototype.InitEdge2=function(r,d){r.Curr.Y>=r.Next.Curr.Y?(r.Bot.X=r.Curr.X,r.Bot.Y=r.Curr.Y,r.Top.X=r.Next.Curr.X,r.Top.Y=r.Next.Curr.Y):(r.Top.X=r.Curr.X,r.Top.Y=r.Curr.Y,r.Bot.X=r.Next.Curr.X,r.Bot.Y=r.Next.Curr.Y),this.SetDx(r),r.PolyTyp=d},u.ClipperBase.prototype.FindNextLocMin=function(r){for(var d;;){for(;u.IntPoint.op_Inequality(r.Bot,r.Prev.Bot)||u.IntPoint.op_Equality(r.Curr,r.Top);)r=r.Next;if(r.Dx!=u.ClipperBase.horizontal&&r.Prev.Dx!=u.ClipperBase.horizontal)break;for(;r.Prev.Dx==u.ClipperBase.horizontal;)r=r.Prev;for(d=r;r.Dx==u.ClipperBase.horizontal;)r=r.Next;if(r.Top.Y!=r.Prev.Bot.Y){d.Prev.Bot.X<r.Bot.X&&(r=d);break}}return r},u.ClipperBase.prototype.ProcessBound=function(r,d){var P=r,k=r,$,ae;if(r.Dx==u.ClipperBase.horizontal&&(d?ae=r.Prev.Bot.X:ae=r.Next.Bot.X,r.Bot.X!=ae&&this.ReverseHorizontal(r)),k.OutIdx!=u.ClipperBase.Skip)if(d){for(;k.Top.Y==k.Next.Bot.Y&&k.Next.OutIdx!=u.ClipperBase.Skip;)k=k.Next;if(k.Dx==u.ClipperBase.horizontal&&k.Next.OutIdx!=u.ClipperBase.Skip){for($=k;$.Prev.Dx==u.ClipperBase.horizontal;)$=$.Prev;$.Prev.Top.X==k.Next.Top.X?d||(k=$.Prev):$.Prev.Top.X>k.Next.Top.X&&(k=$.Prev)}for(;r!=k;)r.NextInLML=r.Next,r.Dx==u.ClipperBase.horizontal&&r!=P&&r.Bot.X!=r.Prev.Top.X&&this.ReverseHorizontal(r),r=r.Next;r.Dx==u.ClipperBase.horizontal&&r!=P&&r.Bot.X!=r.Prev.Top.X&&this.ReverseHorizontal(r),k=k.Next}else{for(;k.Top.Y==k.Prev.Bot.Y&&k.Prev.OutIdx!=u.ClipperBase.Skip;)k=k.Prev;if(k.Dx==u.ClipperBase.horizontal&&k.Prev.OutIdx!=u.ClipperBase.Skip){for($=k;$.Next.Dx==u.ClipperBase.horizontal;)$=$.Next;$.Next.Top.X==k.Prev.Top.X?d||(k=$.Next):$.Next.Top.X>k.Prev.Top.X&&(k=$.Next)}for(;r!=k;)r.NextInLML=r.Prev,r.Dx==u.ClipperBase.horizontal&&r!=P&&r.Bot.X!=r.Next.Top.X&&this.ReverseHorizontal(r),r=r.Prev;r.Dx==u.ClipperBase.horizontal&&r!=P&&r.Bot.X!=r.Next.Top.X&&this.ReverseHorizontal(r),k=k.Prev}if(k.OutIdx==u.ClipperBase.Skip){if(r=k,d){for(;r.Top.Y==r.Next.Bot.Y;)r=r.Next;for(;r!=k&&r.Dx==u.ClipperBase.horizontal;)r=r.Prev}else{for(;r.Top.Y==r.Prev.Bot.Y;)r=r.Prev;for(;r!=k&&r.Dx==u.ClipperBase.horizontal;)r=r.Next}if(r==k)d?k=r.Next:k=r.Prev;else{d?r=k.Next:r=k.Prev;var de=new u.LocalMinima;de.Next=null,de.Y=r.Bot.Y,de.LeftBound=null,de.RightBound=r,de.RightBound.WindDelta=0,k=this.ProcessBound(de.RightBound,d),this.InsertLocalMinima(de)}}return k},u.ClipperBase.prototype.AddPath=function(r,d,P){!P&&d==u.PolyType.ptClip&&u.Error("AddPath: Open paths must be subject.");var k=r.length-1;if(P)for(;k>0&&u.IntPoint.op_Equality(r[k],r[0]);)--k;for(;k>0&&u.IntPoint.op_Equality(r[k],r[k-1]);)--k;if(P&&k<2||!P&&k<1)return!1;for(var $=new Array,ae=0;ae<=k;ae++)$.push(new u.TEdge);var de=!0;$[1].Curr.X=r[1].X,$[1].Curr.Y=r[1].Y;var Ce={Value:this.m_UseFullRange};this.RangeTest(r[0],Ce),this.m_UseFullRange=Ce.Value,Ce.Value=this.m_UseFullRange,this.RangeTest(r[k],Ce),this.m_UseFullRange=Ce.Value,this.InitEdge($[0],$[1],$[k],r[0]),this.InitEdge($[k],$[0],$[k-1],r[k]);for(var ae=k-1;ae>=1;--ae)Ce.Value=this.m_UseFullRange,this.RangeTest(r[ae],Ce),this.m_UseFullRange=Ce.Value,this.InitEdge($[ae],$[ae+1],$[ae-1],r[ae]);for(var Be=$[0],Fe=Be,Ze=Be;;){if(u.IntPoint.op_Equality(Fe.Curr,Fe.Next.Curr)){if(Fe==Fe.Next)break;Fe==Be&&(Be=Fe.Next),Fe=this.RemoveEdge(Fe),Ze=Fe;continue}if(Fe.Prev==Fe.Next)break;if(P&&u.ClipperBase.SlopesEqual(Fe.Prev.Curr,Fe.Curr,Fe.Next.Curr,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(Fe.Prev.Curr,Fe.Curr,Fe.Next.Curr))){Fe==Be&&(Be=Fe.Next),Fe=this.RemoveEdge(Fe),Fe=Fe.Prev,Ze=Fe;continue}if(Fe=Fe.Next,Fe==Ze)break}if(!P&&Fe==Fe.Next||P&&Fe.Prev==Fe.Next)return!1;P||(this.m_HasOpenPaths=!0,Be.Prev.OutIdx=u.ClipperBase.Skip),Fe=Be;do this.InitEdge2(Fe,d),Fe=Fe.Next,de&&Fe.Curr.Y!=Be.Curr.Y&&(de=!1);while(Fe!=Be);if(de){if(P)return!1;Fe.Prev.OutIdx=u.ClipperBase.Skip,Fe.Prev.Bot.X<Fe.Prev.Top.X&&this.ReverseHorizontal(Fe.Prev);var Qe=new u.LocalMinima;for(Qe.Next=null,Qe.Y=Fe.Bot.Y,Qe.LeftBound=null,Qe.RightBound=Fe,Qe.RightBound.Side=u.EdgeSide.esRight,Qe.RightBound.WindDelta=0;Fe.Next.OutIdx!=u.ClipperBase.Skip;)Fe.NextInLML=Fe.Next,Fe.Bot.X!=Fe.Prev.Top.X&&this.ReverseHorizontal(Fe),Fe=Fe.Next;return this.InsertLocalMinima(Qe),this.m_edges.push($),!0}this.m_edges.push($);for(var it,ot=null;Fe=this.FindNextLocMin(Fe),Fe!=ot;){ot==null&&(ot=Fe);var Qe=new u.LocalMinima;Qe.Next=null,Qe.Y=Fe.Bot.Y,Fe.Dx<Fe.Prev.Dx?(Qe.LeftBound=Fe.Prev,Qe.RightBound=Fe,it=!1):(Qe.LeftBound=Fe,Qe.RightBound=Fe.Prev,it=!0),Qe.LeftBound.Side=u.EdgeSide.esLeft,Qe.RightBound.Side=u.EdgeSide.esRight,P?Qe.LeftBound.Next==Qe.RightBound?Qe.LeftBound.WindDelta=-1:Qe.LeftBound.WindDelta=1:Qe.LeftBound.WindDelta=0,Qe.RightBound.WindDelta=-Qe.LeftBound.WindDelta,Fe=this.ProcessBound(Qe.LeftBound,it);var st=this.ProcessBound(Qe.RightBound,!it);Qe.LeftBound.OutIdx==u.ClipperBase.Skip?Qe.LeftBound=null:Qe.RightBound.OutIdx==u.ClipperBase.Skip&&(Qe.RightBound=null),this.InsertLocalMinima(Qe),it||(Fe=st)}return!0},u.ClipperBase.prototype.AddPaths=function(r,d,P){for(var k=!1,$=0,ae=r.length;$<ae;++$)this.AddPath(r[$],d,P)&&(k=!0);return k},u.ClipperBase.prototype.Pt2IsBetweenPt1AndPt3=function(r,d,P){return u.IntPoint.op_Equality(r,P)||u.IntPoint.op_Equality(r,d)||u.IntPoint.op_Equality(P,d)?!1:r.X!=P.X?d.X>r.X==d.X<P.X:d.Y>r.Y==d.Y<P.Y},u.ClipperBase.prototype.RemoveEdge=function(r){r.Prev.Next=r.Next,r.Next.Prev=r.Prev;var d=r.Next;return r.Prev=null,d},u.ClipperBase.prototype.SetDx=function(r){r.Delta.X=r.Top.X-r.Bot.X,r.Delta.Y=r.Top.Y-r.Bot.Y,r.Delta.Y===0?r.Dx=u.ClipperBase.horizontal:r.Dx=r.Delta.X/r.Delta.Y},u.ClipperBase.prototype.InsertLocalMinima=function(r){if(this.m_MinimaList===null)this.m_MinimaList=r;else if(r.Y>=this.m_MinimaList.Y)r.Next=this.m_MinimaList,this.m_MinimaList=r;else{for(var d=this.m_MinimaList;d.Next!==null&&r.Y<d.Next.Y;)d=d.Next;r.Next=d.Next,d.Next=r}},u.ClipperBase.prototype.PopLocalMinima=function(){this.m_CurrentLM!==null&&(this.m_CurrentLM=this.m_CurrentLM.Next)},u.ClipperBase.prototype.ReverseHorizontal=function(r){var d=r.Top.X;r.Top.X=r.Bot.X,r.Bot.X=d},u.ClipperBase.prototype.Reset=function(){if(this.m_CurrentLM=this.m_MinimaList,this.m_CurrentLM!=null)for(var r=this.m_MinimaList;r!=null;){var d=r.LeftBound;d!=null&&(d.Curr.X=d.Bot.X,d.Curr.Y=d.Bot.Y,d.Side=u.EdgeSide.esLeft,d.OutIdx=u.ClipperBase.Unassigned),d=r.RightBound,d!=null&&(d.Curr.X=d.Bot.X,d.Curr.Y=d.Bot.Y,d.Side=u.EdgeSide.esRight,d.OutIdx=u.ClipperBase.Unassigned),r=r.Next}},u.Clipper=function(r){typeof r>"u"&&(r=0),this.m_PolyOuts=null,this.m_ClipType=u.ClipType.ctIntersection,this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=null,this.m_IntersectNodeComparer=null,this.m_ExecuteLocked=!1,this.m_ClipFillType=u.PolyFillType.pftEvenOdd,this.m_SubjFillType=u.PolyFillType.pftEvenOdd,this.m_Joins=null,this.m_GhostJoins=null,this.m_UsingPolyTree=!1,this.ReverseSolution=!1,this.StrictlySimple=!1,u.ClipperBase.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null,this.m_IntersectList=new Array,this.m_IntersectNodeComparer=u.MyIntersectNodeSort.Compare,this.m_ExecuteLocked=!1,this.m_UsingPolyTree=!1,this.m_PolyOuts=new Array,this.m_Joins=new Array,this.m_GhostJoins=new Array,this.ReverseSolution=(1&r)!==0,this.StrictlySimple=(2&r)!==0,this.PreserveCollinear=(4&r)!==0},u.Clipper.ioReverseSolution=1,u.Clipper.ioStrictlySimple=2,u.Clipper.ioPreserveCollinear=4,u.Clipper.prototype.Clear=function(){this.m_edges.length!==0&&(this.DisposeAllPolyPts(),u.ClipperBase.prototype.Clear.call(this))},u.Clipper.prototype.DisposeScanbeamList=function(){for(;this.m_Scanbeam!==null;){var r=this.m_Scanbeam.Next;this.m_Scanbeam=null,this.m_Scanbeam=r}},u.Clipper.prototype.Reset=function(){u.ClipperBase.prototype.Reset.call(this),this.m_Scanbeam=null,this.m_ActiveEdges=null,this.m_SortedEdges=null;for(var r=this.m_MinimaList;r!==null;)this.InsertScanbeam(r.Y),r=r.Next},u.Clipper.prototype.InsertScanbeam=function(r){if(this.m_Scanbeam===null)this.m_Scanbeam=new u.Scanbeam,this.m_Scanbeam.Next=null,this.m_Scanbeam.Y=r;else if(r>this.m_Scanbeam.Y){var d=new u.Scanbeam;d.Y=r,d.Next=this.m_Scanbeam,this.m_Scanbeam=d}else{for(var P=this.m_Scanbeam;P.Next!==null&&r<=P.Next.Y;)P=P.Next;if(r==P.Y)return;var d=new u.Scanbeam;d.Y=r,d.Next=P.Next,P.Next=d}},u.Clipper.prototype.Execute=function(){var r=arguments,d=r.length,P=r[1]instanceof u.PolyTree;if(d==4&&!P){var k=r[0],$=r[1],ae=r[2],de=r[3];if(this.m_ExecuteLocked)return!1;this.m_HasOpenPaths&&u.Error("Error: PolyTree struct is need for open path clipping."),this.m_ExecuteLocked=!0,u.Clear($),this.m_SubjFillType=ae,this.m_ClipFillType=de,this.m_ClipType=k,this.m_UsingPolyTree=!1;try{var Ce=this.ExecuteInternal();Ce&&this.BuildResult($)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return Ce}else if(d==4&&P){var k=r[0],Be=r[1],ae=r[2],de=r[3];if(this.m_ExecuteLocked)return!1;this.m_ExecuteLocked=!0,this.m_SubjFillType=ae,this.m_ClipFillType=de,this.m_ClipType=k,this.m_UsingPolyTree=!0;try{var Ce=this.ExecuteInternal();Ce&&this.BuildResult2(Be)}finally{this.DisposeAllPolyPts(),this.m_ExecuteLocked=!1}return Ce}else if(d==2&&!P){var k=r[0],$=r[1];return this.Execute(k,$,u.PolyFillType.pftEvenOdd,u.PolyFillType.pftEvenOdd)}else if(d==2&&P){var k=r[0],Be=r[1];return this.Execute(k,Be,u.PolyFillType.pftEvenOdd,u.PolyFillType.pftEvenOdd)}},u.Clipper.prototype.FixHoleLinkage=function(r){if(!(r.FirstLeft===null||r.IsHole!=r.FirstLeft.IsHole&&r.FirstLeft.Pts!==null)){for(var d=r.FirstLeft;d!==null&&(d.IsHole==r.IsHole||d.Pts===null);)d=d.FirstLeft;r.FirstLeft=d}},u.Clipper.prototype.ExecuteInternal=function(){try{if(this.Reset(),this.m_CurrentLM===null)return!1;var r=this.PopScanbeam();do{if(this.InsertLocalMinimaIntoAEL(r),u.Clear(this.m_GhostJoins),this.ProcessHorizontals(!1),this.m_Scanbeam===null)break;var d=this.PopScanbeam();if(!this.ProcessIntersections(r,d))return!1;this.ProcessEdgesAtTopOfScanbeam(d),r=d}while(this.m_Scanbeam!==null||this.m_CurrentLM!==null);for(var P=0,k=this.m_PolyOuts.length;P<k;P++){var $=this.m_PolyOuts[P];$.Pts===null||$.IsOpen||($.IsHole^this.ReverseSolution)==this.Area($)>0&&this.ReversePolyPtLinks($.Pts)}this.JoinCommonEdges();for(var P=0,k=this.m_PolyOuts.length;P<k;P++){var $=this.m_PolyOuts[P];$.Pts!==null&&!$.IsOpen&&this.FixupOutPolygon($)}return this.StrictlySimple&&this.DoSimplePolygons(),!0}finally{u.Clear(this.m_Joins),u.Clear(this.m_GhostJoins)}},u.Clipper.prototype.PopScanbeam=function(){var r=this.m_Scanbeam.Y;return this.m_Scanbeam,this.m_Scanbeam=this.m_Scanbeam.Next,r},u.Clipper.prototype.DisposeAllPolyPts=function(){for(var r=0,d=this.m_PolyOuts.length;r<d;++r)this.DisposeOutRec(r);u.Clear(this.m_PolyOuts)},u.Clipper.prototype.DisposeOutRec=function(r){var d=this.m_PolyOuts[r];d.Pts!==null&&this.DisposeOutPts(d.Pts),d=null,this.m_PolyOuts[r]=null},u.Clipper.prototype.DisposeOutPts=function(r){if(r!==null)for(r.Prev.Next=null;r!==null;)r=r.Next},u.Clipper.prototype.AddJoin=function(r,d,P){var k=new u.Join;k.OutPt1=r,k.OutPt2=d,k.OffPt.X=P.X,k.OffPt.Y=P.Y,this.m_Joins.push(k)},u.Clipper.prototype.AddGhostJoin=function(r,d){var P=new u.Join;P.OutPt1=r,P.OffPt.X=d.X,P.OffPt.Y=d.Y,this.m_GhostJoins.push(P)},u.Clipper.prototype.InsertLocalMinimaIntoAEL=function(r){for(;this.m_CurrentLM!==null&&this.m_CurrentLM.Y==r;){var d=this.m_CurrentLM.LeftBound,P=this.m_CurrentLM.RightBound;this.PopLocalMinima();var k=null;if(d===null?(this.InsertEdgeIntoAEL(P,null),this.SetWindingCount(P),this.IsContributing(P)&&(k=this.AddOutPt(P,P.Bot))):P==null?(this.InsertEdgeIntoAEL(d,null),this.SetWindingCount(d),this.IsContributing(d)&&(k=this.AddOutPt(d,d.Bot)),this.InsertScanbeam(d.Top.Y)):(this.InsertEdgeIntoAEL(d,null),this.InsertEdgeIntoAEL(P,d),this.SetWindingCount(d),P.WindCnt=d.WindCnt,P.WindCnt2=d.WindCnt2,this.IsContributing(d)&&(k=this.AddLocalMinPoly(d,P,d.Bot)),this.InsertScanbeam(d.Top.Y)),P!=null&&(u.ClipperBase.IsHorizontal(P)?this.AddEdgeToSEL(P):this.InsertScanbeam(P.Top.Y)),!(d==null||P==null)){if(k!==null&&u.ClipperBase.IsHorizontal(P)&&this.m_GhostJoins.length>0&&P.WindDelta!==0)for(var $=0,ae=this.m_GhostJoins.length;$<ae;$++){var de=this.m_GhostJoins[$];this.HorzSegmentsOverlap(de.OutPt1.Pt,de.OffPt,P.Bot,P.Top)&&this.AddJoin(de.OutPt1,k,de.OffPt)}if(d.OutIdx>=0&&d.PrevInAEL!==null&&d.PrevInAEL.Curr.X==d.Bot.X&&d.PrevInAEL.OutIdx>=0&&u.ClipperBase.SlopesEqual(d.PrevInAEL,d,this.m_UseFullRange)&&d.WindDelta!==0&&d.PrevInAEL.WindDelta!==0){var Ce=this.AddOutPt(d.PrevInAEL,d.Bot);this.AddJoin(k,Ce,d.Top)}if(d.NextInAEL!=P){if(P.OutIdx>=0&&P.PrevInAEL.OutIdx>=0&&u.ClipperBase.SlopesEqual(P.PrevInAEL,P,this.m_UseFullRange)&&P.WindDelta!==0&&P.PrevInAEL.WindDelta!==0){var Ce=this.AddOutPt(P.PrevInAEL,P.Bot);this.AddJoin(k,Ce,P.Top)}var Be=d.NextInAEL;if(Be!==null)for(;Be!=P;)this.IntersectEdges(P,Be,d.Curr,!1),Be=Be.NextInAEL}}}},u.Clipper.prototype.InsertEdgeIntoAEL=function(r,d){if(this.m_ActiveEdges===null)r.PrevInAEL=null,r.NextInAEL=null,this.m_ActiveEdges=r;else if(d===null&&this.E2InsertsBeforeE1(this.m_ActiveEdges,r))r.PrevInAEL=null,r.NextInAEL=this.m_ActiveEdges,this.m_ActiveEdges.PrevInAEL=r,this.m_ActiveEdges=r;else{for(d===null&&(d=this.m_ActiveEdges);d.NextInAEL!==null&&!this.E2InsertsBeforeE1(d.NextInAEL,r);)d=d.NextInAEL;r.NextInAEL=d.NextInAEL,d.NextInAEL!==null&&(d.NextInAEL.PrevInAEL=r),r.PrevInAEL=d,d.NextInAEL=r}},u.Clipper.prototype.E2InsertsBeforeE1=function(r,d){return d.Curr.X==r.Curr.X?d.Top.Y>r.Top.Y?d.Top.X<u.Clipper.TopX(r,d.Top.Y):r.Top.X>u.Clipper.TopX(d,r.Top.Y):d.Curr.X<r.Curr.X},u.Clipper.prototype.IsEvenOddFillType=function(r){return r.PolyTyp==u.PolyType.ptSubject?this.m_SubjFillType==u.PolyFillType.pftEvenOdd:this.m_ClipFillType==u.PolyFillType.pftEvenOdd},u.Clipper.prototype.IsEvenOddAltFillType=function(r){return r.PolyTyp==u.PolyType.ptSubject?this.m_ClipFillType==u.PolyFillType.pftEvenOdd:this.m_SubjFillType==u.PolyFillType.pftEvenOdd},u.Clipper.prototype.IsContributing=function(r){var d,P;switch(r.PolyTyp==u.PolyType.ptSubject?(d=this.m_SubjFillType,P=this.m_ClipFillType):(d=this.m_ClipFillType,P=this.m_SubjFillType),d){case u.PolyFillType.pftEvenOdd:if(r.WindDelta===0&&r.WindCnt!=1)return!1;break;case u.PolyFillType.pftNonZero:if(Math.abs(r.WindCnt)!=1)return!1;break;case u.PolyFillType.pftPositive:if(r.WindCnt!=1)return!1;break;default:if(r.WindCnt!=-1)return!1;break}switch(this.m_ClipType){case u.ClipType.ctIntersection:switch(P){case u.PolyFillType.pftEvenOdd:case u.PolyFillType.pftNonZero:return r.WindCnt2!==0;case u.PolyFillType.pftPositive:return r.WindCnt2>0;default:return r.WindCnt2<0}case u.ClipType.ctUnion:switch(P){case u.PolyFillType.pftEvenOdd:case u.PolyFillType.pftNonZero:return r.WindCnt2===0;case u.PolyFillType.pftPositive:return r.WindCnt2<=0;default:return r.WindCnt2>=0}case u.ClipType.ctDifference:if(r.PolyTyp==u.PolyType.ptSubject)switch(P){case u.PolyFillType.pftEvenOdd:case u.PolyFillType.pftNonZero:return r.WindCnt2===0;case u.PolyFillType.pftPositive:return r.WindCnt2<=0;default:return r.WindCnt2>=0}else switch(P){case u.PolyFillType.pftEvenOdd:case u.PolyFillType.pftNonZero:return r.WindCnt2!==0;case u.PolyFillType.pftPositive:return r.WindCnt2>0;default:return r.WindCnt2<0}case u.ClipType.ctXor:if(r.WindDelta===0)switch(P){case u.PolyFillType.pftEvenOdd:case u.PolyFillType.pftNonZero:return r.WindCnt2===0;case u.PolyFillType.pftPositive:return r.WindCnt2<=0;default:return r.WindCnt2>=0}else return!0}return!0},u.Clipper.prototype.SetWindingCount=function(r){for(var d=r.PrevInAEL;d!==null&&(d.PolyTyp!=r.PolyTyp||d.WindDelta===0);)d=d.PrevInAEL;if(d===null)r.WindCnt=r.WindDelta===0?1:r.WindDelta,r.WindCnt2=0,d=this.m_ActiveEdges;else if(r.WindDelta===0&&this.m_ClipType!=u.ClipType.ctUnion)r.WindCnt=1,r.WindCnt2=d.WindCnt2,d=d.NextInAEL;else if(this.IsEvenOddFillType(r)){if(r.WindDelta===0){for(var P=!0,k=d.PrevInAEL;k!==null;)k.PolyTyp==d.PolyTyp&&k.WindDelta!==0&&(P=!P),k=k.PrevInAEL;r.WindCnt=P?0:1}else r.WindCnt=r.WindDelta;r.WindCnt2=d.WindCnt2,d=d.NextInAEL}else d.WindCnt*d.WindDelta<0?Math.abs(d.WindCnt)>1?d.WindDelta*r.WindDelta<0?r.WindCnt=d.WindCnt:r.WindCnt=d.WindCnt+r.WindDelta:r.WindCnt=r.WindDelta===0?1:r.WindDelta:r.WindDelta===0?r.WindCnt=d.WindCnt<0?d.WindCnt-1:d.WindCnt+1:d.WindDelta*r.WindDelta<0?r.WindCnt=d.WindCnt:r.WindCnt=d.WindCnt+r.WindDelta,r.WindCnt2=d.WindCnt2,d=d.NextInAEL;if(this.IsEvenOddAltFillType(r))for(;d!=r;)d.WindDelta!==0&&(r.WindCnt2=r.WindCnt2===0?1:0),d=d.NextInAEL;else for(;d!=r;)r.WindCnt2+=d.WindDelta,d=d.NextInAEL},u.Clipper.prototype.AddEdgeToSEL=function(r){this.m_SortedEdges===null?(this.m_SortedEdges=r,r.PrevInSEL=null,r.NextInSEL=null):(r.NextInSEL=this.m_SortedEdges,r.PrevInSEL=null,this.m_SortedEdges.PrevInSEL=r,this.m_SortedEdges=r)},u.Clipper.prototype.CopyAELToSEL=function(){var r=this.m_ActiveEdges;for(this.m_SortedEdges=r;r!==null;)r.PrevInSEL=r.PrevInAEL,r.NextInSEL=r.NextInAEL,r=r.NextInAEL},u.Clipper.prototype.SwapPositionsInAEL=function(r,d){if(!(r.NextInAEL==r.PrevInAEL||d.NextInAEL==d.PrevInAEL)){if(r.NextInAEL==d){var P=d.NextInAEL;P!==null&&(P.PrevInAEL=r);var k=r.PrevInAEL;k!==null&&(k.NextInAEL=d),d.PrevInAEL=k,d.NextInAEL=r,r.PrevInAEL=d,r.NextInAEL=P}else if(d.NextInAEL==r){var P=r.NextInAEL;P!==null&&(P.PrevInAEL=d);var k=d.PrevInAEL;k!==null&&(k.NextInAEL=r),r.PrevInAEL=k,r.NextInAEL=d,d.PrevInAEL=r,d.NextInAEL=P}else{var P=r.NextInAEL,k=r.PrevInAEL;r.NextInAEL=d.NextInAEL,r.NextInAEL!==null&&(r.NextInAEL.PrevInAEL=r),r.PrevInAEL=d.PrevInAEL,r.PrevInAEL!==null&&(r.PrevInAEL.NextInAEL=r),d.NextInAEL=P,d.NextInAEL!==null&&(d.NextInAEL.PrevInAEL=d),d.PrevInAEL=k,d.PrevInAEL!==null&&(d.PrevInAEL.NextInAEL=d)}r.PrevInAEL===null?this.m_ActiveEdges=r:d.PrevInAEL===null&&(this.m_ActiveEdges=d)}},u.Clipper.prototype.SwapPositionsInSEL=function(r,d){if(!(r.NextInSEL===null&&r.PrevInSEL===null)&&!(d.NextInSEL===null&&d.PrevInSEL===null)){if(r.NextInSEL==d){var P=d.NextInSEL;P!==null&&(P.PrevInSEL=r);var k=r.PrevInSEL;k!==null&&(k.NextInSEL=d),d.PrevInSEL=k,d.NextInSEL=r,r.PrevInSEL=d,r.NextInSEL=P}else if(d.NextInSEL==r){var P=r.NextInSEL;P!==null&&(P.PrevInSEL=d);var k=d.PrevInSEL;k!==null&&(k.NextInSEL=r),r.PrevInSEL=k,r.NextInSEL=d,d.PrevInSEL=r,d.NextInSEL=P}else{var P=r.NextInSEL,k=r.PrevInSEL;r.NextInSEL=d.NextInSEL,r.NextInSEL!==null&&(r.NextInSEL.PrevInSEL=r),r.PrevInSEL=d.PrevInSEL,r.PrevInSEL!==null&&(r.PrevInSEL.NextInSEL=r),d.NextInSEL=P,d.NextInSEL!==null&&(d.NextInSEL.PrevInSEL=d),d.PrevInSEL=k,d.PrevInSEL!==null&&(d.PrevInSEL.NextInSEL=d)}r.PrevInSEL===null?this.m_SortedEdges=r:d.PrevInSEL===null&&(this.m_SortedEdges=d)}},u.Clipper.prototype.AddLocalMaxPoly=function(r,d,P){this.AddOutPt(r,P),d.WindDelta==0&&this.AddOutPt(d,P),r.OutIdx==d.OutIdx?(r.OutIdx=-1,d.OutIdx=-1):r.OutIdx<d.OutIdx?this.AppendPolygon(r,d):this.AppendPolygon(d,r)},u.Clipper.prototype.AddLocalMinPoly=function(r,d,P){var k,$,ae;if(u.ClipperBase.IsHorizontal(d)||r.Dx>d.Dx?(k=this.AddOutPt(r,P),d.OutIdx=r.OutIdx,r.Side=u.EdgeSide.esLeft,d.Side=u.EdgeSide.esRight,$=r,$.PrevInAEL==d?ae=d.PrevInAEL:ae=$.PrevInAEL):(k=this.AddOutPt(d,P),r.OutIdx=d.OutIdx,r.Side=u.EdgeSide.esRight,d.Side=u.EdgeSide.esLeft,$=d,$.PrevInAEL==r?ae=r.PrevInAEL:ae=$.PrevInAEL),ae!==null&&ae.OutIdx>=0&&u.Clipper.TopX(ae,P.Y)==u.Clipper.TopX($,P.Y)&&u.ClipperBase.SlopesEqual($,ae,this.m_UseFullRange)&&$.WindDelta!==0&&ae.WindDelta!==0){var de=this.AddOutPt(ae,P);this.AddJoin(k,de,$.Top)}return k},u.Clipper.prototype.CreateOutRec=function(){var r=new u.OutRec;return r.Idx=-1,r.IsHole=!1,r.IsOpen=!1,r.FirstLeft=null,r.Pts=null,r.BottomPt=null,r.PolyNode=null,this.m_PolyOuts.push(r),r.Idx=this.m_PolyOuts.length-1,r},u.Clipper.prototype.AddOutPt=function(r,d){var P=r.Side==u.EdgeSide.esLeft;if(r.OutIdx<0){var k=this.CreateOutRec();k.IsOpen=r.WindDelta===0;var $=new u.OutPt;return k.Pts=$,$.Idx=k.Idx,$.Pt.X=d.X,$.Pt.Y=d.Y,$.Next=$,$.Prev=$,k.IsOpen||this.SetHoleState(r,k),r.OutIdx=k.Idx,$}else{var k=this.m_PolyOuts[r.OutIdx],ae=k.Pts;if(P&&u.IntPoint.op_Equality(d,ae.Pt))return ae;if(!P&&u.IntPoint.op_Equality(d,ae.Prev.Pt))return ae.Prev;var $=new u.OutPt;return $.Idx=k.Idx,$.Pt.X=d.X,$.Pt.Y=d.Y,$.Next=ae,$.Prev=ae.Prev,$.Prev.Next=$,ae.Prev=$,P&&(k.Pts=$),$}},u.Clipper.prototype.SwapPoints=function(r,d){var P=new u.IntPoint(r.Value);r.Value.X=d.Value.X,r.Value.Y=d.Value.Y,d.Value.X=P.X,d.Value.Y=P.Y},u.Clipper.prototype.HorzSegmentsOverlap=function(r,d,P,k){return r.X>P.X==r.X<k.X||d.X>P.X==d.X<k.X||P.X>r.X==P.X<d.X||k.X>r.X==k.X<d.X||r.X==P.X&&d.X==k.X?!0:r.X==k.X&&d.X==P.X},u.Clipper.prototype.InsertPolyPtBetween=function(r,d,P){var k=new u.OutPt;return k.Pt.X=P.X,k.Pt.Y=P.Y,d==r.Next?(r.Next=k,d.Prev=k,k.Next=d,k.Prev=r):(d.Next=k,r.Prev=k,k.Next=r,k.Prev=d),k},u.Clipper.prototype.SetHoleState=function(r,d){for(var P=!1,k=r.PrevInAEL;k!==null;)k.OutIdx>=0&&k.WindDelta!=0&&(P=!P,d.FirstLeft===null&&(d.FirstLeft=this.m_PolyOuts[k.OutIdx])),k=k.PrevInAEL;P&&(d.IsHole=!0)},u.Clipper.prototype.GetDx=function(r,d){return r.Y==d.Y?u.ClipperBase.horizontal:(d.X-r.X)/(d.Y-r.Y)},u.Clipper.prototype.FirstIsBottomPt=function(r,d){for(var P=r.Prev;u.IntPoint.op_Equality(P.Pt,r.Pt)&&P!=r;)P=P.Prev;var k=Math.abs(this.GetDx(r.Pt,P.Pt));for(P=r.Next;u.IntPoint.op_Equality(P.Pt,r.Pt)&&P!=r;)P=P.Next;var $=Math.abs(this.GetDx(r.Pt,P.Pt));for(P=d.Prev;u.IntPoint.op_Equality(P.Pt,d.Pt)&&P!=d;)P=P.Prev;var ae=Math.abs(this.GetDx(d.Pt,P.Pt));for(P=d.Next;u.IntPoint.op_Equality(P.Pt,d.Pt)&&P!=d;)P=P.Next;var de=Math.abs(this.GetDx(d.Pt,P.Pt));return k>=ae&&k>=de||$>=ae&&$>=de},u.Clipper.prototype.GetBottomPt=function(r){for(var d=null,P=r.Next;P!=r;)P.Pt.Y>r.Pt.Y?(r=P,d=null):P.Pt.Y==r.Pt.Y&&P.Pt.X<=r.Pt.X&&(P.Pt.X<r.Pt.X?(d=null,r=P):P.Next!=r&&P.Prev!=r&&(d=P)),P=P.Next;if(d!==null)for(;d!=P;)for(this.FirstIsBottomPt(P,d)||(r=d),d=d.Next;u.IntPoint.op_Inequality(d.Pt,r.Pt);)d=d.Next;return r},u.Clipper.prototype.GetLowermostRec=function(r,d){r.BottomPt===null&&(r.BottomPt=this.GetBottomPt(r.Pts)),d.BottomPt===null&&(d.BottomPt=this.GetBottomPt(d.Pts));var P=r.BottomPt,k=d.BottomPt;return P.Pt.Y>k.Pt.Y?r:P.Pt.Y<k.Pt.Y?d:P.Pt.X<k.Pt.X?r:P.Pt.X>k.Pt.X||P.Next==P?d:k.Next==k||this.FirstIsBottomPt(P,k)?r:d},u.Clipper.prototype.Param1RightOfParam2=function(r,d){do if(r=r.FirstLeft,r==d)return!0;while(r!==null);return!1},u.Clipper.prototype.GetOutRec=function(r){for(var d=this.m_PolyOuts[r];d!=this.m_PolyOuts[d.Idx];)d=this.m_PolyOuts[d.Idx];return d},u.Clipper.prototype.AppendPolygon=function(r,d){var P=this.m_PolyOuts[r.OutIdx],k=this.m_PolyOuts[d.OutIdx],$;this.Param1RightOfParam2(P,k)?$=k:this.Param1RightOfParam2(k,P)?$=P:$=this.GetLowermostRec(P,k);var ae=P.Pts,de=ae.Prev,Ce=k.Pts,Be=Ce.Prev,Fe;r.Side==u.EdgeSide.esLeft?(d.Side==u.EdgeSide.esLeft?(this.ReversePolyPtLinks(Ce),Ce.Next=ae,ae.Prev=Ce,de.Next=Be,Be.Prev=de,P.Pts=Be):(Be.Next=ae,ae.Prev=Be,Ce.Prev=de,de.Next=Ce,P.Pts=Ce),Fe=u.EdgeSide.esLeft):(d.Side==u.EdgeSide.esRight?(this.ReversePolyPtLinks(Ce),de.Next=Be,Be.Prev=de,Ce.Next=ae,ae.Prev=Ce):(de.Next=Ce,Ce.Prev=de,ae.Prev=Be,Be.Next=ae),Fe=u.EdgeSide.esRight),P.BottomPt=null,$==k&&(k.FirstLeft!=P&&(P.FirstLeft=k.FirstLeft),P.IsHole=k.IsHole),k.Pts=null,k.BottomPt=null,k.FirstLeft=P;var Ze=r.OutIdx,Qe=d.OutIdx;r.OutIdx=-1,d.OutIdx=-1;for(var it=this.m_ActiveEdges;it!==null;){if(it.OutIdx==Qe){it.OutIdx=Ze,it.Side=Fe;break}it=it.NextInAEL}k.Idx=P.Idx},u.Clipper.prototype.ReversePolyPtLinks=function(r){if(r!==null){var d,P;d=r;do P=d.Next,d.Next=d.Prev,d.Prev=P,d=P;while(d!=r)}},u.Clipper.SwapSides=function(r,d){var P=r.Side;r.Side=d.Side,d.Side=P},u.Clipper.SwapPolyIndexes=function(r,d){var P=r.OutIdx;r.OutIdx=d.OutIdx,d.OutIdx=P},u.Clipper.prototype.IntersectEdges=function(r,d,P,k){var $=!k&&r.NextInLML===null&&r.Top.X==P.X&&r.Top.Y==P.Y,ae=!k&&d.NextInLML===null&&d.Top.X==P.X&&d.Top.Y==P.Y,de=r.OutIdx>=0,Ce=d.OutIdx>=0;if(r.WindDelta===0||d.WindDelta===0){r.WindDelta===0&&d.WindDelta===0?($||ae)&&de&&Ce&&this.AddLocalMaxPoly(r,d,P):r.PolyTyp==d.PolyTyp&&r.WindDelta!=d.WindDelta&&this.m_ClipType==u.ClipType.ctUnion?r.WindDelta===0?Ce&&(this.AddOutPt(r,P),de&&(r.OutIdx=-1)):de&&(this.AddOutPt(d,P),Ce&&(d.OutIdx=-1)):r.PolyTyp!=d.PolyTyp&&(r.WindDelta===0&&Math.abs(d.WindCnt)==1&&(this.m_ClipType!=u.ClipType.ctUnion||d.WindCnt2===0)?(this.AddOutPt(r,P),de&&(r.OutIdx=-1)):d.WindDelta===0&&Math.abs(r.WindCnt)==1&&(this.m_ClipType!=u.ClipType.ctUnion||r.WindCnt2===0)&&(this.AddOutPt(d,P),Ce&&(d.OutIdx=-1))),$&&(r.OutIdx<0?this.DeleteFromAEL(r):u.Error("Error intersecting polylines")),ae&&(d.OutIdx<0?this.DeleteFromAEL(d):u.Error("Error intersecting polylines"));return}if(r.PolyTyp==d.PolyTyp)if(this.IsEvenOddFillType(r)){var Be=r.WindCnt;r.WindCnt=d.WindCnt,d.WindCnt=Be}else r.WindCnt+d.WindDelta===0?r.WindCnt=-r.WindCnt:r.WindCnt+=d.WindDelta,d.WindCnt-r.WindDelta===0?d.WindCnt=-d.WindCnt:d.WindCnt-=r.WindDelta;else this.IsEvenOddFillType(d)?r.WindCnt2=r.WindCnt2===0?1:0:r.WindCnt2+=d.WindDelta,this.IsEvenOddFillType(r)?d.WindCnt2=d.WindCnt2===0?1:0:d.WindCnt2-=r.WindDelta;var Fe,Ze,Qe,it;r.PolyTyp==u.PolyType.ptSubject?(Fe=this.m_SubjFillType,Qe=this.m_ClipFillType):(Fe=this.m_ClipFillType,Qe=this.m_SubjFillType),d.PolyTyp==u.PolyType.ptSubject?(Ze=this.m_SubjFillType,it=this.m_ClipFillType):(Ze=this.m_ClipFillType,it=this.m_SubjFillType);var ot,st;switch(Fe){case u.PolyFillType.pftPositive:ot=r.WindCnt;break;case u.PolyFillType.pftNegative:ot=-r.WindCnt;break;default:ot=Math.abs(r.WindCnt);break}switch(Ze){case u.PolyFillType.pftPositive:st=d.WindCnt;break;case u.PolyFillType.pftNegative:st=-d.WindCnt;break;default:st=Math.abs(d.WindCnt);break}if(de&&Ce)$||ae||ot!==0&&ot!=1||st!==0&&st!=1||r.PolyTyp!=d.PolyTyp&&this.m_ClipType!=u.ClipType.ctXor?this.AddLocalMaxPoly(r,d,P):(this.AddOutPt(r,P),this.AddOutPt(d,P),u.Clipper.SwapSides(r,d),u.Clipper.SwapPolyIndexes(r,d));else if(de)(st===0||st==1)&&(this.AddOutPt(r,P),u.Clipper.SwapSides(r,d),u.Clipper.SwapPolyIndexes(r,d));else if(Ce)(ot===0||ot==1)&&(this.AddOutPt(d,P),u.Clipper.SwapSides(r,d),u.Clipper.SwapPolyIndexes(r,d));else if((ot===0||ot==1)&&(st===0||st==1)&&!$&&!ae){var ut,At;switch(Qe){case u.PolyFillType.pftPositive:ut=r.WindCnt2;break;case u.PolyFillType.pftNegative:ut=-r.WindCnt2;break;default:ut=Math.abs(r.WindCnt2);break}switch(it){case u.PolyFillType.pftPositive:At=d.WindCnt2;break;case u.PolyFillType.pftNegative:At=-d.WindCnt2;break;default:At=Math.abs(d.WindCnt2);break}if(r.PolyTyp!=d.PolyTyp)this.AddLocalMinPoly(r,d,P);else if(ot==1&&st==1)switch(this.m_ClipType){case u.ClipType.ctIntersection:ut>0&&At>0&&this.AddLocalMinPoly(r,d,P);break;case u.ClipType.ctUnion:ut<=0&&At<=0&&this.AddLocalMinPoly(r,d,P);break;case u.ClipType.ctDifference:(r.PolyTyp==u.PolyType.ptClip&&ut>0&&At>0||r.PolyTyp==u.PolyType.ptSubject&&ut<=0&&At<=0)&&this.AddLocalMinPoly(r,d,P);break;case u.ClipType.ctXor:this.AddLocalMinPoly(r,d,P);break}else u.Clipper.SwapSides(r,d)}$!=ae&&($&&r.OutIdx>=0||ae&&d.OutIdx>=0)&&(u.Clipper.SwapSides(r,d),u.Clipper.SwapPolyIndexes(r,d)),$&&this.DeleteFromAEL(r),ae&&this.DeleteFromAEL(d)},u.Clipper.prototype.DeleteFromAEL=function(r){var d=r.PrevInAEL,P=r.NextInAEL;d===null&&P===null&&r!=this.m_ActiveEdges||(d!==null?d.NextInAEL=P:this.m_ActiveEdges=P,P!==null&&(P.PrevInAEL=d),r.NextInAEL=null,r.PrevInAEL=null)},u.Clipper.prototype.DeleteFromSEL=function(r){var d=r.PrevInSEL,P=r.NextInSEL;d===null&&P===null&&r!=this.m_SortedEdges||(d!==null?d.NextInSEL=P:this.m_SortedEdges=P,P!==null&&(P.PrevInSEL=d),r.NextInSEL=null,r.PrevInSEL=null)},u.Clipper.prototype.UpdateEdgeIntoAEL=function(r){r.NextInLML===null&&u.Error("UpdateEdgeIntoAEL: invalid call");var d=r.PrevInAEL,P=r.NextInAEL;return r.NextInLML.OutIdx=r.OutIdx,d!==null?d.NextInAEL=r.NextInLML:this.m_ActiveEdges=r.NextInLML,P!==null&&(P.PrevInAEL=r.NextInLML),r.NextInLML.Side=r.Side,r.NextInLML.WindDelta=r.WindDelta,r.NextInLML.WindCnt=r.WindCnt,r.NextInLML.WindCnt2=r.WindCnt2,r=r.NextInLML,r.Curr.X=r.Bot.X,r.Curr.Y=r.Bot.Y,r.PrevInAEL=d,r.NextInAEL=P,u.ClipperBase.IsHorizontal(r)||this.InsertScanbeam(r.Top.Y),r},u.Clipper.prototype.ProcessHorizontals=function(r){for(var d=this.m_SortedEdges;d!==null;)this.DeleteFromSEL(d),this.ProcessHorizontal(d,r),d=this.m_SortedEdges},u.Clipper.prototype.GetHorzDirection=function(r,d){r.Bot.X<r.Top.X?(d.Left=r.Bot.X,d.Right=r.Top.X,d.Dir=u.Direction.dLeftToRight):(d.Left=r.Top.X,d.Right=r.Bot.X,d.Dir=u.Direction.dRightToLeft)},u.Clipper.prototype.PrepareHorzJoins=function(r,d){var P=this.m_PolyOuts[r.OutIdx].Pts;r.Side!=u.EdgeSide.esLeft&&(P=P.Prev),d&&(u.IntPoint.op_Equality(P.Pt,r.Top)?this.AddGhostJoin(P,r.Bot):this.AddGhostJoin(P,r.Top))},u.Clipper.prototype.ProcessHorizontal=function(r,d){var P={Dir:null,Left:null,Right:null};this.GetHorzDirection(r,P);for(var k=P.Dir,$=P.Left,ae=P.Right,de=r,Ce=null;de.NextInLML!==null&&u.ClipperBase.IsHorizontal(de.NextInLML);)de=de.NextInLML;for(de.NextInLML===null&&(Ce=this.GetMaximaPair(de));;){for(var Be=r==de,Fe=this.GetNextInAEL(r,k);Fe!==null&&!(Fe.Curr.X==r.Top.X&&r.NextInLML!==null&&Fe.Dx<r.NextInLML.Dx);){var Ze=this.GetNextInAEL(Fe,k);if(k==u.Direction.dLeftToRight&&Fe.Curr.X<=ae||k==u.Direction.dRightToLeft&&Fe.Curr.X>=$){if(r.OutIdx>=0&&r.WindDelta!=0&&this.PrepareHorzJoins(r,d),Fe==Ce&&Be){k==u.Direction.dLeftToRight?this.IntersectEdges(r,Fe,Fe.Top,!1):this.IntersectEdges(Fe,r,Fe.Top,!1),Ce.OutIdx>=0&&u.Error("ProcessHorizontal error");return}else if(k==u.Direction.dLeftToRight){var Qe=new u.IntPoint(Fe.Curr.X,r.Curr.Y);this.IntersectEdges(r,Fe,Qe,!0)}else{var Qe=new u.IntPoint(Fe.Curr.X,r.Curr.Y);this.IntersectEdges(Fe,r,Qe,!0)}this.SwapPositionsInAEL(r,Fe)}else if(k==u.Direction.dLeftToRight&&Fe.Curr.X>=ae||k==u.Direction.dRightToLeft&&Fe.Curr.X<=$)break;Fe=Ze}if(r.OutIdx>=0&&r.WindDelta!==0&&this.PrepareHorzJoins(r,d),r.NextInLML!==null&&u.ClipperBase.IsHorizontal(r.NextInLML)){r=this.UpdateEdgeIntoAEL(r),r.OutIdx>=0&&this.AddOutPt(r,r.Bot);var P={Dir:k,Left:$,Right:ae};this.GetHorzDirection(r,P),k=P.Dir,$=P.Left,ae=P.Right}else break}if(r.NextInLML!==null)if(r.OutIdx>=0){var it=this.AddOutPt(r,r.Top);if(r=this.UpdateEdgeIntoAEL(r),r.WindDelta===0)return;var ot=r.PrevInAEL,Ze=r.NextInAEL;if(ot!==null&&ot.Curr.X==r.Bot.X&&ot.Curr.Y==r.Bot.Y&&ot.WindDelta!==0&&ot.OutIdx>=0&&ot.Curr.Y>ot.Top.Y&&u.ClipperBase.SlopesEqual(r,ot,this.m_UseFullRange)){var st=this.AddOutPt(ot,r.Bot);this.AddJoin(it,st,r.Top)}else if(Ze!==null&&Ze.Curr.X==r.Bot.X&&Ze.Curr.Y==r.Bot.Y&&Ze.WindDelta!==0&&Ze.OutIdx>=0&&Ze.Curr.Y>Ze.Top.Y&&u.ClipperBase.SlopesEqual(r,Ze,this.m_UseFullRange)){var st=this.AddOutPt(Ze,r.Bot);this.AddJoin(it,st,r.Top)}}else r=this.UpdateEdgeIntoAEL(r);else Ce!==null?Ce.OutIdx>=0?(k==u.Direction.dLeftToRight?this.IntersectEdges(r,Ce,r.Top,!1):this.IntersectEdges(Ce,r,r.Top,!1),Ce.OutIdx>=0&&u.Error("ProcessHorizontal error")):(this.DeleteFromAEL(r),this.DeleteFromAEL(Ce)):(r.OutIdx>=0&&this.AddOutPt(r,r.Top),this.DeleteFromAEL(r))},u.Clipper.prototype.GetNextInAEL=function(r,d){return d==u.Direction.dLeftToRight?r.NextInAEL:r.PrevInAEL},u.Clipper.prototype.IsMinima=function(r){return r!==null&&r.Prev.NextInLML!=r&&r.Next.NextInLML!=r},u.Clipper.prototype.IsMaxima=function(r,d){return r!==null&&r.Top.Y==d&&r.NextInLML===null},u.Clipper.prototype.IsIntermediate=function(r,d){return r.Top.Y==d&&r.NextInLML!==null},u.Clipper.prototype.GetMaximaPair=function(r){var d=null;return u.IntPoint.op_Equality(r.Next.Top,r.Top)&&r.Next.NextInLML===null?d=r.Next:u.IntPoint.op_Equality(r.Prev.Top,r.Top)&&r.Prev.NextInLML===null&&(d=r.Prev),d!==null&&(d.OutIdx==-2||d.NextInAEL==d.PrevInAEL&&!u.ClipperBase.IsHorizontal(d))?null:d},u.Clipper.prototype.ProcessIntersections=function(r,d){if(this.m_ActiveEdges==null)return!0;try{if(this.BuildIntersectList(r,d),this.m_IntersectList.length==0)return!0;if(this.m_IntersectList.length==1||this.FixupIntersectionOrder())this.ProcessIntersectList();else return!1}catch{this.m_SortedEdges=null,this.m_IntersectList.length=0,u.Error("ProcessIntersections error")}return this.m_SortedEdges=null,!0},u.Clipper.prototype.BuildIntersectList=function(r,d){if(this.m_ActiveEdges!==null){var P=this.m_ActiveEdges;for(this.m_SortedEdges=P;P!==null;)P.PrevInSEL=P.PrevInAEL,P.NextInSEL=P.NextInAEL,P.Curr.X=u.Clipper.TopX(P,d),P=P.NextInAEL;for(var k=!0;k&&this.m_SortedEdges!==null;){for(k=!1,P=this.m_SortedEdges;P.NextInSEL!==null;){var $=P.NextInSEL,ae=new u.IntPoint;if(P.Curr.X>$.Curr.X){!this.IntersectPoint(P,$,ae)&&P.Curr.X>$.Curr.X+1&&u.Error("Intersection error"),ae.Y>r&&(ae.Y=r,Math.abs(P.Dx)>Math.abs($.Dx)?ae.X=u.Clipper.TopX($,r):ae.X=u.Clipper.TopX(P,r));var de=new u.IntersectNode;de.Edge1=P,de.Edge2=$,de.Pt.X=ae.X,de.Pt.Y=ae.Y,this.m_IntersectList.push(de),this.SwapPositionsInSEL(P,$),k=!0}else P=$}if(P.PrevInSEL!==null)P.PrevInSEL.NextInSEL=null;else break}this.m_SortedEdges=null}},u.Clipper.prototype.EdgesAdjacent=function(r){return r.Edge1.NextInSEL==r.Edge2||r.Edge1.PrevInSEL==r.Edge2},u.Clipper.IntersectNodeSort=function(r,d){return d.Pt.Y-r.Pt.Y},u.Clipper.prototype.FixupIntersectionOrder=function(){this.m_IntersectList.sort(this.m_IntersectNodeComparer),this.CopyAELToSEL();for(var r=this.m_IntersectList.length,d=0;d<r;d++){if(!this.EdgesAdjacent(this.m_IntersectList[d])){for(var P=d+1;P<r&&!this.EdgesAdjacent(this.m_IntersectList[P]);)P++;if(P==r)return!1;var k=this.m_IntersectList[d];this.m_IntersectList[d]=this.m_IntersectList[P],this.m_IntersectList[P]=k}this.SwapPositionsInSEL(this.m_IntersectList[d].Edge1,this.m_IntersectList[d].Edge2)}return!0},u.Clipper.prototype.ProcessIntersectList=function(){for(var r=0,d=this.m_IntersectList.length;r<d;r++){var P=this.m_IntersectList[r];this.IntersectEdges(P.Edge1,P.Edge2,P.Pt,!0),this.SwapPositionsInAEL(P.Edge1,P.Edge2)}this.m_IntersectList.length=0};var pa=function(r){return r<0?Math.ceil(r-.5):Math.round(r)},va=function(r){return r<0?Math.ceil(r-.5):Math.floor(r+.5)},ma=function(r){return r<0?-Math.round(Math.abs(r)):Math.round(r)},_a=function(r){return r<0?(r-=.5,r<-2147483648?Math.ceil(r):r|0):(r+=.5,r>2147483647?Math.floor(r):r|0)};b.msie?u.Clipper.Round=pa:b.chromium?u.Clipper.Round=ma:b.safari?u.Clipper.Round=_a:u.Clipper.Round=va,u.Clipper.TopX=function(r,d){return d==r.Top.Y?r.Top.X:r.Bot.X+u.Clipper.Round(r.Dx*(d-r.Bot.Y))},u.Clipper.prototype.IntersectPoint=function(r,d,P){P.X=0,P.Y=0;var k,$;if(u.ClipperBase.SlopesEqual(r,d,this.m_UseFullRange)||r.Dx==d.Dx)return d.Bot.Y>r.Bot.Y?(P.X=d.Bot.X,P.Y=d.Bot.Y):(P.X=r.Bot.X,P.Y=r.Bot.Y),!1;if(r.Delta.X===0)P.X=r.Bot.X,u.ClipperBase.IsHorizontal(d)?P.Y=d.Bot.Y:($=d.Bot.Y-d.Bot.X/d.Dx,P.Y=u.Clipper.Round(P.X/d.Dx+$));else if(d.Delta.X===0)P.X=d.Bot.X,u.ClipperBase.IsHorizontal(r)?P.Y=r.Bot.Y:(k=r.Bot.Y-r.Bot.X/r.Dx,P.Y=u.Clipper.Round(P.X/r.Dx+k));else{k=r.Bot.X-r.Bot.Y*r.Dx,$=d.Bot.X-d.Bot.Y*d.Dx;var ae=($-k)/(r.Dx-d.Dx);P.Y=u.Clipper.Round(ae),Math.abs(r.Dx)<Math.abs(d.Dx)?P.X=u.Clipper.Round(r.Dx*ae+k):P.X=u.Clipper.Round(d.Dx*ae+$)}if(P.Y<r.Top.Y||P.Y<d.Top.Y){if(r.Top.Y>d.Top.Y)return P.Y=r.Top.Y,P.X=u.Clipper.TopX(d,r.Top.Y),P.X<r.Top.X;P.Y=d.Top.Y,Math.abs(r.Dx)<Math.abs(d.Dx)?P.X=u.Clipper.TopX(r,P.Y):P.X=u.Clipper.TopX(d,P.Y)}return!0},u.Clipper.prototype.ProcessEdgesAtTopOfScanbeam=function(r){for(var d=this.m_ActiveEdges;d!==null;){var P=this.IsMaxima(d,r);if(P){var k=this.GetMaximaPair(d);P=k===null||!u.ClipperBase.IsHorizontal(k)}if(P){var $=d.PrevInAEL;this.DoMaxima(d),$===null?d=this.m_ActiveEdges:d=$.NextInAEL}else{if(this.IsIntermediate(d,r)&&u.ClipperBase.IsHorizontal(d.NextInLML)?(d=this.UpdateEdgeIntoAEL(d),d.OutIdx>=0&&this.AddOutPt(d,d.Bot),this.AddEdgeToSEL(d)):(d.Curr.X=u.Clipper.TopX(d,r),d.Curr.Y=r),this.StrictlySimple){var $=d.PrevInAEL;if(d.OutIdx>=0&&d.WindDelta!==0&&$!==null&&$.OutIdx>=0&&$.Curr.X==d.Curr.X&&$.WindDelta!==0){var ae=this.AddOutPt($,d.Curr),de=this.AddOutPt(d,d.Curr);this.AddJoin(ae,de,d.Curr)}}d=d.NextInAEL}}for(this.ProcessHorizontals(!0),d=this.m_ActiveEdges;d!==null;){if(this.IsIntermediate(d,r)){var ae=null;d.OutIdx>=0&&(ae=this.AddOutPt(d,d.Top)),d=this.UpdateEdgeIntoAEL(d);var $=d.PrevInAEL,Ce=d.NextInAEL;if($!==null&&$.Curr.X==d.Bot.X&&$.Curr.Y==d.Bot.Y&&ae!==null&&$.OutIdx>=0&&$.Curr.Y>$.Top.Y&&u.ClipperBase.SlopesEqual(d,$,this.m_UseFullRange)&&d.WindDelta!==0&&$.WindDelta!==0){var de=this.AddOutPt($,d.Bot);this.AddJoin(ae,de,d.Top)}else if(Ce!==null&&Ce.Curr.X==d.Bot.X&&Ce.Curr.Y==d.Bot.Y&&ae!==null&&Ce.OutIdx>=0&&Ce.Curr.Y>Ce.Top.Y&&u.ClipperBase.SlopesEqual(d,Ce,this.m_UseFullRange)&&d.WindDelta!==0&&Ce.WindDelta!==0){var de=this.AddOutPt(Ce,d.Bot);this.AddJoin(ae,de,d.Top)}}d=d.NextInAEL}},u.Clipper.prototype.DoMaxima=function(r){var d=this.GetMaximaPair(r);if(d===null){r.OutIdx>=0&&this.AddOutPt(r,r.Top),this.DeleteFromAEL(r);return}for(var P=r.NextInAEL;P!==null&&P!=d;)this.IntersectEdges(r,P,r.Top,!0),this.SwapPositionsInAEL(r,P),P=r.NextInAEL;r.OutIdx==-1&&d.OutIdx==-1?(this.DeleteFromAEL(r),this.DeleteFromAEL(d)):r.OutIdx>=0&&d.OutIdx>=0?this.IntersectEdges(r,d,r.Top,!1):r.WindDelta===0?(r.OutIdx>=0&&(this.AddOutPt(r,r.Top),r.OutIdx=-1),this.DeleteFromAEL(r),d.OutIdx>=0&&(this.AddOutPt(d,r.Top),d.OutIdx=-1),this.DeleteFromAEL(d)):u.Error("DoMaxima error")},u.Clipper.ReversePaths=function(r){for(var d=0,P=r.length;d<P;d++)r[d].reverse()},u.Clipper.Orientation=function(r){return u.Clipper.Area(r)>=0},u.Clipper.prototype.PointCount=function(r){if(r===null)return 0;var d=0,P=r;do d++,P=P.Next;while(P!=r);return d},u.Clipper.prototype.BuildResult=function(r){u.Clear(r);for(var d=0,P=this.m_PolyOuts.length;d<P;d++){var k=this.m_PolyOuts[d];if(k.Pts!==null){var $=k.Pts.Prev,ae=this.PointCount($);if(!(ae<2)){for(var de=new Array(ae),Ce=0;Ce<ae;Ce++)de[Ce]=$.Pt,$=$.Prev;r.push(de)}}}},u.Clipper.prototype.BuildResult2=function(r){r.Clear();for(var d=0,P=this.m_PolyOuts.length;d<P;d++){var k=this.m_PolyOuts[d],$=this.PointCount(k.Pts);if(!(k.IsOpen&&$<2||!k.IsOpen&&$<3)){this.FixHoleLinkage(k);var ae=new u.PolyNode;r.m_AllPolys.push(ae),k.PolyNode=ae,ae.m_polygon.length=$;for(var de=k.Pts.Prev,Ce=0;Ce<$;Ce++)ae.m_polygon[Ce]=de.Pt,de=de.Prev}}for(var d=0,P=this.m_PolyOuts.length;d<P;d++){var k=this.m_PolyOuts[d];k.PolyNode!==null&&(k.IsOpen?(k.PolyNode.IsOpen=!0,r.AddChild(k.PolyNode)):k.FirstLeft!==null&&k.FirstLeft.PolyNode!=null?k.FirstLeft.PolyNode.AddChild(k.PolyNode):r.AddChild(k.PolyNode))}},u.Clipper.prototype.FixupOutPolygon=function(r){var d=null;r.BottomPt=null;for(var P=r.Pts;;){if(P.Prev==P||P.Prev==P.Next){this.DisposeOutPts(P),r.Pts=null;return}if(u.IntPoint.op_Equality(P.Pt,P.Next.Pt)||u.IntPoint.op_Equality(P.Pt,P.Prev.Pt)||u.ClipperBase.SlopesEqual(P.Prev.Pt,P.Pt,P.Next.Pt,this.m_UseFullRange)&&(!this.PreserveCollinear||!this.Pt2IsBetweenPt1AndPt3(P.Prev.Pt,P.Pt,P.Next.Pt)))d=null,P.Prev.Next=P.Next,P.Next.Prev=P.Prev,P=P.Prev;else{if(P==d)break;d===null&&(d=P),P=P.Next}}r.Pts=P},u.Clipper.prototype.DupOutPt=function(r,d){var P=new u.OutPt;return P.Pt.X=r.Pt.X,P.Pt.Y=r.Pt.Y,P.Idx=r.Idx,d?(P.Next=r.Next,P.Prev=r,r.Next.Prev=P,r.Next=P):(P.Prev=r.Prev,P.Next=r,r.Prev.Next=P,r.Prev=P),P},u.Clipper.prototype.GetOverlap=function(r,d,P,k,$){return r<d?P<k?($.Left=Math.max(r,P),$.Right=Math.min(d,k)):($.Left=Math.max(r,k),$.Right=Math.min(d,P)):P<k?($.Left=Math.max(d,P),$.Right=Math.min(r,k)):($.Left=Math.max(d,k),$.Right=Math.min(r,P)),$.Left<$.Right},u.Clipper.prototype.JoinHorz=function(r,d,P,k,$,ae){var de=r.Pt.X>d.Pt.X?u.Direction.dRightToLeft:u.Direction.dLeftToRight,Ce=P.Pt.X>k.Pt.X?u.Direction.dRightToLeft:u.Direction.dLeftToRight;if(de==Ce)return!1;if(de==u.Direction.dLeftToRight){for(;r.Next.Pt.X<=$.X&&r.Next.Pt.X>=r.Pt.X&&r.Next.Pt.Y==$.Y;)r=r.Next;ae&&r.Pt.X!=$.X&&(r=r.Next),d=this.DupOutPt(r,!ae),u.IntPoint.op_Inequality(d.Pt,$)&&(r=d,r.Pt.X=$.X,r.Pt.Y=$.Y,d=this.DupOutPt(r,!ae))}else{for(;r.Next.Pt.X>=$.X&&r.Next.Pt.X<=r.Pt.X&&r.Next.Pt.Y==$.Y;)r=r.Next;!ae&&r.Pt.X!=$.X&&(r=r.Next),d=this.DupOutPt(r,ae),u.IntPoint.op_Inequality(d.Pt,$)&&(r=d,r.Pt.X=$.X,r.Pt.Y=$.Y,d=this.DupOutPt(r,ae))}if(Ce==u.Direction.dLeftToRight){for(;P.Next.Pt.X<=$.X&&P.Next.Pt.X>=P.Pt.X&&P.Next.Pt.Y==$.Y;)P=P.Next;ae&&P.Pt.X!=$.X&&(P=P.Next),k=this.DupOutPt(P,!ae),u.IntPoint.op_Inequality(k.Pt,$)&&(P=k,P.Pt.X=$.X,P.Pt.Y=$.Y,k=this.DupOutPt(P,!ae))}else{for(;P.Next.Pt.X>=$.X&&P.Next.Pt.X<=P.Pt.X&&P.Next.Pt.Y==$.Y;)P=P.Next;!ae&&P.Pt.X!=$.X&&(P=P.Next),k=this.DupOutPt(P,ae),u.IntPoint.op_Inequality(k.Pt,$)&&(P=k,P.Pt.X=$.X,P.Pt.Y=$.Y,k=this.DupOutPt(P,ae))}return de==u.Direction.dLeftToRight==ae?(r.Prev=P,P.Next=r,d.Next=k,k.Prev=d):(r.Next=P,P.Prev=r,d.Prev=k,k.Next=d),!0},u.Clipper.prototype.JoinPoints=function(r,d,P){var k=r.OutPt1,$=new u.OutPt,ae=r.OutPt2,de=new u.OutPt,Ce=r.OutPt1.Pt.Y==r.OffPt.Y;if(Ce&&u.IntPoint.op_Equality(r.OffPt,r.OutPt1.Pt)&&u.IntPoint.op_Equality(r.OffPt,r.OutPt2.Pt)){for($=r.OutPt1.Next;$!=k&&u.IntPoint.op_Equality($.Pt,r.OffPt);)$=$.Next;var Be=$.Pt.Y>r.OffPt.Y;for(de=r.OutPt2.Next;de!=ae&&u.IntPoint.op_Equality(de.Pt,r.OffPt);)de=de.Next;var Fe=de.Pt.Y>r.OffPt.Y;return Be==Fe?!1:Be?($=this.DupOutPt(k,!1),de=this.DupOutPt(ae,!0),k.Prev=ae,ae.Next=k,$.Next=de,de.Prev=$,r.OutPt1=k,r.OutPt2=$,!0):($=this.DupOutPt(k,!0),de=this.DupOutPt(ae,!1),k.Next=ae,ae.Prev=k,$.Prev=de,de.Next=$,r.OutPt1=k,r.OutPt2=$,!0)}else if(Ce){for($=k;k.Prev.Pt.Y==k.Pt.Y&&k.Prev!=$&&k.Prev!=ae;)k=k.Prev;for(;$.Next.Pt.Y==$.Pt.Y&&$.Next!=k&&$.Next!=ae;)$=$.Next;if($.Next==k||$.Next==ae)return!1;for(de=ae;ae.Prev.Pt.Y==ae.Pt.Y&&ae.Prev!=de&&ae.Prev!=$;)ae=ae.Prev;for(;de.Next.Pt.Y==de.Pt.Y&&de.Next!=ae&&de.Next!=k;)de=de.Next;if(de.Next==ae||de.Next==k)return!1;var Ze={Left:null,Right:null};if(!this.GetOverlap(k.Pt.X,$.Pt.X,ae.Pt.X,de.Pt.X,Ze))return!1;var Qe=Ze.Left,it=Ze.Right,ot=new u.IntPoint,st;return k.Pt.X>=Qe&&k.Pt.X<=it?(ot.X=k.Pt.X,ot.Y=k.Pt.Y,st=k.Pt.X>$.Pt.X):ae.Pt.X>=Qe&&ae.Pt.X<=it?(ot.X=ae.Pt.X,ot.Y=ae.Pt.Y,st=ae.Pt.X>de.Pt.X):$.Pt.X>=Qe&&$.Pt.X<=it?(ot.X=$.Pt.X,ot.Y=$.Pt.Y,st=$.Pt.X>k.Pt.X):(ot.X=de.Pt.X,ot.Y=de.Pt.Y,st=de.Pt.X>ae.Pt.X),r.OutPt1=k,r.OutPt2=ae,this.JoinHorz(k,$,ae,de,ot,st)}else{for($=k.Next;u.IntPoint.op_Equality($.Pt,k.Pt)&&$!=k;)$=$.Next;var ut=$.Pt.Y>k.Pt.Y||!u.ClipperBase.SlopesEqual(k.Pt,$.Pt,r.OffPt,this.m_UseFullRange);if(ut){for($=k.Prev;u.IntPoint.op_Equality($.Pt,k.Pt)&&$!=k;)$=$.Prev;if($.Pt.Y>k.Pt.Y||!u.ClipperBase.SlopesEqual(k.Pt,$.Pt,r.OffPt,this.m_UseFullRange))return!1}for(de=ae.Next;u.IntPoint.op_Equality(de.Pt,ae.Pt)&&de!=ae;)de=de.Next;var At=de.Pt.Y>ae.Pt.Y||!u.ClipperBase.SlopesEqual(ae.Pt,de.Pt,r.OffPt,this.m_UseFullRange);if(At){for(de=ae.Prev;u.IntPoint.op_Equality(de.Pt,ae.Pt)&&de!=ae;)de=de.Prev;if(de.Pt.Y>ae.Pt.Y||!u.ClipperBase.SlopesEqual(ae.Pt,de.Pt,r.OffPt,this.m_UseFullRange))return!1}return $==k||de==ae||$==de||d==P&&ut==At?!1:ut?($=this.DupOutPt(k,!1),de=this.DupOutPt(ae,!0),k.Prev=ae,ae.Next=k,$.Next=de,de.Prev=$,r.OutPt1=k,r.OutPt2=$,!0):($=this.DupOutPt(k,!0),de=this.DupOutPt(ae,!1),k.Next=ae,ae.Prev=k,$.Prev=de,de.Next=$,r.OutPt1=k,r.OutPt2=$,!0)}},u.Clipper.GetBounds=function(r){for(var d=0,P=r.length;d<P&&r[d].length==0;)d++;if(d==P)return new u.IntRect(0,0,0,0);var k=new u.IntRect;for(k.left=r[d][0].X,k.right=k.left,k.top=r[d][0].Y,k.bottom=k.top;d<P;d++)for(var $=0,ae=r[d].length;$<ae;$++)r[d][$].X<k.left?k.left=r[d][$].X:r[d][$].X>k.right&&(k.right=r[d][$].X),r[d][$].Y<k.top?k.top=r[d][$].Y:r[d][$].Y>k.bottom&&(k.bottom=r[d][$].Y);return k},u.Clipper.prototype.GetBounds2=function(r){var d=r,P=new u.IntRect;for(P.left=r.Pt.X,P.right=r.Pt.X,P.top=r.Pt.Y,P.bottom=r.Pt.Y,r=r.Next;r!=d;)r.Pt.X<P.left&&(P.left=r.Pt.X),r.Pt.X>P.right&&(P.right=r.Pt.X),r.Pt.Y<P.top&&(P.top=r.Pt.Y),r.Pt.Y>P.bottom&&(P.bottom=r.Pt.Y),r=r.Next;return P},u.Clipper.PointInPolygon=function(r,d){var P=0,k=d.length;if(k<3)return 0;for(var $=d[0],ae=1;ae<=k;++ae){var de=ae==k?d[0]:d[ae];if(de.Y==r.Y&&(de.X==r.X||$.Y==r.Y&&de.X>r.X==$.X<r.X))return-1;if($.Y<r.Y!=de.Y<r.Y){if($.X>=r.X)if(de.X>r.X)P=1-P;else{var Ce=($.X-r.X)*(de.Y-r.Y)-(de.X-r.X)*($.Y-r.Y);if(Ce==0)return-1;Ce>0==de.Y>$.Y&&(P=1-P)}else if(de.X>r.X){var Ce=($.X-r.X)*(de.Y-r.Y)-(de.X-r.X)*($.Y-r.Y);if(Ce==0)return-1;Ce>0==de.Y>$.Y&&(P=1-P)}}$=de}return P},u.Clipper.prototype.PointInPolygon=function(r,d){for(var P=0,k=d;;){var $=d.Pt.X,ae=d.Pt.Y,de=d.Next.Pt.X,Ce=d.Next.Pt.Y;if(Ce==r.Y&&(de==r.X||ae==r.Y&&de>r.X==$<r.X))return-1;if(ae<r.Y!=Ce<r.Y){if($>=r.X)if(de>r.X)P=1-P;else{var Be=($-r.X)*(Ce-r.Y)-(de-r.X)*(ae-r.Y);if(Be==0)return-1;Be>0==Ce>ae&&(P=1-P)}else if(de>r.X){var Be=($-r.X)*(Ce-r.Y)-(de-r.X)*(ae-r.Y);if(Be==0)return-1;Be>0==Ce>ae&&(P=1-P)}}if(d=d.Next,k==d)break}return P},u.Clipper.prototype.Poly2ContainsPoly1=function(r,d){var P=r;do{var k=this.PointInPolygon(P.Pt,d);if(k>=0)return k!=0;P=P.Next}while(P!=r);return!0},u.Clipper.prototype.FixupFirstLefts1=function(r,d){for(var P=0,k=this.m_PolyOuts.length;P<k;P++){var $=this.m_PolyOuts[P];$.Pts!==null&&$.FirstLeft==r&&this.Poly2ContainsPoly1($.Pts,d.Pts)&&($.FirstLeft=d)}},u.Clipper.prototype.FixupFirstLefts2=function(r,d){for(var P=0,k=this.m_PolyOuts,$=k.length,ae=k[P];P<$;P++,ae=k[P])ae.FirstLeft==r&&(ae.FirstLeft=d)},u.Clipper.ParseFirstLeft=function(r){for(;r!=null&&r.Pts==null;)r=r.FirstLeft;return r},u.Clipper.prototype.JoinCommonEdges=function(){for(var r=0,d=this.m_Joins.length;r<d;r++){var P=this.m_Joins[r],k=this.GetOutRec(P.OutPt1.Idx),$=this.GetOutRec(P.OutPt2.Idx);if(!(k.Pts==null||$.Pts==null)){var ae;if(k==$?ae=k:this.Param1RightOfParam2(k,$)?ae=$:this.Param1RightOfParam2($,k)?ae=k:ae=this.GetLowermostRec(k,$),!!this.JoinPoints(P,k,$))if(k==$){if(k.Pts=P.OutPt1,k.BottomPt=null,$=this.CreateOutRec(),$.Pts=P.OutPt2,this.UpdateOutPtIdxs($),this.m_UsingPolyTree)for(var de=0,Ce=this.m_PolyOuts.length;de<Ce-1;de++){var Be=this.m_PolyOuts[de];Be.Pts==null||u.Clipper.ParseFirstLeft(Be.FirstLeft)!=k||Be.IsHole==k.IsHole||this.Poly2ContainsPoly1(Be.Pts,P.OutPt2)&&(Be.FirstLeft=$)}this.Poly2ContainsPoly1($.Pts,k.Pts)?($.IsHole=!k.IsHole,$.FirstLeft=k,this.m_UsingPolyTree&&this.FixupFirstLefts2($,k),($.IsHole^this.ReverseSolution)==this.Area($)>0&&this.ReversePolyPtLinks($.Pts)):this.Poly2ContainsPoly1(k.Pts,$.Pts)?($.IsHole=k.IsHole,k.IsHole=!$.IsHole,$.FirstLeft=k.FirstLeft,k.FirstLeft=$,this.m_UsingPolyTree&&this.FixupFirstLefts2(k,$),(k.IsHole^this.ReverseSolution)==this.Area(k)>0&&this.ReversePolyPtLinks(k.Pts)):($.IsHole=k.IsHole,$.FirstLeft=k.FirstLeft,this.m_UsingPolyTree&&this.FixupFirstLefts1(k,$))}else $.Pts=null,$.BottomPt=null,$.Idx=k.Idx,k.IsHole=ae.IsHole,ae==$&&(k.FirstLeft=$.FirstLeft),$.FirstLeft=k,this.m_UsingPolyTree&&this.FixupFirstLefts2($,k)}}},u.Clipper.prototype.UpdateOutPtIdxs=function(r){var d=r.Pts;do d.Idx=r.Idx,d=d.Prev;while(d!=r.Pts)},u.Clipper.prototype.DoSimplePolygons=function(){for(var r=0;r<this.m_PolyOuts.length;){var d=this.m_PolyOuts[r++],P=d.Pts;if(P!==null)do{for(var k=P.Next;k!=d.Pts;){if(u.IntPoint.op_Equality(P.Pt,k.Pt)&&k.Next!=P&&k.Prev!=P){var $=P.Prev,ae=k.Prev;P.Prev=ae,ae.Next=P,k.Prev=$,$.Next=k,d.Pts=P;var de=this.CreateOutRec();de.Pts=k,this.UpdateOutPtIdxs(de),this.Poly2ContainsPoly1(de.Pts,d.Pts)?(de.IsHole=!d.IsHole,de.FirstLeft=d):this.Poly2ContainsPoly1(d.Pts,de.Pts)?(de.IsHole=d.IsHole,d.IsHole=!de.IsHole,de.FirstLeft=d.FirstLeft,d.FirstLeft=de):(de.IsHole=d.IsHole,de.FirstLeft=d.FirstLeft),k=P}k=k.Next}P=P.Next}while(P!=d.Pts)}},u.Clipper.Area=function(r){var d=r.length;if(d<3)return 0;for(var P=0,k=0,$=d-1;k<d;++k)P+=(r[$].X+r[k].X)*(r[$].Y-r[k].Y),$=k;return-P*.5},u.Clipper.prototype.Area=function(r){var d=r.Pts;if(d==null)return 0;var P=0;do P=P+(d.Prev.Pt.X+d.Pt.X)*(d.Prev.Pt.Y-d.Pt.Y),d=d.Next;while(d!=r.Pts);return P*.5},u.Clipper.SimplifyPolygon=function(r,d){var P=new Array,k=new u.Clipper(0);return k.StrictlySimple=!0,k.AddPath(r,u.PolyType.ptSubject,!0),k.Execute(u.ClipType.ctUnion,P,d,d),P},u.Clipper.SimplifyPolygons=function(r,d){typeof d>"u"&&(d=u.PolyFillType.pftEvenOdd);var P=new Array,k=new u.Clipper(0);return k.StrictlySimple=!0,k.AddPaths(r,u.PolyType.ptSubject,!0),k.Execute(u.ClipType.ctUnion,P,d,d),P},u.Clipper.DistanceSqrd=function(r,d){var P=r.X-d.X,k=r.Y-d.Y;return P*P+k*k},u.Clipper.DistanceFromLineSqrd=function(r,d,P){var k=d.Y-P.Y,$=P.X-d.X,ae=k*d.X+$*d.Y;return ae=k*r.X+$*r.Y-ae,ae*ae/(k*k+$*$)},u.Clipper.SlopesNearCollinear=function(r,d,P,k){return u.Clipper.DistanceFromLineSqrd(d,r,P)<k},u.Clipper.PointsAreClose=function(r,d,P){var k=r.X-d.X,$=r.Y-d.Y;return k*k+$*$<=P},u.Clipper.ExcludeOp=function(r){var d=r.Prev;return d.Next=r.Next,r.Next.Prev=d,d.Idx=0,d},u.Clipper.CleanPolygon=function(r,d){typeof d>"u"&&(d=1.415);var P=r.length;if(P==0)return new Array;for(var k=new Array(P),$=0;$<P;++$)k[$]=new u.OutPt;for(var $=0;$<P;++$)k[$].Pt=r[$],k[$].Next=k[($+1)%P],k[$].Next.Prev=k[$],k[$].Idx=0;for(var ae=d*d,de=k[0];de.Idx==0&&de.Next!=de.Prev;)u.Clipper.PointsAreClose(de.Pt,de.Prev.Pt,ae)?(de=u.Clipper.ExcludeOp(de),P--):u.Clipper.PointsAreClose(de.Prev.Pt,de.Next.Pt,ae)?(u.Clipper.ExcludeOp(de.Next),de=u.Clipper.ExcludeOp(de),P-=2):u.Clipper.SlopesNearCollinear(de.Prev.Pt,de.Pt,de.Next.Pt,ae)?(de=u.Clipper.ExcludeOp(de),P--):(de.Idx=1,de=de.Next);P<3&&(P=0);for(var Ce=new Array(P),$=0;$<P;++$)Ce[$]=new u.IntPoint(de.Pt),de=de.Next;return k=null,Ce},u.Clipper.CleanPolygons=function(r,d){for(var P=new Array(r.length),k=0,$=r.length;k<$;k++)P[k]=u.Clipper.CleanPolygon(r[k],d);return P},u.Clipper.Minkowski=function(r,d,P,k){var $=k?1:0,ae=r.length,de=d.length,Ce=new Array;if(P)for(var Be=0;Be<de;Be++){for(var Fe=new Array(ae),Ze=0,Qe=r.length,it=r[Ze];Ze<Qe;Ze++,it=r[Ze])Fe[Ze]=new u.IntPoint(d[Be].X+it.X,d[Be].Y+it.Y);Ce.push(Fe)}else for(var Be=0;Be<de;Be++){for(var Fe=new Array(ae),Ze=0,Qe=r.length,it=r[Ze];Ze<Qe;Ze++,it=r[Ze])Fe[Ze]=new u.IntPoint(d[Be].X-it.X,d[Be].Y-it.Y);Ce.push(Fe)}for(var ot=new Array,Be=0;Be<de-1+$;Be++)for(var Ze=0;Ze<ae;Ze++){var st=new Array;st.push(Ce[Be%de][Ze%ae]),st.push(Ce[(Be+1)%de][Ze%ae]),st.push(Ce[(Be+1)%de][(Ze+1)%ae]),st.push(Ce[Be%de][(Ze+1)%ae]),u.Clipper.Orientation(st)||st.reverse(),ot.push(st)}var ut=new u.Clipper(0);return ut.AddPaths(ot,u.PolyType.ptSubject,!0),ut.Execute(u.ClipType.ctUnion,Ce,u.PolyFillType.pftNonZero,u.PolyFillType.pftNonZero),Ce},u.Clipper.MinkowskiSum=function(){var r=arguments,d=r.length;if(d==3){var P=r[0],k=r[1],$=r[2];return u.Clipper.Minkowski(P,k,!0,$)}else if(d==4){for(var P=r[0],ae=r[1],de=r[2],$=r[3],Ce=new u.Clipper,Be,Fe=0,Ze=ae.length;Fe<Ze;++Fe){var Be=u.Clipper.Minkowski(P,ae[Fe],!0,$);Ce.AddPaths(Be,u.PolyType.ptSubject,!0)}$&&Ce.AddPaths(ae,u.PolyType.ptClip,!0);var Qe=new u.Paths;return Ce.Execute(u.ClipType.ctUnion,Qe,de,de),Qe}},u.Clipper.MinkowskiDiff=function(r,d,P){return u.Clipper.Minkowski(r,d,!1,P)},u.Clipper.PolyTreeToPaths=function(r){var d=new Array;return u.Clipper.AddPolyNodeToPaths(r,u.Clipper.NodeType.ntAny,d),d},u.Clipper.AddPolyNodeToPaths=function(r,d,P){var k=!0;switch(d){case u.Clipper.NodeType.ntOpen:return;case u.Clipper.NodeType.ntClosed:k=!r.IsOpen;break}r.m_polygon.length>0&&k&&P.push(r.m_polygon);for(var $=0,ae=r.Childs(),de=ae.length,Ce=ae[$];$<de;$++,Ce=ae[$])u.Clipper.AddPolyNodeToPaths(Ce,d,P)},u.Clipper.OpenPathsFromPolyTree=function(r){for(var d=new u.Paths,P=0,k=r.ChildCount();P<k;P++)r.Childs()[P].IsOpen&&d.push(r.Childs()[P].m_polygon);return d},u.Clipper.ClosedPathsFromPolyTree=function(r){var d=new u.Paths;return u.Clipper.AddPolyNodeToPaths(r,u.Clipper.NodeType.ntClosed,d),d},sr(u.Clipper,u.ClipperBase),u.Clipper.NodeType={ntAny:0,ntOpen:1,ntClosed:2},u.ClipperOffset=function(r,d){typeof r>"u"&&(r=2),typeof d>"u"&&(d=u.ClipperOffset.def_arc_tolerance),this.m_destPolys=new u.Paths,this.m_srcPoly=new u.Path,this.m_destPoly=new u.Path,this.m_normals=new Array,this.m_delta=0,this.m_sinA=0,this.m_sin=0,this.m_cos=0,this.m_miterLim=0,this.m_StepsPerRad=0,this.m_lowest=new u.IntPoint,this.m_polyNodes=new u.PolyNode,this.MiterLimit=r,this.ArcTolerance=d,this.m_lowest.X=-1},u.ClipperOffset.two_pi=6.28318530717959,u.ClipperOffset.def_arc_tolerance=.25,u.ClipperOffset.prototype.Clear=function(){u.Clear(this.m_polyNodes.Childs()),this.m_lowest.X=-1},u.ClipperOffset.Round=u.Clipper.Round,u.ClipperOffset.prototype.AddPath=function(r,d,P){var k=r.length-1;if(!(k<0)){var $=new u.PolyNode;if($.m_jointype=d,$.m_endtype=P,P==u.EndType.etClosedLine||P==u.EndType.etClosedPolygon)for(;k>0&&u.IntPoint.op_Equality(r[0],r[k]);)k--;$.m_polygon.push(r[0]);for(var ae=0,de=0,Ce=1;Ce<=k;Ce++)u.IntPoint.op_Inequality($.m_polygon[ae],r[Ce])&&(ae++,$.m_polygon.push(r[Ce]),(r[Ce].Y>$.m_polygon[de].Y||r[Ce].Y==$.m_polygon[de].Y&&r[Ce].X<$.m_polygon[de].X)&&(de=ae));if(!(P==u.EndType.etClosedPolygon&&ae<2||P!=u.EndType.etClosedPolygon&&ae<0)&&(this.m_polyNodes.AddChild($),P==u.EndType.etClosedPolygon))if(this.m_lowest.X<0)this.m_lowest=new u.IntPoint(0,de);else{var Be=this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon[this.m_lowest.Y];($.m_polygon[de].Y>Be.Y||$.m_polygon[de].Y==Be.Y&&$.m_polygon[de].X<Be.X)&&(this.m_lowest=new u.IntPoint(this.m_polyNodes.ChildCount()-1,de))}}},u.ClipperOffset.prototype.AddPaths=function(r,d,P){for(var k=0,$=r.length;k<$;k++)this.AddPath(r[k],d,P)},u.ClipperOffset.prototype.FixOrientations=function(){if(this.m_lowest.X>=0&&!u.Clipper.Orientation(this.m_polyNodes.Childs()[this.m_lowest.X].m_polygon))for(var r=0;r<this.m_polyNodes.ChildCount();r++){var d=this.m_polyNodes.Childs()[r];(d.m_endtype==u.EndType.etClosedPolygon||d.m_endtype==u.EndType.etClosedLine&&u.Clipper.Orientation(d.m_polygon))&&d.m_polygon.reverse()}else for(var r=0;r<this.m_polyNodes.ChildCount();r++){var d=this.m_polyNodes.Childs()[r];d.m_endtype==u.EndType.etClosedLine&&!u.Clipper.Orientation(d.m_polygon)&&d.m_polygon.reverse()}},u.ClipperOffset.GetUnitNormal=function(r,d){var P=d.X-r.X,k=d.Y-r.Y;if(P==0&&k==0)return new u.DoublePoint(0,0);var $=1/Math.sqrt(P*P+k*k);return P*=$,k*=$,new u.DoublePoint(k,-P)},u.ClipperOffset.prototype.DoOffset=function(r){if(this.m_destPolys=new Array,this.m_delta=r,u.ClipperBase.near_zero(r)){for(var d=0;d<this.m_polyNodes.ChildCount();d++){var P=this.m_polyNodes.Childs()[d];P.m_endtype==u.EndType.etClosedPolygon&&this.m_destPolys.push(P.m_polygon)}return}this.MiterLimit>2?this.m_miterLim=2/(this.MiterLimit*this.MiterLimit):this.m_miterLim=.5;var k;this.ArcTolerance<=0?k=u.ClipperOffset.def_arc_tolerance:this.ArcTolerance>Math.abs(r)*u.ClipperOffset.def_arc_tolerance?k=Math.abs(r)*u.ClipperOffset.def_arc_tolerance:k=this.ArcTolerance;var $=3.14159265358979/Math.acos(1-k/Math.abs(r));this.m_sin=Math.sin(u.ClipperOffset.two_pi/$),this.m_cos=Math.cos(u.ClipperOffset.two_pi/$),this.m_StepsPerRad=$/u.ClipperOffset.two_pi,r<0&&(this.m_sin=-this.m_sin);for(var d=0;d<this.m_polyNodes.ChildCount();d++){var P=this.m_polyNodes.Childs()[d];this.m_srcPoly=P.m_polygon;var ae=this.m_srcPoly.length;if(!(ae==0||r<=0&&(ae<3||P.m_endtype!=u.EndType.etClosedPolygon))){if(this.m_destPoly=new Array,ae==1){if(P.m_jointype==u.JoinType.jtRound)for(var de=1,Ce=0,Be=1;Be<=$;Be++){this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[0].X+de*r),u.ClipperOffset.Round(this.m_srcPoly[0].Y+Ce*r)));var Fe=de;de=de*this.m_cos-this.m_sin*Ce,Ce=Fe*this.m_sin+Ce*this.m_cos}else for(var de=-1,Ce=-1,Be=0;Be<4;++Be)this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[0].X+de*r),u.ClipperOffset.Round(this.m_srcPoly[0].Y+Ce*r))),de<0?de=1:Ce<0?Ce=1:de=-1;this.m_destPolys.push(this.m_destPoly);continue}this.m_normals.length=0;for(var Be=0;Be<ae-1;Be++)this.m_normals.push(u.ClipperOffset.GetUnitNormal(this.m_srcPoly[Be],this.m_srcPoly[Be+1]));if(P.m_endtype==u.EndType.etClosedLine||P.m_endtype==u.EndType.etClosedPolygon?this.m_normals.push(u.ClipperOffset.GetUnitNormal(this.m_srcPoly[ae-1],this.m_srcPoly[0])):this.m_normals.push(new u.DoublePoint(this.m_normals[ae-2])),P.m_endtype==u.EndType.etClosedPolygon){for(var Ze=ae-1,Be=0;Be<ae;Be++)Ze=this.OffsetPoint(Be,Ze,P.m_jointype);this.m_destPolys.push(this.m_destPoly)}else if(P.m_endtype==u.EndType.etClosedLine){for(var Ze=ae-1,Be=0;Be<ae;Be++)Ze=this.OffsetPoint(Be,Ze,P.m_jointype);this.m_destPolys.push(this.m_destPoly),this.m_destPoly=new Array;for(var Qe=this.m_normals[ae-1],Be=ae-1;Be>0;Be--)this.m_normals[Be]=new u.DoublePoint(-this.m_normals[Be-1].X,-this.m_normals[Be-1].Y);this.m_normals[0]=new u.DoublePoint(-Qe.X,-Qe.Y),Ze=0;for(var Be=ae-1;Be>=0;Be--)Ze=this.OffsetPoint(Be,Ze,P.m_jointype);this.m_destPolys.push(this.m_destPoly)}else{for(var Ze=0,Be=1;Be<ae-1;++Be)Ze=this.OffsetPoint(Be,Ze,P.m_jointype);var it;if(P.m_endtype==u.EndType.etOpenButt){var Be=ae-1;it=new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[Be].X+this.m_normals[Be].X*r),u.ClipperOffset.Round(this.m_srcPoly[Be].Y+this.m_normals[Be].Y*r)),this.m_destPoly.push(it),it=new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[Be].X-this.m_normals[Be].X*r),u.ClipperOffset.Round(this.m_srcPoly[Be].Y-this.m_normals[Be].Y*r)),this.m_destPoly.push(it)}else{var Be=ae-1;Ze=ae-2,this.m_sinA=0,this.m_normals[Be]=new u.DoublePoint(-this.m_normals[Be].X,-this.m_normals[Be].Y),P.m_endtype==u.EndType.etOpenSquare?this.DoSquare(Be,Ze):this.DoRound(Be,Ze)}for(var Be=ae-1;Be>0;Be--)this.m_normals[Be]=new u.DoublePoint(-this.m_normals[Be-1].X,-this.m_normals[Be-1].Y);this.m_normals[0]=new u.DoublePoint(-this.m_normals[1].X,-this.m_normals[1].Y),Ze=ae-1;for(var Be=Ze-1;Be>0;--Be)Ze=this.OffsetPoint(Be,Ze,P.m_jointype);P.m_endtype==u.EndType.etOpenButt?(it=new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[0].X-this.m_normals[0].X*r),u.ClipperOffset.Round(this.m_srcPoly[0].Y-this.m_normals[0].Y*r)),this.m_destPoly.push(it),it=new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[0].X+this.m_normals[0].X*r),u.ClipperOffset.Round(this.m_srcPoly[0].Y+this.m_normals[0].Y*r)),this.m_destPoly.push(it)):(Ze=1,this.m_sinA=0,P.m_endtype==u.EndType.etOpenSquare?this.DoSquare(0,1):this.DoRound(0,1)),this.m_destPolys.push(this.m_destPoly)}}}},u.ClipperOffset.prototype.Execute=function(){var r=arguments,d=r[0]instanceof u.PolyTree;if(d){var P=r[0],k=r[1];P.Clear(),this.FixOrientations(),this.DoOffset(k);var $=new u.Clipper(0);if($.AddPaths(this.m_destPolys,u.PolyType.ptSubject,!0),k>0)$.Execute(u.ClipType.ctUnion,P,u.PolyFillType.pftPositive,u.PolyFillType.pftPositive);else{var ae=u.Clipper.GetBounds(this.m_destPolys),de=new u.Path;if(de.push(new u.IntPoint(ae.left-10,ae.bottom+10)),de.push(new u.IntPoint(ae.right+10,ae.bottom+10)),de.push(new u.IntPoint(ae.right+10,ae.top-10)),de.push(new u.IntPoint(ae.left-10,ae.top-10)),$.AddPath(de,u.PolyType.ptSubject,!0),$.ReverseSolution=!0,$.Execute(u.ClipType.ctUnion,P,u.PolyFillType.pftNegative,u.PolyFillType.pftNegative),P.ChildCount()==1&&P.Childs()[0].ChildCount()>0){var Ce=P.Childs()[0];P.Childs()[0]=Ce.Childs()[0];for(var Be=1;Be<Ce.ChildCount();Be++)P.AddChild(Ce.Childs()[Be])}else P.Clear()}}else{var P=r[0],k=r[1];u.Clear(P),this.FixOrientations(),this.DoOffset(k);var $=new u.Clipper(0);if($.AddPaths(this.m_destPolys,u.PolyType.ptSubject,!0),k>0)$.Execute(u.ClipType.ctUnion,P,u.PolyFillType.pftPositive,u.PolyFillType.pftPositive);else{var ae=u.Clipper.GetBounds(this.m_destPolys),de=new u.Path;de.push(new u.IntPoint(ae.left-10,ae.bottom+10)),de.push(new u.IntPoint(ae.right+10,ae.bottom+10)),de.push(new u.IntPoint(ae.right+10,ae.top-10)),de.push(new u.IntPoint(ae.left-10,ae.top-10)),$.AddPath(de,u.PolyType.ptSubject,!0),$.ReverseSolution=!0,$.Execute(u.ClipType.ctUnion,P,u.PolyFillType.pftNegative,u.PolyFillType.pftNegative),P.length>0&&P.splice(0,1)}}},u.ClipperOffset.prototype.OffsetPoint=function(r,d,P){if(this.m_sinA=this.m_normals[d].X*this.m_normals[r].Y-this.m_normals[r].X*this.m_normals[d].Y,this.m_sinA<5e-5&&this.m_sinA>-5e-5)return d;if(this.m_sinA>1?this.m_sinA=1:this.m_sinA<-1&&(this.m_sinA=-1),this.m_sinA*this.m_delta<0)this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[r].X+this.m_normals[d].X*this.m_delta),u.ClipperOffset.Round(this.m_srcPoly[r].Y+this.m_normals[d].Y*this.m_delta))),this.m_destPoly.push(new u.IntPoint(this.m_srcPoly[r])),this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[r].X+this.m_normals[r].X*this.m_delta),u.ClipperOffset.Round(this.m_srcPoly[r].Y+this.m_normals[r].Y*this.m_delta)));else switch(P){case u.JoinType.jtMiter:{var k=1+(this.m_normals[r].X*this.m_normals[d].X+this.m_normals[r].Y*this.m_normals[d].Y);k>=this.m_miterLim?this.DoMiter(r,d,k):this.DoSquare(r,d);break}case u.JoinType.jtSquare:this.DoSquare(r,d);break;case u.JoinType.jtRound:this.DoRound(r,d);break}return d=r,d},u.ClipperOffset.prototype.DoSquare=function(r,d){var P=Math.tan(Math.atan2(this.m_sinA,this.m_normals[d].X*this.m_normals[r].X+this.m_normals[d].Y*this.m_normals[r].Y)/4);this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[r].X+this.m_delta*(this.m_normals[d].X-this.m_normals[d].Y*P)),u.ClipperOffset.Round(this.m_srcPoly[r].Y+this.m_delta*(this.m_normals[d].Y+this.m_normals[d].X*P)))),this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[r].X+this.m_delta*(this.m_normals[r].X+this.m_normals[r].Y*P)),u.ClipperOffset.Round(this.m_srcPoly[r].Y+this.m_delta*(this.m_normals[r].Y-this.m_normals[r].X*P))))},u.ClipperOffset.prototype.DoMiter=function(r,d,P){var k=this.m_delta/P;this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[r].X+(this.m_normals[d].X+this.m_normals[r].X)*k),u.ClipperOffset.Round(this.m_srcPoly[r].Y+(this.m_normals[d].Y+this.m_normals[r].Y)*k)))},u.ClipperOffset.prototype.DoRound=function(r,d){for(var P=Math.atan2(this.m_sinA,this.m_normals[d].X*this.m_normals[r].X+this.m_normals[d].Y*this.m_normals[r].Y),k=u.Cast_Int32(u.ClipperOffset.Round(this.m_StepsPerRad*Math.abs(P))),$=this.m_normals[d].X,ae=this.m_normals[d].Y,de,Ce=0;Ce<k;++Ce)this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[r].X+$*this.m_delta),u.ClipperOffset.Round(this.m_srcPoly[r].Y+ae*this.m_delta))),de=$,$=$*this.m_cos-this.m_sin*ae,ae=de*this.m_sin+ae*this.m_cos;this.m_destPoly.push(new u.IntPoint(u.ClipperOffset.Round(this.m_srcPoly[r].X+this.m_normals[r].X*this.m_delta),u.ClipperOffset.Round(this.m_srcPoly[r].Y+this.m_normals[r].Y*this.m_delta)))},u.Error=function(r){try{throw new Error(r)}catch(d){alert(d.message)}},u.JS={},u.JS.AreaOfPolygon=function(r,d){return d||(d=1),u.Clipper.Area(r)/(d*d)},u.JS.AreaOfPolygons=function(r,d){d||(d=1);for(var P=0,k=0;k<r.length;k++)P+=u.Clipper.Area(r[k]);return P/(d*d)},u.JS.BoundsOfPath=function(r,d){return u.JS.BoundsOfPaths([r],d)},u.JS.BoundsOfPaths=function(r,d){d||(d=1);var P=u.Clipper.GetBounds(r);return P.left/=d,P.bottom/=d,P.right/=d,P.top/=d,P},u.JS.Clean=function(k,d){if(!(k instanceof Array))return[];var P=k[0]instanceof Array,k=u.JS.Clone(k);if(typeof d!="number"||d===null)return u.Error("Delta is not a number in Clean()."),k;if(k.length===0||k.length==1&&k[0].length===0||d<0)return k;P||(k=[k]);for(var $=k.length,ae,de,Ce,Be,Fe,Ze,Qe,it=[],ot=0;ot<$;ot++)if(de=k[ot],ae=de.length,ae!==0){if(ae<3){Ce=de,it.push(Ce);continue}for(Ce=de,Be=d*d,Fe=de[0],Ze=1,Qe=1;Qe<ae;Qe++)(de[Qe].X-Fe.X)*(de[Qe].X-Fe.X)+(de[Qe].Y-Fe.Y)*(de[Qe].Y-Fe.Y)<=Be||(Ce[Ze]=de[Qe],Fe=de[Qe],Ze++);Fe=de[Ze-1],(de[0].X-Fe.X)*(de[0].X-Fe.X)+(de[0].Y-Fe.Y)*(de[0].Y-Fe.Y)<=Be&&Ze--,Ze<ae&&Ce.splice(Ze,ae-Ze),Ce.length&&it.push(Ce)}return!P&&it.length?it=it[0]:!P&&it.length===0?it=[]:P&&it.length===0&&(it=[[]]),it},u.JS.Clone=function(r){if(!(r instanceof Array))return[];if(r.length===0)return[];if(r.length==1&&r[0].length===0)return[[]];var d=r[0]instanceof Array;d||(r=[r]);var P=r.length,k,$,ae,de,Ce=new Array(P);for($=0;$<P;$++){for(k=r[$].length,de=new Array(k),ae=0;ae<k;ae++)de[ae]={X:r[$][ae].X,Y:r[$][ae].Y};Ce[$]=de}return d||(Ce=Ce[0]),Ce},u.JS.Lighten=function(r,d){if(!(r instanceof Array))return[];if(typeof d!="number"||d===null)return u.Error("Tolerance is not a number in Lighten()."),u.JS.Clone(r);if(r.length===0||r.length==1&&r[0].length===0||d<0)return u.JS.Clone(r);r[0]instanceof Array||(r=[r]);var P,k,$,ae,de,Ce,Be,Fe,Ze,Qe,it,ot,st,ut,At,Nt,Jt,ga=r.length,ya=d*d,vr=[];for(P=0;P<ga;P++)if($=r[P],Ce=$.length,Ce!=0){for(ae=0;ae<1e6;ae++){for(de=[],Ce=$.length,$[Ce-1].X!=$[0].X||$[Ce-1].Y!=$[0].Y?(ot=1,$.push({X:$[0].X,Y:$[0].Y}),Ce=$.length):ot=0,it=[],k=0;k<Ce-2;k++)Be=$[k],Ze=$[k+1],Fe=$[k+2],Nt=Be.X,Jt=Be.Y,st=Fe.X-Nt,ut=Fe.Y-Jt,(st!==0||ut!==0)&&(At=((Ze.X-Nt)*st+(Ze.Y-Jt)*ut)/(st*st+ut*ut),At>1?(Nt=Fe.X,Jt=Fe.Y):At>0&&(Nt+=st*At,Jt+=ut*At)),st=Ze.X-Nt,ut=Ze.Y-Jt,Qe=st*st+ut*ut,Qe<=ya&&(it[k+1]=1,k++);for(de.push({X:$[0].X,Y:$[0].Y}),k=1;k<Ce-1;k++)it[k]||de.push({X:$[k].X,Y:$[k].Y});if(de.push({X:$[Ce-1].X,Y:$[Ce-1].Y}),ot&&$.pop(),it.length)$=de;else break}Ce=de.length,de[Ce-1].X==de[0].X&&de[Ce-1].Y==de[0].Y&&de.pop(),de.length>2&&vr.push(de)}return!r[0]instanceof Array&&(vr=vr[0]),typeof vr>"u"&&(vr=[[]]),vr},u.JS.PerimeterOfPath=function(r,d,P){if(typeof r>"u")return 0;var k=Math.sqrt,$=0,ae,de,Ce=0,Be=0,Fe=0,Ze=0,Qe=r.length;if(Qe<2)return 0;for(d&&(r[Qe]=r[0],Qe++);--Qe;)ae=r[Qe],Ce=ae.X,Be=ae.Y,de=r[Qe-1],Fe=de.X,Ze=de.Y,$+=k((Ce-Fe)*(Ce-Fe)+(Be-Ze)*(Be-Ze));return d&&r.pop(),$/P},u.JS.PerimeterOfPaths=function(r,d,P){P||(P=1);for(var k=0,$=0;$<r.length;$++)k+=u.JS.PerimeterOfPath(r[$],d,P);return k},u.JS.ScaleDownPath=function(r,d){var P,k;for(d||(d=1),P=r.length;P--;)k=r[P],k.X=k.X/d,k.Y=k.Y/d},u.JS.ScaleDownPaths=function(r,d){var P,k,$;for(d||(d=1),P=r.length;P--;)for(k=r[P].length;k--;)$=r[P][k],$.X=$.X/d,$.Y=$.Y/d},u.JS.ScaleUpPath=function(r,d){var P,k,$=Math.round;for(d||(d=1),P=r.length;P--;)k=r[P],k.X=$(k.X*d),k.Y=$(k.Y*d)},u.JS.ScaleUpPaths=function(r,d){var P,k,$,ae=Math.round;for(d||(d=1),P=r.length;P--;)for(k=r[P].length;k--;)$=r[P][k],$.X=ae($.X*d),$.Y=ae($.Y*d)},u.ExPolygons=function(){return[]},u.ExPolygon=function(){this.outer=null,this.holes=null},u.JS.AddOuterPolyNodeToExPolygons=function(r,d){var P=new u.ExPolygon;P.outer=r.Contour();var k=r.Childs(),$=k.length;P.holes=new Array($);var ae,de,Ce,Be,Fe,Ze;for(Ce=0;Ce<$;Ce++)for(ae=k[Ce],P.holes[Ce]=ae.Contour(),Be=0,Fe=ae.Childs(),Ze=Fe.length;Be<Ze;Be++)de=Fe[Be],u.JS.AddOuterPolyNodeToExPolygons(de,d);d.push(P)},u.JS.ExPolygonsToPaths=function(r){var d,P,k,$,ae=new u.Paths;for(d=0,k=r.length;d<k;d++)for(ae.push(r[d].outer),P=0,$=r[d].holes.length;P<$;P++)ae.push(r[d].holes[P]);return ae},u.JS.PolyTreeToExPolygons=function(r){var d=new u.ExPolygons,P,k,$,ae;for(k=0,$=r.Childs(),ae=$.length;k<ae;k++)P=$[k],u.JS.AddOuterPolyNodeToExPolygons(P,d);return d},N.exports=u})(oa);const tr=oa.exports;function _s(N,u){function C(){this.constructor=N}C.prototype=u.prototype,N.prototype=new C}function Pr(N,u,C,_){this.message=N,this.expected=u,this.found=C,this.location=_,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Pr)}_s(Pr,Error);Pr.buildMessage=function(N,u){var C={literal:function(v){return'"'+T(v.text)+'"'},class:function(v){var o="",s;for(s=0;s<v.parts.length;s++)o+=v.parts[s]instanceof Array?b(v.parts[s][0])+"-"+b(v.parts[s][1]):b(v.parts[s]);return"["+(v.inverted?"^":"")+o+"]"},any:function(v){return"any character"},end:function(v){return"end of input"},other:function(v){return v.description}};function _(v){return v.charCodeAt(0).toString(16).toUpperCase()}function T(v){return v.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(o){return"\\x0"+_(o)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(o){return"\\x"+_(o)})}function b(v){return v.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(o){return"\\x0"+_(o)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(o){return"\\x"+_(o)})}function x(v){return C[v.type](v)}function c(v){var o=new Array(v.length),s,i;for(s=0;s<v.length;s++)o[s]=x(v[s]);if(o.sort(),o.length>0){for(s=1,i=1;s<o.length;s++)o[s-1]!==o[s]&&(o[i]=o[s],i++);o.length=i}switch(o.length){case 1:return o[0];case 2:return o[0]+" or "+o[1];default:return o.slice(0,-1).join(", ")+", or "+o[o.length-1]}}function p(v){return v?'"'+T(v)+'"':"end of input"}return"Expected "+c(N)+" but "+p(u)+" found."};function gs(N,u){u=u!==void 0?u:{};var C={},_={svg_path:We},T=We,b=function(ue){if(!ue)return[];for(var pe=[],Te=0;Te<ue.length;Te++)pe=pe.concat.apply(pe,ue[Te]);var ye=pe[0];return ye&&ye.code=="m"&&(delete ye.relative,ye.code="M"),pe},x=function(ue,pe){return Gt(ue,pe)},c=/^[Mm]/,p=Me(["M","m"],!1,!1),v=function(ue,pe,Te){var ye=Wt(ue,[pe]);return Te&&(ye=ye.concat(Wt(ue=="M"?"L":"l",Te[1]))),ye},o=/^[Zz]/,s=Me(["Z","z"],!1,!1),i=function(){return Wt("Z")},t=/^[Ll]/,e=Me(["L","l"],!1,!1),l=function(ue,pe){return Wt(ue,pe)},h=/^[Hh]/,n=Me(["H","h"],!1,!1),f=function(ue,pe){return Wt(ue,pe.map(function(Te){return{x:Te}}))},a=/^[Vv]/,m=Me(["V","v"],!1,!1),g=function(ue,pe){return Wt(ue,pe.map(function(Te){return{y:Te}}))},y=/^[Cc]/,E=Me(["C","c"],!1,!1),S=function(ue,pe,Te){return{x1:ue.x,y1:ue.y,x2:pe.x,y2:pe.y,x:Te.x,y:Te.y}},A=/^[Ss]/,M=Me(["S","s"],!1,!1),I=function(ue,pe){return{x2:ue.x,y2:ue.y,x:pe.x,y:pe.y}},R=/^[Qq]/,H=Me(["Q","q"],!1,!1),L=function(ue,pe){return{x1:ue.x,y1:ue.y,x:pe.x,y:pe.y}},j=/^[Tt]/,V=Me(["T","t"],!1,!1),G=/^[Aa]/,U=Me(["A","a"],!1,!1),Y=function(ue,pe,Te,ye,Ne,$e){return{rx:ue,ry:pe,xAxisRotation:Te,largeArc:ye,sweep:Ne,x:$e.x,y:$e.y}},ee=function(ue,pe){return{x:ue,y:pe}},le=function(ue){return ue*1},he=function(ue){return ue.join("")*1},oe=/^[01]/,q=Me(["0","1"],!1,!1),K=function(ue){return ue=="1"},Q=function(){return""},te=",",ce=ge(",",!1),we=function(ue){return ue.join("")},be=".",xe=ge(".",!1),Ie=/^[eE]/,me=Me(["e","E"],!1,!1),ve=/^[+\-]/,re=Me(["+","-"],!1,!1),se=/^[0-9]/,fe=Me([["0","9"]],!1,!1),J=function(ue){return ue.join("")},z=/^[ \t\n\r]/,B=Me([" ","	",`
`,"\r"],!1,!1),F=0,Z=[{line:1,column:1}],D=0,O=[],ie;if("startRule"in u){if(!(u.startRule in _))throw new Error(`Can't start parsing from rule "`+u.startRule+'".');T=_[u.startRule]}function ge(ue,pe){return{type:"literal",text:ue,ignoreCase:pe}}function Me(ue,pe,Te){return{type:"class",parts:ue,inverted:pe,ignoreCase:Te}}function Le(){return{type:"end"}}function ze(ue){var pe=Z[ue],Te;if(pe)return pe;for(Te=ue-1;!Z[Te];)Te--;for(pe=Z[Te],pe={line:pe.line,column:pe.column};Te<ue;)N.charCodeAt(Te)===10?(pe.line++,pe.column=1):pe.column++,Te++;return Z[ue]=pe,pe}function qe(ue,pe){var Te=ze(ue),ye=ze(pe);return{start:{offset:ue,line:Te.line,column:Te.column},end:{offset:pe,line:ye.line,column:ye.column}}}function Ge(ue){F<D||(F>D&&(D=F,O=[]),O.push(ue))}function je(ue,pe,Te){return new Pr(Pr.buildMessage(ue,pe),ue,pe,Te)}function We(){var ue,pe,Te,ye,Ne;for(ue=F,pe=[],Te=lt();Te!==C;)pe.push(Te),Te=lt();if(pe!==C)if(Te=He(),Te===C&&(Te=null),Te!==C){for(ye=[],Ne=lt();Ne!==C;)ye.push(Ne),Ne=lt();ye!==C?(pe=b(Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;else F=ue,ue=C;return ue}function He(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=tt(),pe!==C){for(Te=[],ye=F,Ne=[],$e=lt();$e!==C;)Ne.push($e),$e=lt();for(Ne!==C?($e=tt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;){for(Te.push(ye),ye=F,Ne=[],$e=lt();$e!==C;)Ne.push($e),$e=lt();Ne!==C?($e=tt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C)}Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function tt(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=W(),pe!==C){for(Te=[],ye=F,Ne=[],$e=lt();$e!==C;)Ne.push($e),$e=lt();for(Ne!==C?($e=Ve(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;){for(Te.push(ye),ye=F,Ne=[],$e=lt();$e!==C;)Ne.push($e),$e=lt();Ne!==C?($e=Ve(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C)}Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Ve(){var ue;return ue=Se(),ue===C&&(ue=Ae(),ue===C&&(ue=Pe(),ue===C&&(ue=ne(),ue===C&&(ue=Ue(),ue===C&&(ue=Ee(),ue===C&&(ue=_e(),ue===C&&(ue=Xe(),ue===C&&(ue=rt())))))))),ue}function W(){var ue,pe,Te,ye,Ne,$e,Ct;if(ue=F,c.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(p)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=nt(),ye!==C?(Ne=F,$e=ht(),$e===C&&($e=null),$e!==C?(Ct=ke(),Ct!==C?($e=[$e,Ct],Ne=$e):(F=Ne,Ne=C)):(F=Ne,Ne=C),Ne===C&&(Ne=null),Ne!==C?(pe=v(pe,ye,Ne),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Se(){var ue,pe;return ue=F,o.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(s)),pe!==C&&(pe=i()),ue=pe,ue}function Ae(){var ue,pe,Te,ye;if(ue=F,t.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(e)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=ke(),ye!==C?(pe=l(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function ke(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=nt(),pe!==C){for(Te=[],ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=nt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;)Te.push(ye),ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=nt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Pe(){var ue,pe,Te,ye;if(ue=F,h.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(n)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=Oe(),ye!==C?(pe=f(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Oe(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=dt(),pe!==C){for(Te=[],ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=dt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;)Te.push(ye),ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=dt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function ne(){var ue,pe,Te,ye;if(ue=F,a.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(m)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=Oe(),ye!==C?(pe=g(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Ue(){var ue,pe,Te,ye;if(ue=F,y.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(E)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=et(),ye!==C?(pe=l(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function et(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=w(),pe!==C){for(Te=[],ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=w(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;)Te.push(ye),ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=w(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function w(){var ue,pe,Te,ye,Ne,$e;return ue=F,pe=nt(),pe!==C?(Te=ht(),Te===C&&(Te=null),Te!==C?(ye=nt(),ye!==C?(Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=nt(),$e!==C?(pe=S(pe,ye,$e),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C),ue}function Ee(){var ue,pe,Te,ye;if(ue=F,A.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(M)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=Re(),ye!==C?(pe=l(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Re(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=X(),pe!==C){for(Te=[],ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=X(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;)Te.push(ye),ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=X(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function X(){var ue,pe,Te,ye;return ue=F,pe=nt(),pe!==C?(Te=ht(),Te===C&&(Te=null),Te!==C?(ye=nt(),ye!==C?(pe=I(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C),ue}function _e(){var ue,pe,Te,ye;if(ue=F,R.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(H)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=De(),ye!==C?(pe=l(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function De(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=Ye(),pe!==C){for(Te=[],ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=Ye(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;)Te.push(ye),ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=Ye(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Ye(){var ue,pe,Te,ye;return ue=F,pe=nt(),pe!==C?(Te=ht(),Te===C&&(Te=null),Te!==C?(ye=nt(),ye!==C?(pe=L(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C),ue}function Xe(){var ue,pe,Te,ye;if(ue=F,j.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(V)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=Ke(),ye!==C?(pe=l(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Ke(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=nt(),pe!==C){for(Te=[],ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=nt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;)Te.push(ye),ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=nt(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function rt(){var ue,pe,Te,ye;if(ue=F,G.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(U)),pe!==C){for(Te=[],ye=lt();ye!==C;)Te.push(ye),ye=lt();Te!==C?(ye=Et(),ye!==C?(pe=l(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)}else F=ue,ue=C;return ue}function Et(){var ue,pe,Te,ye,Ne,$e;if(ue=F,pe=ct(),pe!==C){for(Te=[],ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=ct(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);ye!==C;)Te.push(ye),ye=F,Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=ct(),$e!==C?(Ne=[Ne,$e],ye=Ne):(F=ye,ye=C)):(F=ye,ye=C);Te!==C?(pe=x(pe,Te),ue=pe):(F=ue,ue=C)}else F=ue,ue=C;return ue}function ct(){var ue,pe,Te,ye,Ne,$e,Ct,Ar,pr,Mr,ft,sr;return ue=F,pe=pt(),pe!==C?(Te=ht(),Te===C&&(Te=null),Te!==C?(ye=pt(),ye!==C?(Ne=ht(),Ne===C&&(Ne=null),Ne!==C?($e=dt(),$e!==C?(Ct=ht(),Ct!==C?(Ar=Pt(),Ar!==C?(pr=ht(),pr===C&&(pr=null),pr!==C?(Mr=Pt(),Mr!==C?(ft=ht(),ft===C&&(ft=null),ft!==C?(sr=nt(),sr!==C?(pe=Y(pe,ye,$e,Ar,Mr,sr),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C),ue}function nt(){var ue,pe,Te,ye;return ue=F,pe=dt(),pe!==C?(Te=ht(),Te===C&&(Te=null),Te!==C?(ye=dt(),ye!==C?(pe=ee(pe,ye),ue=pe):(F=ue,ue=C)):(F=ue,ue=C)):(F=ue,ue=C),ue}function pt(){var ue,pe;return ue=F,pe=mt(),pe===C&&(pe=bt()),pe!==C&&(pe=le(pe)),ue=pe,ue}function dt(){var ue,pe,Te,ye;return ue=F,pe=F,Te=Tt(),Te===C&&(Te=null),Te!==C?(ye=mt(),ye!==C?(Te=[Te,ye],pe=Te):(F=pe,pe=C)):(F=pe,pe=C),pe===C&&(pe=F,Te=Tt(),Te===C&&(Te=null),Te!==C?(ye=bt(),ye!==C?(Te=[Te,ye],pe=Te):(F=pe,pe=C)):(F=pe,pe=C)),pe!==C&&(pe=he(pe)),ue=pe,ue}function Pt(){var ue,pe;return ue=F,oe.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(q)),pe!==C&&(pe=K(pe)),ue=pe,ue}function ht(){var ue,pe,Te,ye,Ne;if(ue=F,pe=[],Te=lt(),Te!==C)for(;Te!==C;)pe.push(Te),Te=lt();else pe=C;if(pe!==C)if(Te=Bt(),Te===C&&(Te=null),Te!==C){for(ye=[],Ne=lt();Ne!==C;)ye.push(Ne),Ne=lt();ye!==C?(pe=[pe,Te,ye],ue=pe):(F=ue,ue=C)}else F=ue,ue=C;else F=ue,ue=C;if(ue===C){if(ue=F,pe=F,Te=Bt(),Te!==C){for(ye=[],Ne=lt();Ne!==C;)ye.push(Ne),Ne=lt();ye!==C?(Te=[Te,ye],pe=Te):(F=pe,pe=C)}else F=pe,pe=C;pe!==C&&(pe=Q()),ue=pe}return ue}function Bt(){var ue;return N.charCodeAt(F)===44?(ue=te,F++):(ue=C,Ge(ce)),ue}function mt(){var ue,pe,Te,ye;return ue=F,pe=F,Te=St(),Te!==C?(ye=gt(),ye===C&&(ye=null),ye!==C?(Te=[Te,ye],pe=Te):(F=pe,pe=C)):(F=pe,pe=C),pe===C&&(pe=F,Te=bt(),Te!==C?(ye=gt(),ye!==C?(Te=[Te,ye],pe=Te):(F=pe,pe=C)):(F=pe,pe=C)),pe!==C&&(pe=we(pe)),ue=pe,ue}function St(){var ue,pe,Te,ye,Ne;return ue=F,pe=F,Te=bt(),Te===C&&(Te=null),Te!==C?(N.charCodeAt(F)===46?(ye=be,F++):(ye=C,Ge(xe)),ye!==C?(Ne=bt(),Ne!==C?(Te=[Te,ye,Ne],pe=Te):(F=pe,pe=C)):(F=pe,pe=C)):(F=pe,pe=C),pe===C&&(pe=F,Te=bt(),Te!==C?(N.charCodeAt(F)===46?(ye=be,F++):(ye=C,Ge(xe)),ye!==C?(Te=[Te,ye],pe=Te):(F=pe,pe=C)):(F=pe,pe=C)),pe!==C&&(pe=we(pe)),ue=pe,ue}function gt(){var ue,pe,Te,ye,Ne;return ue=F,pe=F,Ie.test(N.charAt(F))?(Te=N.charAt(F),F++):(Te=C,Ge(me)),Te!==C?(ye=Tt(),ye===C&&(ye=null),ye!==C?(Ne=bt(),Ne!==C?(Te=[Te,ye,Ne],pe=Te):(F=pe,pe=C)):(F=pe,pe=C)):(F=pe,pe=C),pe!==C&&(pe=we(pe)),ue=pe,ue}function Tt(){var ue;return ve.test(N.charAt(F))?(ue=N.charAt(F),F++):(ue=C,Ge(re)),ue}function bt(){var ue,pe,Te;if(ue=F,pe=[],se.test(N.charAt(F))?(Te=N.charAt(F),F++):(Te=C,Ge(fe)),Te!==C)for(;Te!==C;)pe.push(Te),se.test(N.charAt(F))?(Te=N.charAt(F),F++):(Te=C,Ge(fe));else pe=C;return pe!==C&&(pe=J(pe)),ue=pe,ue}function lt(){var ue,pe;return ue=F,z.test(N.charAt(F))?(pe=N.charAt(F),F++):(pe=C,Ge(B)),pe!==C&&(pe=Q()),ue=pe,ue}function Gt(ue,pe){if(!pe)return[ue];for(var Te=[ue],ye=0,Ne=pe.length;ye<Ne;ye++)Te[ye+1]=pe[ye][1];return Te}var er={m:"moveto",l:"lineto",h:"horizontal lineto",v:"vertical lineto",c:"curveto",s:"smooth curveto",q:"quadratic curveto",t:"smooth quadratic curveto",a:"elliptical arc",z:"closepath"};for(var ar in er)er[ar.toUpperCase()]=er[ar];function Wt(ue,pe){pe||(pe=[{}]);for(var Te=pe.length;Te--;){var ye={code:ue,command:er[ue]};ue==ue.toLowerCase()&&(ye.relative=!0);for(var Ne in pe[Te])ye[Ne]=pe[Te][Ne];pe[Te]=ye}return pe}if(ie=T(),ie!==C&&F===N.length)return ie;throw ie!==C&&F<N.length&&Ge(Le()),je(O,D<N.length?N.charAt(D):null,D<N.length?qe(D,D+1):qe(D,D))}var ys={SyntaxError:Pr,parse:gs},$r=ys.parse;$r.parseSVG=$r;$r.makeAbsolute=bs;var Ei=$r;function bs(N){var u,C={x:0,y:0},_={x:"x0",y:"y0",x1:"x0",y1:"y0",x2:"x0",y2:"y0"};return N.forEach(function(T){T.command==="moveto"&&(u=T),T.x0=C.x,T.y0=C.y;for(var b in _)b in T&&(T[b]+=T.relative?T[_[b]]:0);"x"in T||(T.x=C.x),"y"in T||(T.y=C.y),T.relative=!1,T.code=T.code.toUpperCase(),T.command=="closepath"&&(T.x=u.x,T.y=u.y),C=T}),N}function mn(N){const u=Ei.parseSVG(N);Ei.makeAbsolute(u);let C=[],_=[];for(const T of u)T.code=="M"?(_.length>0&&C.push(_),_=[{X:T.x,Y:T.y}]):["L","Z","C"].includes(T.code)?_.push({X:T.x,Y:T.y}):console.log("Not implemented: command",T);return _.length>0&&C.push(_),C}function ws(N,u,C=tr.PolyFillType.pftNonZero,_=tr.PolyFillType.pftEvenOdd){var T=new tr.Clipper;T.AddPaths(N,tr.PolyType.ptSubject,!0),T.AddPaths(u,tr.PolyType.ptClip,!0);var b=tr.ClipType.ctIntersection,x=[];return T.Execute(b,x,C,_),x}function xs(N,u){const C=mn(N),_=mn(u),T=ws(C,_);return{svg1:tr.JS.AreaOfPolygons(C),svg2:tr.JS.AreaOfPolygons(_),intersection:tr.JS.AreaOfPolygons(T)}}function _n(N){let u,C,_,T,b,x;return{c(){u=kt("g"),C=kt("text"),_=br("Score"),T=kt("text"),b=br(N[0]),x=br("%"),at(C,"x","20"),at(C,"y","20"),at(T,"x","0"),at(T,"y","5"),at(T,"class","heavy-text svelte-7yrta3"),at(u,"id","score"),at(u,"transform","translate("+(ur-100)+" "+(hr-100)+")")},m(c,p){Lt(c,u,p),_t(u,C),_t(C,_),_t(u,T),_t(T,b),_t(T,x)},p(c,p){p&1&&Ma(b,c[0])},d(c){c&&It(u)}}}function Es(N){let u,C=N[0]!=null&&_n(N);return{c(){C&&C.c(),u=Ai()},m(_,T){C&&C.m(_,T),Lt(_,u,T)},p(_,[T]){_[0]!=null?C?C.p(_,T):(C=_n(_),C.c(),C.m(u.parentNode,u)):C&&(C.d(1),C=null)},i:vt,o:vt,d(_){C&&C.d(_),_&&It(u)}}}function Ps(N,u,C){let _;Sr(N,Zr,x=>C(1,_=x));let T;function b(){const x=xs(sa,_);x.svg2=x.svg2*-1;const c=(x.svg2-x.intersection)/x.svg2,p=x.intersection/x.svg1;C(0,T=Math.round(Math.max(0,p-c/4)*100))}return N.$$.update=()=>{N.$$.dirty&2&&_.length>0&&b()},[T,_]}class Ss extends qt{constructor(u){super(),Vt(this,u,Ps,Es,Yt,{})}}function gn(N){let u,C,_;return u=new ds({}),C=new fs({}),{c(){Kt(u.$$.fragment),Kt(C.$$.fragment)},m(T,b){Zt(u,T,b),Zt(C,T,b),_=!0},i(T){_||(xt(u.$$.fragment,T),xt(C.$$.fragment,T),_=!0)},o(T){Ft(u.$$.fragment,T),Ft(C.$$.fragment,T),_=!1},d(T){$t(u,T),$t(C,T)}}}function Cs(N){let u,C,_,T,b;C=new ms({});let x=N[0]&&gn();return T=new Ss({}),{c(){u=kt("svg"),Kt(C.$$.fragment),x&&x.c(),_=Ai(),Kt(T.$$.fragment),at(u,"class","plot svelte-ya02cv"),at(u,"width",ur),at(u,"height",hr)},m(c,p){Lt(c,u,p),Zt(C,u,null),x&&x.m(u,null),_t(u,_),Zt(T,u,null),b=!0},p(c,[p]){c[0]?x?p&1&&xt(x,1):(x=gn(),x.c(),xt(x,1),x.m(u,_)):x&&(Un(),Ft(x,1,1,()=>{x=null}),zn())},i(c){b||(xt(C.$$.fragment,c),xt(x),xt(T.$$.fragment,c),b=!0)},o(c){Ft(C.$$.fragment,c),Ft(x),Ft(T.$$.fragment,c),b=!1},d(c){c&&It(u),$t(C),x&&x.d(),$t(T)}}}function As(N,u,C){let{showingResults:_}=u;return N.$$set=T=>{"showingResults"in T&&C(0,_=T.showingResults)},[_]}class Ms extends qt{constructor(u){super(),Vt(this,u,As,Cs,Yt,{showingResults:0})}}function Nr(N){throw new Error('Could not dynamically require "'+N+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ki={exports:{}};(function(N,u){if((typeof C>"u"||!C)&&typeof self<"u")var C=self;(function(_){N.exports=_()})(function(){return function(){function _(T,b,x){function c(o,s){if(!b[o]){if(!T[o]){var i=typeof Nr=="function"&&Nr;if(!s&&i)return i(o,!0);if(p)return p(o,!0);var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}var e=b[o]={exports:{}};T[o][0].call(e.exports,function(l){var h=T[o][1][l];return c(h||l)},e,e.exports,_,T,b,x)}return b[o].exports}for(var p=typeof Nr=="function"&&Nr,v=0;v<x.length;v++)c(x[v]);return c}return _}()({1:[function(_,T,b){function x(c){if(Array.isArray(c))return c}T.exports=x},{}],2:[function(_,T,b){function x(c){if(Array.isArray(c)){for(var p=0,v=new Array(c.length);p<c.length;p++)v[p]=c[p];return v}}T.exports=x},{}],3:[function(_,T,b){function x(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}T.exports=x},{}],4:[function(_,T,b){function x(c,p){if(!(c instanceof p))throw new TypeError("Cannot call a class as a function")}T.exports=x},{}],5:[function(_,T,b){var x=_("./setPrototypeOf");function c(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function p(v,o,s){return c()?T.exports=p=Reflect.construct:T.exports=p=function(t,e,l){var h=[null];h.push.apply(h,e);var n=Function.bind.apply(t,h),f=new n;return l&&x(f,l.prototype),f},p.apply(null,arguments)}T.exports=p},{"./setPrototypeOf":18}],6:[function(_,T,b){function x(p,v){for(var o=0;o<v.length;o++){var s=v[o];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(p,s.key,s)}}function c(p,v,o){return v&&x(p.prototype,v),o&&x(p,o),p}T.exports=c},{}],7:[function(_,T,b){function x(c,p,v){return p in c?Object.defineProperty(c,p,{value:v,enumerable:!0,configurable:!0,writable:!0}):c[p]=v,c}T.exports=x},{}],8:[function(_,T,b){function x(){return T.exports=x=Object.assign||function(c){for(var p=1;p<arguments.length;p++){var v=arguments[p];for(var o in v)Object.prototype.hasOwnProperty.call(v,o)&&(c[o]=v[o])}return c},x.apply(this,arguments)}T.exports=x},{}],9:[function(_,T,b){function x(c){return T.exports=x=Object.setPrototypeOf?Object.getPrototypeOf:function(v){return v.__proto__||Object.getPrototypeOf(v)},x(c)}T.exports=x},{}],10:[function(_,T,b){var x=_("./setPrototypeOf");function c(p,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(v&&v.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),v&&x(p,v)}T.exports=c},{"./setPrototypeOf":18}],11:[function(_,T,b){function x(c){return c&&c.__esModule?c:{default:c}}T.exports=x},{}],12:[function(_,T,b){var x=_("../helpers/typeof");function c(){if(typeof WeakMap!="function")return null;var v=new WeakMap;return c=function(){return v},v}function p(v){if(v&&v.__esModule)return v;if(v===null||x(v)!=="object"&&typeof v!="function")return{default:v};var o=c();if(o&&o.has(v))return o.get(v);var s={},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var t in v)if(Object.prototype.hasOwnProperty.call(v,t)){var e=i?Object.getOwnPropertyDescriptor(v,t):null;e&&(e.get||e.set)?Object.defineProperty(s,t,e):s[t]=v[t]}return s.default=v,o&&o.set(v,s),s}T.exports=p},{"../helpers/typeof":21}],13:[function(_,T,b){function x(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}T.exports=x},{}],14:[function(_,T,b){function x(c,p){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]"){var v=[],o=!0,s=!1,i=void 0;try{for(var t=c[Symbol.iterator](),e;!(o=(e=t.next()).done)&&(v.push(e.value),!(p&&v.length===p));o=!0);}catch(l){s=!0,i=l}finally{try{!o&&t.return!=null&&t.return()}finally{if(s)throw i}}return v}}T.exports=x},{}],15:[function(_,T,b){function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}T.exports=x},{}],16:[function(_,T,b){function x(){throw new TypeError("Invalid attempt to spread non-iterable instance")}T.exports=x},{}],17:[function(_,T,b){var x=_("../helpers/typeof"),c=_("./assertThisInitialized");function p(v,o){return o&&(x(o)==="object"||typeof o=="function")?o:c(v)}T.exports=p},{"../helpers/typeof":21,"./assertThisInitialized":3}],18:[function(_,T,b){function x(c,p){return T.exports=x=Object.setPrototypeOf||function(o,s){return o.__proto__=s,o},x(c,p)}T.exports=x},{}],19:[function(_,T,b){var x=_("./arrayWithHoles"),c=_("./iterableToArrayLimit"),p=_("./nonIterableRest");function v(o,s){return x(o)||c(o,s)||p()}T.exports=v},{"./arrayWithHoles":1,"./iterableToArrayLimit":14,"./nonIterableRest":15}],20:[function(_,T,b){var x=_("./arrayWithoutHoles"),c=_("./iterableToArray"),p=_("./nonIterableSpread");function v(o){return x(o)||c(o)||p()}T.exports=v},{"./arrayWithoutHoles":2,"./iterableToArray":13,"./nonIterableSpread":16}],21:[function(_,T,b){function x(p){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(o){return typeof o}:x=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},x(p)}function c(p){return typeof Symbol=="function"&&x(Symbol.iterator)==="symbol"?T.exports=c=function(o){return x(o)}:T.exports=c=function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":x(o)},c(p)}T.exports=c},{}],22:[function(_,T,b){T.exports=_("regenerator-runtime")},{"regenerator-runtime":153}],23:[function(_,T,b){var x=_("./src/converter");function c(p,v){var o=new x(p,v);return function(s){return o.convert(s)}}c.BIN="01",c.OCT="01234567",c.DEC="0123456789",c.HEX="0123456789abcdef",T.exports=c},{"./src/converter":24}],24:[function(_,T,b){function x(c,p){if(!c||!p||!c.length||!p.length)throw new Error("Bad alphabet");this.srcAlphabet=c,this.dstAlphabet=p}x.prototype.convert=function(c){var p,v,o,s={},i=this.srcAlphabet.length,t=this.dstAlphabet.length,e=c.length,l=typeof c=="string"?"":[];if(!this.isValid(c))throw new Error('Number "'+c+'" contains of non-alphabetic digits ('+this.srcAlphabet+")");if(this.srcAlphabet===this.dstAlphabet)return c;for(p=0;p<e;p++)s[p]=this.srcAlphabet.indexOf(c[p]);do{for(v=0,o=0,p=0;p<e;p++)v=v*i+s[p],v>=t?(s[o++]=parseInt(v/t,10),v=v%t):o>0&&(s[o++]=0);e=o,l=this.dstAlphabet.slice(v,v+1).concat(l)}while(o!==0);return l},x.prototype.isValid=function(c){for(var p=0;p<c.length;++p)if(this.srcAlphabet.indexOf(c[p])===-1)return!1;return!0},T.exports=x},{}],25:[function(_,T,b){(function(x){var c=_("object-assign");/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function p(G,U){if(G===U)return 0;for(var Y=G.length,ee=U.length,le=0,he=Math.min(Y,ee);le<he;++le)if(G[le]!==U[le]){Y=G[le],ee=U[le];break}return Y<ee?-1:ee<Y?1:0}function v(G){return x.Buffer&&typeof x.Buffer.isBuffer=="function"?x.Buffer.isBuffer(G):!!(G!=null&&G._isBuffer)}var o=_("util/"),s=Object.prototype.hasOwnProperty,i=Array.prototype.slice,t=function(){return function(){}.name==="foo"}();function e(G){return Object.prototype.toString.call(G)}function l(G){return v(G)||typeof x.ArrayBuffer!="function"?!1:typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(G):G?!!(G instanceof DataView||G.buffer&&G.buffer instanceof ArrayBuffer):!1}var h=T.exports=E,n=/\s*function\s+([^\(\s]*)\s*/;function f(G){if(!!o.isFunction(G)){if(t)return G.name;var U=G.toString(),Y=U.match(n);return Y&&Y[1]}}h.AssertionError=function(U){this.name="AssertionError",this.actual=U.actual,this.expected=U.expected,this.operator=U.operator,U.message?(this.message=U.message,this.generatedMessage=!1):(this.message=g(this),this.generatedMessage=!0);var Y=U.stackStartFunction||y;if(Error.captureStackTrace)Error.captureStackTrace(this,Y);else{var ee=new Error;if(ee.stack){var le=ee.stack,he=f(Y),oe=le.indexOf(`
`+he);if(oe>=0){var q=le.indexOf(`
`,oe+1);le=le.substring(q+1)}this.stack=le}}},o.inherits(h.AssertionError,Error);function a(G,U){return typeof G=="string"?G.length<U?G:G.slice(0,U):G}function m(G){if(t||!o.isFunction(G))return o.inspect(G);var U=f(G),Y=U?": "+U:"";return"[Function"+Y+"]"}function g(G){return a(m(G.actual),128)+" "+G.operator+" "+a(m(G.expected),128)}function y(G,U,Y,ee,le){throw new h.AssertionError({message:Y,actual:G,expected:U,operator:ee,stackStartFunction:le})}h.fail=y;function E(G,U){G||y(G,!0,U,"==",h.ok)}h.ok=E,h.equal=function(U,Y,ee){U!=Y&&y(U,Y,ee,"==",h.equal)},h.notEqual=function(U,Y,ee){U==Y&&y(U,Y,ee,"!=",h.notEqual)},h.deepEqual=function(U,Y,ee){S(U,Y,!1)||y(U,Y,ee,"deepEqual",h.deepEqual)},h.deepStrictEqual=function(U,Y,ee){S(U,Y,!0)||y(U,Y,ee,"deepStrictEqual",h.deepStrictEqual)};function S(G,U,Y,ee){if(G===U)return!0;if(v(G)&&v(U))return p(G,U)===0;if(o.isDate(G)&&o.isDate(U))return G.getTime()===U.getTime();if(o.isRegExp(G)&&o.isRegExp(U))return G.source===U.source&&G.global===U.global&&G.multiline===U.multiline&&G.lastIndex===U.lastIndex&&G.ignoreCase===U.ignoreCase;if((G===null||typeof G!="object")&&(U===null||typeof U!="object"))return Y?G===U:G==U;if(l(G)&&l(U)&&e(G)===e(U)&&!(G instanceof Float32Array||G instanceof Float64Array))return p(new Uint8Array(G.buffer),new Uint8Array(U.buffer))===0;if(v(G)!==v(U))return!1;ee=ee||{actual:[],expected:[]};var le=ee.actual.indexOf(G);return le!==-1&&le===ee.expected.indexOf(U)?!0:(ee.actual.push(G),ee.expected.push(U),M(G,U,Y,ee))}function A(G){return Object.prototype.toString.call(G)=="[object Arguments]"}function M(G,U,Y,ee){if(G==null||U===null||U===void 0)return!1;if(o.isPrimitive(G)||o.isPrimitive(U))return G===U;if(Y&&Object.getPrototypeOf(G)!==Object.getPrototypeOf(U))return!1;var le=A(G),he=A(U);if(le&&!he||!le&&he)return!1;if(le)return G=i.call(G),U=i.call(U),S(G,U,Y);var oe=V(G),q=V(U),K,Q;if(oe.length!==q.length)return!1;for(oe.sort(),q.sort(),Q=oe.length-1;Q>=0;Q--)if(oe[Q]!==q[Q])return!1;for(Q=oe.length-1;Q>=0;Q--)if(K=oe[Q],!S(G[K],U[K],Y,ee))return!1;return!0}h.notDeepEqual=function(U,Y,ee){S(U,Y,!1)&&y(U,Y,ee,"notDeepEqual",h.notDeepEqual)},h.notDeepStrictEqual=I;function I(G,U,Y){S(G,U,!0)&&y(G,U,Y,"notDeepStrictEqual",I)}h.strictEqual=function(U,Y,ee){U!==Y&&y(U,Y,ee,"===",h.strictEqual)},h.notStrictEqual=function(U,Y,ee){U===Y&&y(U,Y,ee,"!==",h.notStrictEqual)};function R(G,U){if(!G||!U)return!1;if(Object.prototype.toString.call(U)=="[object RegExp]")return U.test(G);try{if(G instanceof U)return!0}catch{}return Error.isPrototypeOf(U)?!1:U.call({},G)===!0}function H(G){var U;try{G()}catch(Y){U=Y}return U}function L(G,U,Y,ee){var le;if(typeof U!="function")throw new TypeError('"block" argument must be a function');typeof Y=="string"&&(ee=Y,Y=null),le=H(U),ee=(Y&&Y.name?" ("+Y.name+").":".")+(ee?" "+ee:"."),G&&!le&&y(le,Y,"Missing expected exception"+ee);var he=typeof ee=="string",oe=!G&&o.isError(le),q=!G&&le&&!Y;if((oe&&he&&R(le,Y)||q)&&y(le,Y,"Got unwanted exception"+ee),G&&le&&Y&&!R(le,Y)||!G&&le)throw le}h.throws=function(G,U,Y){L(!0,G,U,Y)},h.doesNotThrow=function(G,U,Y){L(!1,G,U,Y)},h.ifError=function(G){if(G)throw G};function j(G,U){G||y(G,!0,U,"==",j)}h.strict=c(j,h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var V=Object.keys||function(G){var U=[];for(var Y in G)s.call(G,Y)&&U.push(Y);return U}}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{"object-assign":84,"util/":28}],26:[function(_,T,b){typeof Object.create=="function"?T.exports=function(c,p){c.super_=p,c.prototype=Object.create(p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}})}:T.exports=function(c,p){c.super_=p;var v=function(){};v.prototype=p.prototype,c.prototype=new v,c.prototype.constructor=c}},{}],27:[function(_,T,b){T.exports=function(c){return c&&typeof c=="object"&&typeof c.copy=="function"&&typeof c.fill=="function"&&typeof c.readUInt8=="function"}},{}],28:[function(_,T,b){(function(x,c){var p=/%[sdj%]/g;b.format=function(q){if(!M(q)){for(var K=[],Q=0;Q<arguments.length;Q++)K.push(s(arguments[Q]));return K.join(" ")}for(var Q=1,te=arguments,ce=te.length,we=String(q).replace(p,function(xe){if(xe==="%%")return"%";if(Q>=ce)return xe;switch(xe){case"%s":return String(te[Q++]);case"%d":return Number(te[Q++]);case"%j":try{return JSON.stringify(te[Q++])}catch{return"[Circular]"}default:return xe}}),be=te[Q];Q<ce;be=te[++Q])E(be)||!L(be)?we+=" "+be:we+=" "+s(be);return we},b.deprecate=function(q,K){if(R(c.process))return function(){return b.deprecate(q,K).apply(this,arguments)};if(x.noDeprecation===!0)return q;var Q=!1;function te(){if(!Q){if(x.throwDeprecation)throw new Error(K);x.traceDeprecation?console.trace(K):console.error(K),Q=!0}return q.apply(this,arguments)}return te};var v={},o;b.debuglog=function(q){if(R(o)&&(o=x.env.NODE_DEBUG||""),q=q.toUpperCase(),!v[q])if(new RegExp("\\b"+q+"\\b","i").test(o)){var K=x.pid;v[q]=function(){var Q=b.format.apply(b,arguments);console.error("%s %d: %s",q,K,Q)}}else v[q]=function(){};return v[q]};function s(q,K){var Q={seen:[],stylize:t};return arguments.length>=3&&(Q.depth=arguments[2]),arguments.length>=4&&(Q.colors=arguments[3]),y(K)?Q.showHidden=K:K&&b._extend(Q,K),R(Q.showHidden)&&(Q.showHidden=!1),R(Q.depth)&&(Q.depth=2),R(Q.colors)&&(Q.colors=!1),R(Q.customInspect)&&(Q.customInspect=!0),Q.colors&&(Q.stylize=i),l(Q,q,Q.depth)}b.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function i(q,K){var Q=s.styles[K];return Q?"\x1B["+s.colors[Q][0]+"m"+q+"\x1B["+s.colors[Q][1]+"m":q}function t(q,K){return q}function e(q){var K={};return q.forEach(function(Q,te){K[Q]=!0}),K}function l(q,K,Q){if(q.customInspect&&K&&G(K.inspect)&&K.inspect!==b.inspect&&!(K.constructor&&K.constructor.prototype===K)){var te=K.inspect(Q,q);return M(te)||(te=l(q,te,Q)),te}var ce=h(q,K);if(ce)return ce;var we=Object.keys(K),be=e(we);if(q.showHidden&&(we=Object.getOwnPropertyNames(K)),V(K)&&(we.indexOf("message")>=0||we.indexOf("description")>=0))return n(K);if(we.length===0){if(G(K)){var xe=K.name?": "+K.name:"";return q.stylize("[Function"+xe+"]","special")}if(H(K))return q.stylize(RegExp.prototype.toString.call(K),"regexp");if(j(K))return q.stylize(Date.prototype.toString.call(K),"date");if(V(K))return n(K)}var Ie="",me=!1,ve=["{","}"];if(g(K)&&(me=!0,ve=["[","]"]),G(K)){var re=K.name?": "+K.name:"";Ie=" [Function"+re+"]"}if(H(K)&&(Ie=" "+RegExp.prototype.toString.call(K)),j(K)&&(Ie=" "+Date.prototype.toUTCString.call(K)),V(K)&&(Ie=" "+n(K)),we.length===0&&(!me||K.length==0))return ve[0]+Ie+ve[1];if(Q<0)return H(K)?q.stylize(RegExp.prototype.toString.call(K),"regexp"):q.stylize("[Object]","special");q.seen.push(K);var se;return me?se=f(q,K,Q,be,we):se=we.map(function(fe){return a(q,K,Q,be,fe,me)}),q.seen.pop(),m(se,Ie,ve)}function h(q,K){if(R(K))return q.stylize("undefined","undefined");if(M(K)){var Q="'"+JSON.stringify(K).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return q.stylize(Q,"string")}if(A(K))return q.stylize(""+K,"number");if(y(K))return q.stylize(""+K,"boolean");if(E(K))return q.stylize("null","null")}function n(q){return"["+Error.prototype.toString.call(q)+"]"}function f(q,K,Q,te,ce){for(var we=[],be=0,xe=K.length;be<xe;++be)oe(K,String(be))?we.push(a(q,K,Q,te,String(be),!0)):we.push("");return ce.forEach(function(Ie){Ie.match(/^\d+$/)||we.push(a(q,K,Q,te,Ie,!0))}),we}function a(q,K,Q,te,ce,we){var be,xe,Ie;if(Ie=Object.getOwnPropertyDescriptor(K,ce)||{value:K[ce]},Ie.get?Ie.set?xe=q.stylize("[Getter/Setter]","special"):xe=q.stylize("[Getter]","special"):Ie.set&&(xe=q.stylize("[Setter]","special")),oe(te,ce)||(be="["+ce+"]"),xe||(q.seen.indexOf(Ie.value)<0?(E(Q)?xe=l(q,Ie.value,null):xe=l(q,Ie.value,Q-1),xe.indexOf(`
`)>-1&&(we?xe=xe.split(`
`).map(function(me){return"  "+me}).join(`
`).substr(2):xe=`
`+xe.split(`
`).map(function(me){return"   "+me}).join(`
`))):xe=q.stylize("[Circular]","special")),R(be)){if(we&&ce.match(/^\d+$/))return xe;be=JSON.stringify(""+ce),be.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(be=be.substr(1,be.length-2),be=q.stylize(be,"name")):(be=be.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),be=q.stylize(be,"string"))}return be+": "+xe}function m(q,K,Q){var te=q.reduce(function(ce,we){return we.indexOf(`
`)>=0,ce+we.replace(/\u001b\[\d\d?m/g,"").length+1},0);return te>60?Q[0]+(K===""?"":K+`
 `)+" "+q.join(`,
  `)+" "+Q[1]:Q[0]+K+" "+q.join(", ")+" "+Q[1]}function g(q){return Array.isArray(q)}b.isArray=g;function y(q){return typeof q=="boolean"}b.isBoolean=y;function E(q){return q===null}b.isNull=E;function S(q){return q==null}b.isNullOrUndefined=S;function A(q){return typeof q=="number"}b.isNumber=A;function M(q){return typeof q=="string"}b.isString=M;function I(q){return typeof q=="symbol"}b.isSymbol=I;function R(q){return q===void 0}b.isUndefined=R;function H(q){return L(q)&&Y(q)==="[object RegExp]"}b.isRegExp=H;function L(q){return typeof q=="object"&&q!==null}b.isObject=L;function j(q){return L(q)&&Y(q)==="[object Date]"}b.isDate=j;function V(q){return L(q)&&(Y(q)==="[object Error]"||q instanceof Error)}b.isError=V;function G(q){return typeof q=="function"}b.isFunction=G;function U(q){return q===null||typeof q=="boolean"||typeof q=="number"||typeof q=="string"||typeof q=="symbol"||typeof q>"u"}b.isPrimitive=U,b.isBuffer=_("./support/isBuffer");function Y(q){return Object.prototype.toString.call(q)}function ee(q){return q<10?"0"+q.toString(10):q.toString(10)}var le=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function he(){var q=new Date,K=[ee(q.getHours()),ee(q.getMinutes()),ee(q.getSeconds())].join(":");return[q.getDate(),le[q.getMonth()],K].join(" ")}b.log=function(){console.log("%s - %s",he(),b.format.apply(b,arguments))},b.inherits=_("inherits"),b._extend=function(q,K){if(!K||!L(K))return q;for(var Q=Object.keys(K),te=Q.length;te--;)q[Q[te]]=K[Q[te]];return q};function oe(q,K){return Object.prototype.hasOwnProperty.call(q,K)}}).call(this,_("_process"),typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{"./support/isBuffer":27,_process:133,inherits:26}],29:[function(_,T,b){b.byteLength=t,b.toByteArray=l,b.fromByteArray=f;for(var x=[],c=[],p=typeof Uint8Array<"u"?Uint8Array:Array,v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,s=v.length;o<s;++o)x[o]=v[o],c[v.charCodeAt(o)]=o;c["-".charCodeAt(0)]=62,c["_".charCodeAt(0)]=63;function i(a){var m=a.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var g=a.indexOf("=");g===-1&&(g=m);var y=g===m?0:4-g%4;return[g,y]}function t(a){var m=i(a),g=m[0],y=m[1];return(g+y)*3/4-y}function e(a,m,g){return(m+g)*3/4-g}function l(a){var m,g=i(a),y=g[0],E=g[1],S=new p(e(a,y,E)),A=0,M=E>0?y-4:y,I;for(I=0;I<M;I+=4)m=c[a.charCodeAt(I)]<<18|c[a.charCodeAt(I+1)]<<12|c[a.charCodeAt(I+2)]<<6|c[a.charCodeAt(I+3)],S[A++]=m>>16&255,S[A++]=m>>8&255,S[A++]=m&255;return E===2&&(m=c[a.charCodeAt(I)]<<2|c[a.charCodeAt(I+1)]>>4,S[A++]=m&255),E===1&&(m=c[a.charCodeAt(I)]<<10|c[a.charCodeAt(I+1)]<<4|c[a.charCodeAt(I+2)]>>2,S[A++]=m>>8&255,S[A++]=m&255),S}function h(a){return x[a>>18&63]+x[a>>12&63]+x[a>>6&63]+x[a&63]}function n(a,m,g){for(var y,E=[],S=m;S<g;S+=3)y=(a[S]<<16&16711680)+(a[S+1]<<8&65280)+(a[S+2]&255),E.push(h(y));return E.join("")}function f(a){for(var m,g=a.length,y=g%3,E=[],S=16383,A=0,M=g-y;A<M;A+=S)E.push(n(a,A,A+S>M?M:A+S));return y===1?(m=a[g-1],E.push(x[m>>2]+x[m<<4&63]+"==")):y===2&&(m=(a[g-2]<<8)+a[g-1],E.push(x[m>>10]+x[m>>4&63]+x[m<<2&63]+"=")),E.join("")}},{}],30:[function(_,T,b){var x=_("./lib/encoder"),c=_("./lib/decoder");T.exports={encode:x,decode:c}},{"./lib/decoder":31,"./lib/encoder":32}],31:[function(_,T,b){(function(x){function c(p,v){if(this.pos=0,this.buffer=p,this.is_with_alpha=!!v,this.bottom_up=!0,this.flag=this.buffer.toString("utf-8",0,this.pos+=2),this.flag!="BM")throw new Error("Invalid BMP File");this.parseHeader(),this.parseRGBA()}c.prototype.parseHeader=function(){if(this.fileSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.reserved=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.offset=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.headerSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.width=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.height=this.buffer.readInt32LE(this.pos),this.pos+=4,this.planes=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.bitPP=this.buffer.readUInt16LE(this.pos),this.pos+=2,this.compress=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.rawSize=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.hr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.vr=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.colors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.importantColors=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var p=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(p);for(var v=0;v<p;v++){var o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.palette[v]={red:i,green:s,blue:o,quad:t}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},c.prototype.parseRGBA=function(){var p="bit"+this.bitPP,v=this.width*this.height*4;this.data=new x(v),this[p]()},c.prototype.bit1=function(){for(var p=Math.ceil(this.width/8),v=p%4,o=this.height>=0?this.height-1:-this.height,o=this.height-1;o>=0;o--){for(var s=this.bottom_up?o:this.height-1-o,i=0;i<p;i++)for(var t=this.buffer.readUInt8(this.pos++),e=s*this.width*4+i*8*4,l=0;l<8&&i*8+l<this.width;l++){var h=this.palette[t>>7-l&1];this.data[e+l*4]=0,this.data[e+l*4+1]=h.blue,this.data[e+l*4+2]=h.green,this.data[e+l*4+3]=h.red}v!=0&&(this.pos+=4-v)}},c.prototype.bit4=function(){if(this.compress==2){let S=function(A){var M=this.palette[A];this.data[p]=0,this.data[p+1]=M.blue,this.data[p+2]=M.green,this.data[p+3]=M.red,p+=4};var E=S;this.data.fill(255);for(var p=0,v=this.bottom_up?this.height-1:0,o=!1;p<this.data.length;){var s=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++);if(s==0)if(i==0){this.bottom_up?v--:v++,p=v*this.width*4,o=!1;continue}else{if(i==1)break;if(i==2){var t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++);this.bottom_up?v-=e:v+=e,p+=e*this.width*4+t*4}else{for(var l=this.buffer.readUInt8(this.pos++),h=0;h<i;h++)o?S.call(this,l&15):S.call(this,(l&240)>>4),h&1&&h+1<i&&(l=this.buffer.readUInt8(this.pos++)),o=!o;(i+1>>1&1)==1&&this.pos++}}else for(var h=0;h<s;h++)o?S.call(this,i&15):S.call(this,(i&240)>>4),o=!o}}else for(var n=Math.ceil(this.width/2),f=n%4,e=this.height-1;e>=0;e--){for(var a=this.bottom_up?e:this.height-1-e,t=0;t<n;t++){var i=this.buffer.readUInt8(this.pos++),p=a*this.width*4+t*2*4,m=i>>4,g=i&15,y=this.palette[m];if(this.data[p]=0,this.data[p+1]=y.blue,this.data[p+2]=y.green,this.data[p+3]=y.red,t*2+1>=this.width)break;y=this.palette[g],this.data[p+4]=0,this.data[p+4+1]=y.blue,this.data[p+4+2]=y.green,this.data[p+4+3]=y.red}f!=0&&(this.pos+=4-f)}},c.prototype.bit8=function(){if(this.compress==1){let m=function(g){var y=this.palette[g];this.data[p]=0,this.data[p+1]=y.blue,this.data[p+2]=y.green,this.data[p+3]=y.red,p+=4};var a=m;this.data.fill(255);for(var p=0,v=this.bottom_up?this.height-1:0;p<this.data.length;){var o=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++);if(o==0)if(s==0){this.bottom_up?v--:v++,p=v*this.width*4;continue}else{if(s==1)break;if(s==2){var i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++);this.bottom_up?v-=t:v+=t,p+=t*this.width*4+i*4}else{for(var e=0;e<s;e++){var l=this.buffer.readUInt8(this.pos++);m.call(this,l)}s&!0&&this.pos++}}else for(var e=0;e<o;e++)m.call(this,s)}}else for(var h=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var s=this.buffer.readUInt8(this.pos++),p=n*this.width*4+i*4;if(s<this.palette.length){var f=this.palette[s];this.data[p]=0,this.data[p+1]=f.blue,this.data[p+2]=f.green,this.data[p+3]=f.red}else this.data[p]=0,this.data[p+1]=255,this.data[p+2]=255,this.data[p+3]=255}h!=0&&(this.pos+=4-h)}},c.prototype.bit15=function(){for(var p=this.width%3,v=parseInt("11111",2),o=v,s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var l=(e&o)/o*255|0,h=(e>>5&o)/o*255|0,n=(e>>10&o)/o*255|0,f=e>>15?255:0,a=i*this.width*4+t*4;this.data[a]=f,this.data[a+1]=l,this.data[a+2]=h,this.data[a+3]=n}this.pos+=p}},c.prototype.bit16=function(){var p=this.width%2*2;this.maskRed=31744,this.maskGreen=992,this.maskBlue=31,this.mask0=0,this.compress==3&&(this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4);for(var v=[0,0,0],o=0;o<16;o++)this.maskRed>>o&1&&v[0]++,this.maskGreen>>o&1&&v[1]++,this.maskBlue>>o&1&&v[2]++;v[1]+=v[0],v[2]+=v[1],v[0]=8-v[0],v[1]-=8,v[2]-=8;for(var s=this.height-1;s>=0;s--){for(var i=this.bottom_up?s:this.height-1-s,t=0;t<this.width;t++){var e=this.buffer.readUInt16LE(this.pos);this.pos+=2;var l=(e&this.maskBlue)<<v[0],h=(e&this.maskGreen)>>v[1],n=(e&this.maskRed)>>v[2],f=i*this.width*4+t*4;this.data[f]=0,this.data[f+1]=l,this.data[f+2]=h,this.data[f+3]=n}this.pos+=p}},c.prototype.bit24=function(){for(var p=this.height-1;p>=0;p--){for(var v=this.bottom_up?p:this.height-1-p,o=0;o<this.width;o++){var s=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=v*this.width*4+o*4;this.data[e]=0,this.data[e+1]=s,this.data[e+2]=i,this.data[e+3]=t}this.pos+=this.width%4}},c.prototype.bit32=function(){if(this.compress==3){this.maskRed=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskGreen=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.maskBlue=this.buffer.readUInt32LE(this.pos),this.pos+=4,this.mask0=this.buffer.readUInt32LE(this.pos),this.pos+=4;for(var p=this.height-1;p>=0;p--)for(var v=this.bottom_up?p:this.height-1-p,o=0;o<this.width;o++){var s=this.buffer.readUInt8(this.pos++),i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),l=v*this.width*4+o*4;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=t,this.data[l+3]=e}}else for(var p=this.height-1;p>=0;p--)for(var v=this.bottom_up?p:this.height-1-p,o=0;o<this.width;o++){var i=this.buffer.readUInt8(this.pos++),t=this.buffer.readUInt8(this.pos++),e=this.buffer.readUInt8(this.pos++),s=this.buffer.readUInt8(this.pos++),l=v*this.width*4+o*4;this.data[l]=s,this.data[l+1]=i,this.data[l+2]=t,this.data[l+3]=e}},c.prototype.getData=function(){return this.data},T.exports=function(p){var v=new c(p);return v}}).call(this,_("buffer").Buffer)},{buffer:48}],32:[function(_,T,b){(function(x){function c(p){this.buffer=p.data,this.width=p.width,this.height=p.height,this.extraBytes=this.width%4,this.rgbSize=this.height*(3*this.width+this.extraBytes),this.headerInfoSize=40,this.data=[],this.flag="BM",this.reserved=0,this.offset=54,this.fileSize=this.rgbSize+this.offset,this.planes=1,this.bitPP=24,this.compress=0,this.hr=0,this.vr=0,this.colors=0,this.importantColors=0}c.prototype.encode=function(){var p=new x(this.offset+this.rgbSize);this.pos=0,p.write(this.flag,this.pos,2),this.pos+=2,p.writeUInt32LE(this.fileSize,this.pos),this.pos+=4,p.writeUInt32LE(this.reserved,this.pos),this.pos+=4,p.writeUInt32LE(this.offset,this.pos),this.pos+=4,p.writeUInt32LE(this.headerInfoSize,this.pos),this.pos+=4,p.writeUInt32LE(this.width,this.pos),this.pos+=4,p.writeInt32LE(-this.height,this.pos),this.pos+=4,p.writeUInt16LE(this.planes,this.pos),this.pos+=2,p.writeUInt16LE(this.bitPP,this.pos),this.pos+=2,p.writeUInt32LE(this.compress,this.pos),this.pos+=4,p.writeUInt32LE(this.rgbSize,this.pos),this.pos+=4,p.writeUInt32LE(this.hr,this.pos),this.pos+=4,p.writeUInt32LE(this.vr,this.pos),this.pos+=4,p.writeUInt32LE(this.colors,this.pos),this.pos+=4,p.writeUInt32LE(this.importantColors,this.pos),this.pos+=4;for(var v=0,o=3*this.width+this.extraBytes,s=0;s<this.height;s++){for(var i=0;i<this.width;i++){var t=this.pos+s*o+i*3;v++,p[t]=this.buffer[v++],p[t+1]=this.buffer[v++],p[t+2]=this.buffer[v++]}if(this.extraBytes>0){var e=this.pos+s*o+this.width*3;p.fill(0,e,e+this.extraBytes)}}return p},T.exports=function(p,v){var o=new c(p),s=o.encode();return{data:s,width:p.width,height:p.height}}}).call(this,_("buffer").Buffer)},{buffer:48}],33:[function(_,T,b){},{}],34:[function(_,T,b){(function(x,c){var p=_("assert"),v=_("pako/lib/zlib/zstream"),o=_("pako/lib/zlib/deflate.js"),s=_("pako/lib/zlib/inflate.js"),i=_("pako/lib/zlib/constants");for(var t in i)b[t]=i[t];b.NONE=0,b.DEFLATE=1,b.INFLATE=2,b.GZIP=3,b.GUNZIP=4,b.DEFLATERAW=5,b.INFLATERAW=6,b.UNZIP=7;var e=31,l=139;function h(n){if(typeof n!="number"||n<b.DEFLATE||n>b.UNZIP)throw new TypeError("Bad argument");this.dictionary=null,this.err=0,this.flush=0,this.init_done=!1,this.level=0,this.memLevel=0,this.mode=n,this.strategy=0,this.windowBits=0,this.write_in_progress=!1,this.pending_close=!1,this.gzip_id_bytes_read=0}h.prototype.close=function(){if(this.write_in_progress){this.pending_close=!0;return}this.pending_close=!1,p(this.init_done,"close before init"),p(this.mode<=b.UNZIP),this.mode===b.DEFLATE||this.mode===b.GZIP||this.mode===b.DEFLATERAW?o.deflateEnd(this.strm):(this.mode===b.INFLATE||this.mode===b.GUNZIP||this.mode===b.INFLATERAW||this.mode===b.UNZIP)&&s.inflateEnd(this.strm),this.mode=b.NONE,this.dictionary=null},h.prototype.write=function(n,f,a,m,g,y,E){return this._write(!0,n,f,a,m,g,y,E)},h.prototype.writeSync=function(n,f,a,m,g,y,E){return this._write(!1,n,f,a,m,g,y,E)},h.prototype._write=function(n,f,a,m,g,y,E,S){if(p.equal(arguments.length,8),p(this.init_done,"write before init"),p(this.mode!==b.NONE,"already finalized"),p.equal(!1,this.write_in_progress,"write already in progress"),p.equal(!1,this.pending_close,"close is pending"),this.write_in_progress=!0,p.equal(!1,f===void 0,"must provide flush value"),this.write_in_progress=!0,f!==b.Z_NO_FLUSH&&f!==b.Z_PARTIAL_FLUSH&&f!==b.Z_SYNC_FLUSH&&f!==b.Z_FULL_FLUSH&&f!==b.Z_FINISH&&f!==b.Z_BLOCK)throw new Error("Invalid flush value");if(a==null&&(a=c.alloc(0),g=0,m=0),this.strm.avail_in=g,this.strm.input=a,this.strm.next_in=m,this.strm.avail_out=S,this.strm.output=y,this.strm.next_out=E,this.flush=f,!n)return this._process(),this._checkError()?this._afterSync():void 0;var A=this;return x.nextTick(function(){A._process(),A._after()}),this},h.prototype._afterSync=function(){var n=this.strm.avail_out,f=this.strm.avail_in;return this.write_in_progress=!1,[f,n]},h.prototype._process=function(){var n=null;switch(this.mode){case b.DEFLATE:case b.GZIP:case b.DEFLATERAW:this.err=o.deflate(this.strm,this.flush);break;case b.UNZIP:switch(this.strm.avail_in>0&&(n=this.strm.next_in),this.gzip_id_bytes_read){case 0:if(n===null)break;if(this.strm.input[n]===e){if(this.gzip_id_bytes_read=1,n++,this.strm.avail_in===1)break}else{this.mode=b.INFLATE;break}case 1:if(n===null)break;this.strm.input[n]===l?(this.gzip_id_bytes_read=2,this.mode=b.GUNZIP):this.mode=b.INFLATE;break;default:throw new Error("invalid number of gzip magic number bytes read")}case b.INFLATE:case b.GUNZIP:case b.INFLATERAW:for(this.err=s.inflate(this.strm,this.flush),this.err===b.Z_NEED_DICT&&this.dictionary&&(this.err=s.inflateSetDictionary(this.strm,this.dictionary),this.err===b.Z_OK?this.err=s.inflate(this.strm,this.flush):this.err===b.Z_DATA_ERROR&&(this.err=b.Z_NEED_DICT));this.strm.avail_in>0&&this.mode===b.GUNZIP&&this.err===b.Z_STREAM_END&&this.strm.next_in[0]!==0;)this.reset(),this.err=s.inflate(this.strm,this.flush);break;default:throw new Error("Unknown mode "+this.mode)}},h.prototype._checkError=function(){switch(this.err){case b.Z_OK:case b.Z_BUF_ERROR:if(this.strm.avail_out!==0&&this.flush===b.Z_FINISH)return this._error("unexpected end of file"),!1;break;case b.Z_STREAM_END:break;case b.Z_NEED_DICT:return this.dictionary==null?this._error("Missing dictionary"):this._error("Bad dictionary"),!1;default:return this._error("Zlib error"),!1}return!0},h.prototype._after=function(){if(!!this._checkError()){var n=this.strm.avail_out,f=this.strm.avail_in;this.write_in_progress=!1,this.callback(f,n),this.pending_close&&this.close()}},h.prototype._error=function(n){this.strm.msg&&(n=this.strm.msg),this.onerror(n,this.err),this.write_in_progress=!1,this.pending_close&&this.close()},h.prototype.init=function(n,f,a,m,g){p(arguments.length===4||arguments.length===5,"init(windowBits, level, memLevel, strategy, [dictionary])"),p(n>=8&&n<=15,"invalid windowBits"),p(f>=-1&&f<=9,"invalid compression level"),p(a>=1&&a<=9,"invalid memlevel"),p(m===b.Z_FILTERED||m===b.Z_HUFFMAN_ONLY||m===b.Z_RLE||m===b.Z_FIXED||m===b.Z_DEFAULT_STRATEGY,"invalid strategy"),this._init(f,n,a,m,g),this._setDictionary()},h.prototype.params=function(){throw new Error("deflateParams Not supported")},h.prototype.reset=function(){this._reset(),this._setDictionary()},h.prototype._init=function(n,f,a,m,g){switch(this.level=n,this.windowBits=f,this.memLevel=a,this.strategy=m,this.flush=b.Z_NO_FLUSH,this.err=b.Z_OK,(this.mode===b.GZIP||this.mode===b.GUNZIP)&&(this.windowBits+=16),this.mode===b.UNZIP&&(this.windowBits+=32),(this.mode===b.DEFLATERAW||this.mode===b.INFLATERAW)&&(this.windowBits=-1*this.windowBits),this.strm=new v,this.mode){case b.DEFLATE:case b.GZIP:case b.DEFLATERAW:this.err=o.deflateInit2(this.strm,this.level,b.Z_DEFLATED,this.windowBits,this.memLevel,this.strategy);break;case b.INFLATE:case b.GUNZIP:case b.INFLATERAW:case b.UNZIP:this.err=s.inflateInit2(this.strm,this.windowBits);break;default:throw new Error("Unknown mode "+this.mode)}this.err!==b.Z_OK&&this._error("Init error"),this.dictionary=g,this.write_in_progress=!1,this.init_done=!0},h.prototype._setDictionary=function(){if(this.dictionary!=null){switch(this.err=b.Z_OK,this.mode){case b.DEFLATE:case b.DEFLATERAW:this.err=o.deflateSetDictionary(this.strm,this.dictionary);break}this.err!==b.Z_OK&&this._error("Failed to set dictionary")}},h.prototype._reset=function(){switch(this.err=b.Z_OK,this.mode){case b.DEFLATE:case b.DEFLATERAW:case b.GZIP:this.err=o.deflateReset(this.strm);break;case b.INFLATE:case b.INFLATERAW:case b.GUNZIP:this.err=s.inflateReset(this.strm);break}this.err!==b.Z_OK&&this._error("Failed to reset stream")},b.Zlib=h}).call(this,_("_process"),_("buffer").Buffer)},{_process:133,assert:25,buffer:48,"pako/lib/zlib/constants":38,"pako/lib/zlib/deflate.js":40,"pako/lib/zlib/inflate.js":42,"pako/lib/zlib/zstream":46}],35:[function(_,T,b){(function(x){var c=_("buffer").Buffer,p=_("stream").Transform,v=_("./binding"),o=_("util"),s=_("assert").ok,i=_("buffer").kMaxLength,t="Cannot create final Buffer. It would be larger than 0x"+i.toString(16)+" bytes";v.Z_MIN_WINDOWBITS=8,v.Z_MAX_WINDOWBITS=15,v.Z_DEFAULT_WINDOWBITS=15,v.Z_MIN_CHUNK=64,v.Z_MAX_CHUNK=1/0,v.Z_DEFAULT_CHUNK=16*1024,v.Z_MIN_MEMLEVEL=1,v.Z_MAX_MEMLEVEL=9,v.Z_DEFAULT_MEMLEVEL=8,v.Z_MIN_LEVEL=-1,v.Z_MAX_LEVEL=9,v.Z_DEFAULT_LEVEL=v.Z_DEFAULT_COMPRESSION;for(var e=Object.keys(v),l=0;l<e.length;l++){var h=e[l];h.match(/^Z/)&&Object.defineProperty(b,h,{enumerable:!0,value:v[h],writable:!1})}for(var n={Z_OK:v.Z_OK,Z_STREAM_END:v.Z_STREAM_END,Z_NEED_DICT:v.Z_NEED_DICT,Z_ERRNO:v.Z_ERRNO,Z_STREAM_ERROR:v.Z_STREAM_ERROR,Z_DATA_ERROR:v.Z_DATA_ERROR,Z_MEM_ERROR:v.Z_MEM_ERROR,Z_BUF_ERROR:v.Z_BUF_ERROR,Z_VERSION_ERROR:v.Z_VERSION_ERROR},f=Object.keys(n),a=0;a<f.length;a++){var m=f[a];n[n[m]]=m}Object.defineProperty(b,"codes",{enumerable:!0,value:Object.freeze(n),writable:!1}),b.Deflate=E,b.Inflate=S,b.Gzip=A,b.Gunzip=M,b.DeflateRaw=I,b.InflateRaw=R,b.Unzip=H,b.createDeflate=function(U){return new E(U)},b.createInflate=function(U){return new S(U)},b.createDeflateRaw=function(U){return new I(U)},b.createInflateRaw=function(U){return new R(U)},b.createGzip=function(U){return new A(U)},b.createGunzip=function(U){return new M(U)},b.createUnzip=function(U){return new H(U)},b.deflate=function(U,Y,ee){return typeof Y=="function"&&(ee=Y,Y={}),g(new E(Y),U,ee)},b.deflateSync=function(U,Y){return y(new E(Y),U)},b.gzip=function(U,Y,ee){return typeof Y=="function"&&(ee=Y,Y={}),g(new A(Y),U,ee)},b.gzipSync=function(U,Y){return y(new A(Y),U)},b.deflateRaw=function(U,Y,ee){return typeof Y=="function"&&(ee=Y,Y={}),g(new I(Y),U,ee)},b.deflateRawSync=function(U,Y){return y(new I(Y),U)},b.unzip=function(U,Y,ee){return typeof Y=="function"&&(ee=Y,Y={}),g(new H(Y),U,ee)},b.unzipSync=function(U,Y){return y(new H(Y),U)},b.inflate=function(U,Y,ee){return typeof Y=="function"&&(ee=Y,Y={}),g(new S(Y),U,ee)},b.inflateSync=function(U,Y){return y(new S(Y),U)},b.gunzip=function(U,Y,ee){return typeof Y=="function"&&(ee=Y,Y={}),g(new M(Y),U,ee)},b.gunzipSync=function(U,Y){return y(new M(Y),U)},b.inflateRaw=function(U,Y,ee){return typeof Y=="function"&&(ee=Y,Y={}),g(new R(Y),U,ee)},b.inflateRawSync=function(U,Y){return y(new R(Y),U)};function g(U,Y,ee){var le=[],he=0;U.on("error",q),U.on("end",K),U.end(Y),oe();function oe(){for(var Q;(Q=U.read())!==null;)le.push(Q),he+=Q.length;U.once("readable",oe)}function q(Q){U.removeListener("end",K),U.removeListener("readable",oe),ee(Q)}function K(){var Q,te=null;he>=i?te=new RangeError(t):Q=c.concat(le,he),le=[],U.close(),ee(te,Q)}}function y(U,Y){if(typeof Y=="string"&&(Y=c.from(Y)),!c.isBuffer(Y))throw new TypeError("Not a string or buffer");var ee=U._finishFlushFlag;return U._processChunk(Y,ee)}function E(U){if(!(this instanceof E))return new E(U);j.call(this,U,v.DEFLATE)}function S(U){if(!(this instanceof S))return new S(U);j.call(this,U,v.INFLATE)}function A(U){if(!(this instanceof A))return new A(U);j.call(this,U,v.GZIP)}function M(U){if(!(this instanceof M))return new M(U);j.call(this,U,v.GUNZIP)}function I(U){if(!(this instanceof I))return new I(U);j.call(this,U,v.DEFLATERAW)}function R(U){if(!(this instanceof R))return new R(U);j.call(this,U,v.INFLATERAW)}function H(U){if(!(this instanceof H))return new H(U);j.call(this,U,v.UNZIP)}function L(U){return U===v.Z_NO_FLUSH||U===v.Z_PARTIAL_FLUSH||U===v.Z_SYNC_FLUSH||U===v.Z_FULL_FLUSH||U===v.Z_FINISH||U===v.Z_BLOCK}function j(U,Y){var ee=this;if(this._opts=U=U||{},this._chunkSize=U.chunkSize||b.Z_DEFAULT_CHUNK,p.call(this,U),U.flush&&!L(U.flush))throw new Error("Invalid flush flag: "+U.flush);if(U.finishFlush&&!L(U.finishFlush))throw new Error("Invalid flush flag: "+U.finishFlush);if(this._flushFlag=U.flush||v.Z_NO_FLUSH,this._finishFlushFlag=typeof U.finishFlush<"u"?U.finishFlush:v.Z_FINISH,U.chunkSize&&(U.chunkSize<b.Z_MIN_CHUNK||U.chunkSize>b.Z_MAX_CHUNK))throw new Error("Invalid chunk size: "+U.chunkSize);if(U.windowBits&&(U.windowBits<b.Z_MIN_WINDOWBITS||U.windowBits>b.Z_MAX_WINDOWBITS))throw new Error("Invalid windowBits: "+U.windowBits);if(U.level&&(U.level<b.Z_MIN_LEVEL||U.level>b.Z_MAX_LEVEL))throw new Error("Invalid compression level: "+U.level);if(U.memLevel&&(U.memLevel<b.Z_MIN_MEMLEVEL||U.memLevel>b.Z_MAX_MEMLEVEL))throw new Error("Invalid memLevel: "+U.memLevel);if(U.strategy&&U.strategy!=b.Z_FILTERED&&U.strategy!=b.Z_HUFFMAN_ONLY&&U.strategy!=b.Z_RLE&&U.strategy!=b.Z_FIXED&&U.strategy!=b.Z_DEFAULT_STRATEGY)throw new Error("Invalid strategy: "+U.strategy);if(U.dictionary&&!c.isBuffer(U.dictionary))throw new Error("Invalid dictionary: it should be a Buffer instance");this._handle=new v.Zlib(Y);var le=this;this._hadError=!1,this._handle.onerror=function(q,K){V(le),le._hadError=!0;var Q=new Error(q);Q.errno=K,Q.code=b.codes[K],le.emit("error",Q)};var he=b.Z_DEFAULT_COMPRESSION;typeof U.level=="number"&&(he=U.level);var oe=b.Z_DEFAULT_STRATEGY;typeof U.strategy=="number"&&(oe=U.strategy),this._handle.init(U.windowBits||b.Z_DEFAULT_WINDOWBITS,he,U.memLevel||b.Z_DEFAULT_MEMLEVEL,oe,U.dictionary),this._buffer=c.allocUnsafe(this._chunkSize),this._offset=0,this._level=he,this._strategy=oe,this.once("end",this.close),Object.defineProperty(this,"_closed",{get:function(){return!ee._handle},configurable:!0,enumerable:!0})}o.inherits(j,p),j.prototype.params=function(U,Y,ee){if(U<b.Z_MIN_LEVEL||U>b.Z_MAX_LEVEL)throw new RangeError("Invalid compression level: "+U);if(Y!=b.Z_FILTERED&&Y!=b.Z_HUFFMAN_ONLY&&Y!=b.Z_RLE&&Y!=b.Z_FIXED&&Y!=b.Z_DEFAULT_STRATEGY)throw new TypeError("Invalid strategy: "+Y);if(this._level!==U||this._strategy!==Y){var le=this;this.flush(v.Z_SYNC_FLUSH,function(){s(le._handle,"zlib binding closed"),le._handle.params(U,Y),le._hadError||(le._level=U,le._strategy=Y,ee&&ee())})}else x.nextTick(ee)},j.prototype.reset=function(){return s(this._handle,"zlib binding closed"),this._handle.reset()},j.prototype._flush=function(U){this._transform(c.alloc(0),"",U)},j.prototype.flush=function(U,Y){var ee=this,le=this._writableState;(typeof U=="function"||U===void 0&&!Y)&&(Y=U,U=v.Z_FULL_FLUSH),le.ended?Y&&x.nextTick(Y):le.ending?Y&&this.once("end",Y):le.needDrain?Y&&this.once("drain",function(){return ee.flush(U,Y)}):(this._flushFlag=U,this.write(c.alloc(0),"",Y))},j.prototype.close=function(U){V(this,U),x.nextTick(G,this)};function V(U,Y){Y&&x.nextTick(Y),U._handle&&(U._handle.close(),U._handle=null)}function G(U){U.emit("close")}j.prototype._transform=function(U,Y,ee){var le,he=this._writableState,oe=he.ending||he.ended,q=oe&&(!U||he.length===U.length);if(U!==null&&!c.isBuffer(U))return ee(new Error("invalid input"));if(!this._handle)return ee(new Error("zlib binding closed"));q?le=this._finishFlushFlag:(le=this._flushFlag,U.length>=he.length&&(this._flushFlag=this._opts.flush||v.Z_NO_FLUSH)),this._processChunk(U,le,ee)},j.prototype._processChunk=function(U,Y,ee){var le=U&&U.length,he=this._chunkSize-this._offset,oe=0,q=this,K=typeof ee=="function";if(!K){var Q=[],te=0,ce;this.on("error",function(me){ce=me}),s(this._handle,"zlib binding closed");do var we=this._handle.writeSync(Y,U,oe,le,this._buffer,this._offset,he);while(!this._hadError&&Ie(we[0],we[1]));if(this._hadError)throw ce;if(te>=i)throw V(this),new RangeError(t);var be=c.concat(Q,te);return V(this),be}s(this._handle,"zlib binding closed");var xe=this._handle.write(Y,U,oe,le,this._buffer,this._offset,he);xe.buffer=U,xe.callback=Ie;function Ie(me,ve){if(this&&(this.buffer=null,this.callback=null),!q._hadError){var re=he-ve;if(s(re>=0,"have should not go down"),re>0){var se=q._buffer.slice(q._offset,q._offset+re);q._offset+=re,K?q.push(se):(Q.push(se),te+=se.length)}if((ve===0||q._offset>=q._chunkSize)&&(he=q._chunkSize,q._offset=0,q._buffer=c.allocUnsafe(q._chunkSize)),ve===0){if(oe+=le-me,le=me,!K)return!0;var fe=q._handle.write(Y,U,oe,le,q._buffer,q._offset,q._chunkSize);fe.callback=Ie,fe.buffer=U;return}if(!K)return!1;ee()}}},o.inherits(E,j),o.inherits(S,j),o.inherits(A,j),o.inherits(M,j),o.inherits(I,j),o.inherits(R,j),o.inherits(H,j)}).call(this,_("_process"))},{"./binding":34,_process:133,assert:25,buffer:48,stream:155,util:186}],36:[function(_,T,b){var x=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function c(o,s){return Object.prototype.hasOwnProperty.call(o,s)}b.assign=function(o){for(var s=Array.prototype.slice.call(arguments,1);s.length;){var i=s.shift();if(!!i){if(typeof i!="object")throw new TypeError(i+"must be non-object");for(var t in i)c(i,t)&&(o[t]=i[t])}}return o},b.shrinkBuf=function(o,s){return o.length===s?o:o.subarray?o.subarray(0,s):(o.length=s,o)};var p={arraySet:function(o,s,i,t,e){if(s.subarray&&o.subarray){o.set(s.subarray(i,i+t),e);return}for(var l=0;l<t;l++)o[e+l]=s[i+l]},flattenChunks:function(o){var s,i,t,e,l,h;for(t=0,s=0,i=o.length;s<i;s++)t+=o[s].length;for(h=new Uint8Array(t),e=0,s=0,i=o.length;s<i;s++)l=o[s],h.set(l,e),e+=l.length;return h}},v={arraySet:function(o,s,i,t,e){for(var l=0;l<t;l++)o[e+l]=s[i+l]},flattenChunks:function(o){return[].concat.apply([],o)}};b.setTyped=function(o){o?(b.Buf8=Uint8Array,b.Buf16=Uint16Array,b.Buf32=Int32Array,b.assign(b,p)):(b.Buf8=Array,b.Buf16=Array,b.Buf32=Array,b.assign(b,v))},b.setTyped(x)},{}],37:[function(_,T,b){function x(c,p,v,o){for(var s=c&65535|0,i=c>>>16&65535|0,t=0;v!==0;){t=v>2e3?2e3:v,v-=t;do s=s+p[o++]|0,i=i+s|0;while(--t);s%=65521,i%=65521}return s|i<<16|0}T.exports=x},{}],38:[function(_,T,b){T.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],39:[function(_,T,b){function x(){for(var v,o=[],s=0;s<256;s++){v=s;for(var i=0;i<8;i++)v=v&1?3988292384^v>>>1:v>>>1;o[s]=v}return o}var c=x();function p(v,o,s,i){var t=c,e=i+s;v^=-1;for(var l=i;l<e;l++)v=v>>>8^t[(v^o[l])&255];return v^-1}T.exports=p},{}],40:[function(_,T,b){var x=_("../utils/common"),c=_("./trees"),p=_("./adler32"),v=_("./crc32"),o=_("./messages"),s=0,i=1,t=3,e=4,l=5,h=0,n=1,f=-2,a=-3,m=-5,g=-1,y=1,E=2,S=3,A=4,M=0,I=2,R=8,H=9,L=15,j=8,V=29,G=256,U=G+1+V,Y=30,ee=19,le=2*U+1,he=15,oe=3,q=258,K=q+oe+1,Q=32,te=42,ce=69,we=73,be=91,xe=103,Ie=113,me=666,ve=1,re=2,se=3,fe=4,J=3;function z(w,Ee){return w.msg=o[Ee],Ee}function B(w){return(w<<1)-(w>4?9:0)}function F(w){for(var Ee=w.length;--Ee>=0;)w[Ee]=0}function Z(w){var Ee=w.state,Re=Ee.pending;Re>w.avail_out&&(Re=w.avail_out),Re!==0&&(x.arraySet(w.output,Ee.pending_buf,Ee.pending_out,Re,w.next_out),w.next_out+=Re,Ee.pending_out+=Re,w.total_out+=Re,w.avail_out-=Re,Ee.pending-=Re,Ee.pending===0&&(Ee.pending_out=0))}function D(w,Ee){c._tr_flush_block(w,w.block_start>=0?w.block_start:-1,w.strstart-w.block_start,Ee),w.block_start=w.strstart,Z(w.strm)}function O(w,Ee){w.pending_buf[w.pending++]=Ee}function ie(w,Ee){w.pending_buf[w.pending++]=Ee>>>8&255,w.pending_buf[w.pending++]=Ee&255}function ge(w,Ee,Re,X){var _e=w.avail_in;return _e>X&&(_e=X),_e===0?0:(w.avail_in-=_e,x.arraySet(Ee,w.input,w.next_in,_e,Re),w.state.wrap===1?w.adler=p(w.adler,Ee,_e,Re):w.state.wrap===2&&(w.adler=v(w.adler,Ee,_e,Re)),w.next_in+=_e,w.total_in+=_e,_e)}function Me(w,Ee){var Re=w.max_chain_length,X=w.strstart,_e,De,Ye=w.prev_length,Xe=w.nice_match,Ke=w.strstart>w.w_size-K?w.strstart-(w.w_size-K):0,rt=w.window,Et=w.w_mask,ct=w.prev,nt=w.strstart+q,pt=rt[X+Ye-1],dt=rt[X+Ye];w.prev_length>=w.good_match&&(Re>>=2),Xe>w.lookahead&&(Xe=w.lookahead);do if(_e=Ee,!(rt[_e+Ye]!==dt||rt[_e+Ye-1]!==pt||rt[_e]!==rt[X]||rt[++_e]!==rt[X+1])){X+=2,_e++;do;while(rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&X<nt);if(De=q-(nt-X),X=nt-q,De>Ye){if(w.match_start=Ee,Ye=De,De>=Xe)break;pt=rt[X+Ye-1],dt=rt[X+Ye]}}while((Ee=ct[Ee&Et])>Ke&&--Re!==0);return Ye<=w.lookahead?Ye:w.lookahead}function Le(w){var Ee=w.w_size,Re,X,_e,De,Ye;do{if(De=w.window_size-w.lookahead-w.strstart,w.strstart>=Ee+(Ee-K)){x.arraySet(w.window,w.window,Ee,Ee,0),w.match_start-=Ee,w.strstart-=Ee,w.block_start-=Ee,X=w.hash_size,Re=X;do _e=w.head[--Re],w.head[Re]=_e>=Ee?_e-Ee:0;while(--X);X=Ee,Re=X;do _e=w.prev[--Re],w.prev[Re]=_e>=Ee?_e-Ee:0;while(--X);De+=Ee}if(w.strm.avail_in===0)break;if(X=ge(w.strm,w.window,w.strstart+w.lookahead,De),w.lookahead+=X,w.lookahead+w.insert>=oe)for(Ye=w.strstart-w.insert,w.ins_h=w.window[Ye],w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ye+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ye+oe-1])&w.hash_mask,w.prev[Ye&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=Ye,Ye++,w.insert--,!(w.lookahead+w.insert<oe)););}while(w.lookahead<K&&w.strm.avail_in!==0)}function ze(w,Ee){var Re=65535;for(Re>w.pending_buf_size-5&&(Re=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Le(w),w.lookahead===0&&Ee===s)return ve;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var X=w.block_start+Re;if((w.strstart===0||w.strstart>=X)&&(w.lookahead=w.strstart-X,w.strstart=X,D(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-K&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=0,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):(w.strstart>w.block_start&&(D(w,!1),w.strm.avail_out===0),ve)}function qe(w,Ee){for(var Re,X;;){if(w.lookahead<K){if(Le(w),w.lookahead<K&&Ee===s)return ve;if(w.lookahead===0)break}if(Re=0,w.lookahead>=oe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),Re!==0&&w.strstart-Re<=w.w_size-K&&(w.match_length=Me(w,Re)),w.match_length>=oe)if(X=c._tr_tally(w,w.strstart-w.match_start,w.match_length-oe),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=oe){w.match_length--;do w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart;while(--w.match_length!==0);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else X=c._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(X&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=w.strstart<oe-1?w.strstart:oe-1,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function Ge(w,Ee){for(var Re,X,_e;;){if(w.lookahead<K){if(Le(w),w.lookahead<K&&Ee===s)return ve;if(w.lookahead===0)break}if(Re=0,w.lookahead>=oe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=oe-1,Re!==0&&w.prev_length<w.max_lazy_match&&w.strstart-Re<=w.w_size-K&&(w.match_length=Me(w,Re),w.match_length<=5&&(w.strategy===y||w.match_length===oe&&w.strstart-w.match_start>4096)&&(w.match_length=oe-1)),w.prev_length>=oe&&w.match_length<=w.prev_length){_e=w.strstart+w.lookahead-oe,X=c._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-oe),w.lookahead-=w.prev_length-1,w.prev_length-=2;do++w.strstart<=_e&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart);while(--w.prev_length!==0);if(w.match_available=0,w.match_length=oe-1,w.strstart++,X&&(D(w,!1),w.strm.avail_out===0))return ve}else if(w.match_available){if(X=c._tr_tally(w,0,w.window[w.strstart-1]),X&&D(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return ve}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(X=c._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<oe-1?w.strstart:oe-1,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function je(w,Ee){for(var Re,X,_e,De,Ye=w.window;;){if(w.lookahead<=q){if(Le(w),w.lookahead<=q&&Ee===s)return ve;if(w.lookahead===0)break}if(w.match_length=0,w.lookahead>=oe&&w.strstart>0&&(_e=w.strstart-1,X=Ye[_e],X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e])){De=w.strstart+q;do;while(X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&_e<De);w.match_length=q-(De-_e),w.match_length>w.lookahead&&(w.match_length=w.lookahead)}if(w.match_length>=oe?(Re=c._tr_tally(w,1,w.match_length-oe),w.lookahead-=w.match_length,w.strstart+=w.match_length,w.match_length=0):(Re=c._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++),Re&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=0,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function We(w,Ee){for(var Re;;){if(w.lookahead===0&&(Le(w),w.lookahead===0)){if(Ee===s)return ve;break}if(w.match_length=0,Re=c._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++,Re&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=0,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function He(w,Ee,Re,X,_e){this.good_length=w,this.max_lazy=Ee,this.nice_length=Re,this.max_chain=X,this.func=_e}var tt;tt=[new He(0,0,0,0,ze),new He(4,4,8,4,qe),new He(4,5,16,8,qe),new He(4,6,32,32,qe),new He(4,4,16,16,Ge),new He(8,16,32,32,Ge),new He(8,16,128,128,Ge),new He(8,32,128,256,Ge),new He(32,128,258,1024,Ge),new He(32,258,258,4096,Ge)];function Ve(w){w.window_size=2*w.w_size,F(w.head),w.max_lazy_match=tt[w.level].max_lazy,w.good_match=tt[w.level].good_length,w.nice_match=tt[w.level].nice_length,w.max_chain_length=tt[w.level].max_chain,w.strstart=0,w.block_start=0,w.lookahead=0,w.insert=0,w.match_length=w.prev_length=oe-1,w.match_available=0,w.ins_h=0}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(le*2),this.dyn_dtree=new x.Buf16((2*Y+1)*2),this.bl_tree=new x.Buf16((2*ee+1)*2),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(he+1),this.heap=new x.Buf16(2*U+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*U+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(w){var Ee;return!w||!w.state?z(w,f):(w.total_in=w.total_out=0,w.data_type=I,Ee=w.state,Ee.pending=0,Ee.pending_out=0,Ee.wrap<0&&(Ee.wrap=-Ee.wrap),Ee.status=Ee.wrap?te:Ie,w.adler=Ee.wrap===2?0:1,Ee.last_flush=s,c._tr_init(Ee),h)}function Ae(w){var Ee=Se(w);return Ee===h&&Ve(w.state),Ee}function ke(w,Ee){return!w||!w.state||w.state.wrap!==2?f:(w.state.gzhead=Ee,h)}function Pe(w,Ee,Re,X,_e,De){if(!w)return f;var Ye=1;if(Ee===g&&(Ee=6),X<0?(Ye=0,X=-X):X>15&&(Ye=2,X-=16),_e<1||_e>H||Re!==R||X<8||X>15||Ee<0||Ee>9||De<0||De>A)return z(w,f);X===8&&(X=9);var Xe=new W;return w.state=Xe,Xe.strm=w,Xe.wrap=Ye,Xe.gzhead=null,Xe.w_bits=X,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=_e+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+oe-1)/oe),Xe.window=new x.Buf8(Xe.w_size*2),Xe.head=new x.Buf16(Xe.hash_size),Xe.prev=new x.Buf16(Xe.w_size),Xe.lit_bufsize=1<<_e+6,Xe.pending_buf_size=Xe.lit_bufsize*4,Xe.pending_buf=new x.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=(1+2)*Xe.lit_bufsize,Xe.level=Ee,Xe.strategy=De,Xe.method=Re,Ae(w)}function Oe(w,Ee){return Pe(w,Ee,R,L,j,M)}function ne(w,Ee){var Re,X,_e,De;if(!w||!w.state||Ee>l||Ee<0)return w?z(w,f):f;if(X=w.state,!w.output||!w.input&&w.avail_in!==0||X.status===me&&Ee!==e)return z(w,w.avail_out===0?m:f);if(X.strm=w,Re=X.last_flush,X.last_flush=Ee,X.status===te)if(X.wrap===2)w.adler=0,O(X,31),O(X,139),O(X,8),X.gzhead?(O(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),O(X,X.gzhead.time&255),O(X,X.gzhead.time>>8&255),O(X,X.gzhead.time>>16&255),O(X,X.gzhead.time>>24&255),O(X,X.level===9?2:X.strategy>=E||X.level<2?4:0),O(X,X.gzhead.os&255),X.gzhead.extra&&X.gzhead.extra.length&&(O(X,X.gzhead.extra.length&255),O(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(w.adler=v(w.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=ce):(O(X,0),O(X,0),O(X,0),O(X,0),O(X,0),O(X,X.level===9?2:X.strategy>=E||X.level<2?4:0),O(X,J),X.status=Ie);else{var Ye=R+(X.w_bits-8<<4)<<8,Xe=-1;X.strategy>=E||X.level<2?Xe=0:X.level<6?Xe=1:X.level===6?Xe=2:Xe=3,Ye|=Xe<<6,X.strstart!==0&&(Ye|=Q),Ye+=31-Ye%31,X.status=Ie,ie(X,Ye),X.strstart!==0&&(ie(X,w.adler>>>16),ie(X,w.adler&65535)),w.adler=1}if(X.status===ce)if(X.gzhead.extra){for(_e=X.pending;X.gzindex<(X.gzhead.extra.length&65535)&&!(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),Z(w),_e=X.pending,X.pending===X.pending_buf_size));)O(X,X.gzhead.extra[X.gzindex]&255),X.gzindex++;X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=we)}else X.status=we;if(X.status===we)if(X.gzhead.name){_e=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),Z(w),_e=X.pending,X.pending===X.pending_buf_size)){De=1;break}X.gzindex<X.gzhead.name.length?De=X.gzhead.name.charCodeAt(X.gzindex++)&255:De=0,O(X,De)}while(De!==0);X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),De===0&&(X.gzindex=0,X.status=be)}else X.status=be;if(X.status===be)if(X.gzhead.comment){_e=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),Z(w),_e=X.pending,X.pending===X.pending_buf_size)){De=1;break}X.gzindex<X.gzhead.comment.length?De=X.gzhead.comment.charCodeAt(X.gzindex++)&255:De=0,O(X,De)}while(De!==0);X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),De===0&&(X.status=xe)}else X.status=xe;if(X.status===xe&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&Z(w),X.pending+2<=X.pending_buf_size&&(O(X,w.adler&255),O(X,w.adler>>8&255),w.adler=0,X.status=Ie)):X.status=Ie),X.pending!==0){if(Z(w),w.avail_out===0)return X.last_flush=-1,h}else if(w.avail_in===0&&B(Ee)<=B(Re)&&Ee!==e)return z(w,m);if(X.status===me&&w.avail_in!==0)return z(w,m);if(w.avail_in!==0||X.lookahead!==0||Ee!==s&&X.status!==me){var Ke=X.strategy===E?We(X,Ee):X.strategy===S?je(X,Ee):tt[X.level].func(X,Ee);if((Ke===se||Ke===fe)&&(X.status=me),Ke===ve||Ke===se)return w.avail_out===0&&(X.last_flush=-1),h;if(Ke===re&&(Ee===i?c._tr_align(X):Ee!==l&&(c._tr_stored_block(X,0,0,!1),Ee===t&&(F(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),Z(w),w.avail_out===0))return X.last_flush=-1,h}return Ee!==e?h:X.wrap<=0?n:(X.wrap===2?(O(X,w.adler&255),O(X,w.adler>>8&255),O(X,w.adler>>16&255),O(X,w.adler>>24&255),O(X,w.total_in&255),O(X,w.total_in>>8&255),O(X,w.total_in>>16&255),O(X,w.total_in>>24&255)):(ie(X,w.adler>>>16),ie(X,w.adler&65535)),Z(w),X.wrap>0&&(X.wrap=-X.wrap),X.pending!==0?h:n)}function Ue(w){var Ee;return!w||!w.state?f:(Ee=w.state.status,Ee!==te&&Ee!==ce&&Ee!==we&&Ee!==be&&Ee!==xe&&Ee!==Ie&&Ee!==me?z(w,f):(w.state=null,Ee===Ie?z(w,a):h))}function et(w,Ee){var Re=Ee.length,X,_e,De,Ye,Xe,Ke,rt,Et;if(!w||!w.state||(X=w.state,Ye=X.wrap,Ye===2||Ye===1&&X.status!==te||X.lookahead))return f;for(Ye===1&&(w.adler=p(w.adler,Ee,Re,0)),X.wrap=0,Re>=X.w_size&&(Ye===0&&(F(X.head),X.strstart=0,X.block_start=0,X.insert=0),Et=new x.Buf8(X.w_size),x.arraySet(Et,Ee,Re-X.w_size,X.w_size,0),Ee=Et,Re=X.w_size),Xe=w.avail_in,Ke=w.next_in,rt=w.input,w.avail_in=Re,w.next_in=0,w.input=Ee,Le(X);X.lookahead>=oe;){_e=X.strstart,De=X.lookahead-(oe-1);do X.ins_h=(X.ins_h<<X.hash_shift^X.window[_e+oe-1])&X.hash_mask,X.prev[_e&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=_e,_e++;while(--De);X.strstart=_e,X.lookahead=oe-1,Le(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=oe-1,X.match_available=0,w.next_in=Ke,w.input=rt,w.avail_in=Xe,X.wrap=Ye,h}b.deflateInit=Oe,b.deflateInit2=Pe,b.deflateReset=Ae,b.deflateResetKeep=Se,b.deflateSetHeader=ke,b.deflate=ne,b.deflateEnd=Ue,b.deflateSetDictionary=et,b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./messages":44,"./trees":45}],41:[function(_,T,b){var x=30,c=12;T.exports=function(v,o){var s,i,t,e,l,h,n,f,a,m,g,y,E,S,A,M,I,R,H,L,j,V,G,U,Y;s=v.state,i=v.next_in,U=v.input,t=i+(v.avail_in-5),e=v.next_out,Y=v.output,l=e-(o-v.avail_out),h=e+(v.avail_out-257),n=s.dmax,f=s.wsize,a=s.whave,m=s.wnext,g=s.window,y=s.hold,E=s.bits,S=s.lencode,A=s.distcode,M=(1<<s.lenbits)-1,I=(1<<s.distbits)-1;e:do{E<15&&(y+=U[i++]<<E,E+=8,y+=U[i++]<<E,E+=8),R=S[y&M];t:for(;;){if(H=R>>>24,y>>>=H,E-=H,H=R>>>16&255,H===0)Y[e++]=R&65535;else if(H&16){L=R&65535,H&=15,H&&(E<H&&(y+=U[i++]<<E,E+=8),L+=y&(1<<H)-1,y>>>=H,E-=H),E<15&&(y+=U[i++]<<E,E+=8,y+=U[i++]<<E,E+=8),R=A[y&I];r:for(;;){if(H=R>>>24,y>>>=H,E-=H,H=R>>>16&255,H&16){if(j=R&65535,H&=15,E<H&&(y+=U[i++]<<E,E+=8,E<H&&(y+=U[i++]<<E,E+=8)),j+=y&(1<<H)-1,j>n){v.msg="invalid distance too far back",s.mode=x;break e}if(y>>>=H,E-=H,H=e-l,j>H){if(H=j-H,H>a&&s.sane){v.msg="invalid distance too far back",s.mode=x;break e}if(V=0,G=g,m===0){if(V+=f-H,H<L){L-=H;do Y[e++]=g[V++];while(--H);V=e-j,G=Y}}else if(m<H){if(V+=f+m-H,H-=m,H<L){L-=H;do Y[e++]=g[V++];while(--H);if(V=0,m<L){H=m,L-=H;do Y[e++]=g[V++];while(--H);V=e-j,G=Y}}}else if(V+=m-H,H<L){L-=H;do Y[e++]=g[V++];while(--H);V=e-j,G=Y}for(;L>2;)Y[e++]=G[V++],Y[e++]=G[V++],Y[e++]=G[V++],L-=3;L&&(Y[e++]=G[V++],L>1&&(Y[e++]=G[V++]))}else{V=e-j;do Y[e++]=Y[V++],Y[e++]=Y[V++],Y[e++]=Y[V++],L-=3;while(L>2);L&&(Y[e++]=Y[V++],L>1&&(Y[e++]=Y[V++]))}}else if((H&64)===0){R=A[(R&65535)+(y&(1<<H)-1)];continue r}else{v.msg="invalid distance code",s.mode=x;break e}break}}else if((H&64)===0){R=S[(R&65535)+(y&(1<<H)-1)];continue t}else if(H&32){s.mode=c;break e}else{v.msg="invalid literal/length code",s.mode=x;break e}break}}while(i<t&&e<h);L=E>>3,i-=L,E-=L<<3,y&=(1<<E)-1,v.next_in=i,v.next_out=e,v.avail_in=i<t?5+(t-i):5-(i-t),v.avail_out=e<h?257+(h-e):257-(e-h),s.hold=y,s.bits=E}},{}],42:[function(_,T,b){var x=_("../utils/common"),c=_("./adler32"),p=_("./crc32"),v=_("./inffast"),o=_("./inftrees"),s=0,i=1,t=2,e=4,l=5,h=6,n=0,f=1,a=2,m=-2,g=-3,y=-4,E=-5,S=8,A=1,M=2,I=3,R=4,H=5,L=6,j=7,V=8,G=9,U=10,Y=11,ee=12,le=13,he=14,oe=15,q=16,K=17,Q=18,te=19,ce=20,we=21,be=22,xe=23,Ie=24,me=25,ve=26,re=27,se=28,fe=29,J=30,z=31,B=32,F=852,Z=592,D=15,O=D;function ie(Pe){return(Pe>>>24&255)+(Pe>>>8&65280)+((Pe&65280)<<8)+((Pe&255)<<24)}function ge(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new x.Buf16(320),this.work=new x.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function Me(Pe){var Oe;return!Pe||!Pe.state?m:(Oe=Pe.state,Pe.total_in=Pe.total_out=Oe.total=0,Pe.msg="",Oe.wrap&&(Pe.adler=Oe.wrap&1),Oe.mode=A,Oe.last=0,Oe.havedict=0,Oe.dmax=32768,Oe.head=null,Oe.hold=0,Oe.bits=0,Oe.lencode=Oe.lendyn=new x.Buf32(F),Oe.distcode=Oe.distdyn=new x.Buf32(Z),Oe.sane=1,Oe.back=-1,n)}function Le(Pe){var Oe;return!Pe||!Pe.state?m:(Oe=Pe.state,Oe.wsize=0,Oe.whave=0,Oe.wnext=0,Me(Pe))}function ze(Pe,Oe){var ne,Ue;return!Pe||!Pe.state||(Ue=Pe.state,Oe<0?(ne=0,Oe=-Oe):(ne=(Oe>>4)+1,Oe<48&&(Oe&=15)),Oe&&(Oe<8||Oe>15))?m:(Ue.window!==null&&Ue.wbits!==Oe&&(Ue.window=null),Ue.wrap=ne,Ue.wbits=Oe,Le(Pe))}function qe(Pe,Oe){var ne,Ue;return Pe?(Ue=new ge,Pe.state=Ue,Ue.window=null,ne=ze(Pe,Oe),ne!==n&&(Pe.state=null),ne):m}function Ge(Pe){return qe(Pe,O)}var je=!0,We,He;function tt(Pe){if(je){var Oe;for(We=new x.Buf32(512),He=new x.Buf32(32),Oe=0;Oe<144;)Pe.lens[Oe++]=8;for(;Oe<256;)Pe.lens[Oe++]=9;for(;Oe<280;)Pe.lens[Oe++]=7;for(;Oe<288;)Pe.lens[Oe++]=8;for(o(i,Pe.lens,0,288,We,0,Pe.work,{bits:9}),Oe=0;Oe<32;)Pe.lens[Oe++]=5;o(t,Pe.lens,0,32,He,0,Pe.work,{bits:5}),je=!1}Pe.lencode=We,Pe.lenbits=9,Pe.distcode=He,Pe.distbits=5}function Ve(Pe,Oe,ne,Ue){var et,w=Pe.state;return w.window===null&&(w.wsize=1<<w.wbits,w.wnext=0,w.whave=0,w.window=new x.Buf8(w.wsize)),Ue>=w.wsize?(x.arraySet(w.window,Oe,ne-w.wsize,w.wsize,0),w.wnext=0,w.whave=w.wsize):(et=w.wsize-w.wnext,et>Ue&&(et=Ue),x.arraySet(w.window,Oe,ne-Ue,et,w.wnext),Ue-=et,Ue?(x.arraySet(w.window,Oe,ne-Ue,Ue,0),w.wnext=Ue,w.whave=w.wsize):(w.wnext+=et,w.wnext===w.wsize&&(w.wnext=0),w.whave<w.wsize&&(w.whave+=et))),0}function W(Pe,Oe){var ne,Ue,et,w,Ee,Re,X,_e,De,Ye,Xe,Ke,rt,Et,ct=0,nt,pt,dt,Pt,ht,Bt,mt,St,gt=new x.Buf8(4),Tt,bt,lt=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Pe||!Pe.state||!Pe.output||!Pe.input&&Pe.avail_in!==0)return m;ne=Pe.state,ne.mode===ee&&(ne.mode=le),Ee=Pe.next_out,et=Pe.output,X=Pe.avail_out,w=Pe.next_in,Ue=Pe.input,Re=Pe.avail_in,_e=ne.hold,De=ne.bits,Ye=Re,Xe=X,St=n;e:for(;;)switch(ne.mode){case A:if(ne.wrap===0){ne.mode=le;break}for(;De<16;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(ne.wrap&2&&_e===35615){ne.check=0,gt[0]=_e&255,gt[1]=_e>>>8&255,ne.check=p(ne.check,gt,2,0),_e=0,De=0,ne.mode=M;break}if(ne.flags=0,ne.head&&(ne.head.done=!1),!(ne.wrap&1)||(((_e&255)<<8)+(_e>>8))%31){Pe.msg="incorrect header check",ne.mode=J;break}if((_e&15)!==S){Pe.msg="unknown compression method",ne.mode=J;break}if(_e>>>=4,De-=4,mt=(_e&15)+8,ne.wbits===0)ne.wbits=mt;else if(mt>ne.wbits){Pe.msg="invalid window size",ne.mode=J;break}ne.dmax=1<<mt,Pe.adler=ne.check=1,ne.mode=_e&512?U:ee,_e=0,De=0;break;case M:for(;De<16;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(ne.flags=_e,(ne.flags&255)!==S){Pe.msg="unknown compression method",ne.mode=J;break}if(ne.flags&57344){Pe.msg="unknown header flags set",ne.mode=J;break}ne.head&&(ne.head.text=_e>>8&1),ne.flags&512&&(gt[0]=_e&255,gt[1]=_e>>>8&255,ne.check=p(ne.check,gt,2,0)),_e=0,De=0,ne.mode=I;case I:for(;De<32;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}ne.head&&(ne.head.time=_e),ne.flags&512&&(gt[0]=_e&255,gt[1]=_e>>>8&255,gt[2]=_e>>>16&255,gt[3]=_e>>>24&255,ne.check=p(ne.check,gt,4,0)),_e=0,De=0,ne.mode=R;case R:for(;De<16;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}ne.head&&(ne.head.xflags=_e&255,ne.head.os=_e>>8),ne.flags&512&&(gt[0]=_e&255,gt[1]=_e>>>8&255,ne.check=p(ne.check,gt,2,0)),_e=0,De=0,ne.mode=H;case H:if(ne.flags&1024){for(;De<16;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}ne.length=_e,ne.head&&(ne.head.extra_len=_e),ne.flags&512&&(gt[0]=_e&255,gt[1]=_e>>>8&255,ne.check=p(ne.check,gt,2,0)),_e=0,De=0}else ne.head&&(ne.head.extra=null);ne.mode=L;case L:if(ne.flags&1024&&(Ke=ne.length,Ke>Re&&(Ke=Re),Ke&&(ne.head&&(mt=ne.head.extra_len-ne.length,ne.head.extra||(ne.head.extra=new Array(ne.head.extra_len)),x.arraySet(ne.head.extra,Ue,w,Ke,mt)),ne.flags&512&&(ne.check=p(ne.check,Ue,Ke,w)),Re-=Ke,w+=Ke,ne.length-=Ke),ne.length))break e;ne.length=0,ne.mode=j;case j:if(ne.flags&2048){if(Re===0)break e;Ke=0;do mt=Ue[w+Ke++],ne.head&&mt&&ne.length<65536&&(ne.head.name+=String.fromCharCode(mt));while(mt&&Ke<Re);if(ne.flags&512&&(ne.check=p(ne.check,Ue,Ke,w)),Re-=Ke,w+=Ke,mt)break e}else ne.head&&(ne.head.name=null);ne.length=0,ne.mode=V;case V:if(ne.flags&4096){if(Re===0)break e;Ke=0;do mt=Ue[w+Ke++],ne.head&&mt&&ne.length<65536&&(ne.head.comment+=String.fromCharCode(mt));while(mt&&Ke<Re);if(ne.flags&512&&(ne.check=p(ne.check,Ue,Ke,w)),Re-=Ke,w+=Ke,mt)break e}else ne.head&&(ne.head.comment=null);ne.mode=G;case G:if(ne.flags&512){for(;De<16;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(_e!==(ne.check&65535)){Pe.msg="header crc mismatch",ne.mode=J;break}_e=0,De=0}ne.head&&(ne.head.hcrc=ne.flags>>9&1,ne.head.done=!0),Pe.adler=ne.check=0,ne.mode=ee;break;case U:for(;De<32;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}Pe.adler=ne.check=ie(_e),_e=0,De=0,ne.mode=Y;case Y:if(ne.havedict===0)return Pe.next_out=Ee,Pe.avail_out=X,Pe.next_in=w,Pe.avail_in=Re,ne.hold=_e,ne.bits=De,a;Pe.adler=ne.check=1,ne.mode=ee;case ee:if(Oe===l||Oe===h)break e;case le:if(ne.last){_e>>>=De&7,De-=De&7,ne.mode=re;break}for(;De<3;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}switch(ne.last=_e&1,_e>>>=1,De-=1,_e&3){case 0:ne.mode=he;break;case 1:if(tt(ne),ne.mode=ce,Oe===h){_e>>>=2,De-=2;break e}break;case 2:ne.mode=K;break;case 3:Pe.msg="invalid block type",ne.mode=J}_e>>>=2,De-=2;break;case he:for(_e>>>=De&7,De-=De&7;De<32;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if((_e&65535)!==(_e>>>16^65535)){Pe.msg="invalid stored block lengths",ne.mode=J;break}if(ne.length=_e&65535,_e=0,De=0,ne.mode=oe,Oe===h)break e;case oe:ne.mode=q;case q:if(Ke=ne.length,Ke){if(Ke>Re&&(Ke=Re),Ke>X&&(Ke=X),Ke===0)break e;x.arraySet(et,Ue,w,Ke,Ee),Re-=Ke,w+=Ke,X-=Ke,Ee+=Ke,ne.length-=Ke;break}ne.mode=ee;break;case K:for(;De<14;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(ne.nlen=(_e&31)+257,_e>>>=5,De-=5,ne.ndist=(_e&31)+1,_e>>>=5,De-=5,ne.ncode=(_e&15)+4,_e>>>=4,De-=4,ne.nlen>286||ne.ndist>30){Pe.msg="too many length or distance symbols",ne.mode=J;break}ne.have=0,ne.mode=Q;case Q:for(;ne.have<ne.ncode;){for(;De<3;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}ne.lens[lt[ne.have++]]=_e&7,_e>>>=3,De-=3}for(;ne.have<19;)ne.lens[lt[ne.have++]]=0;if(ne.lencode=ne.lendyn,ne.lenbits=7,Tt={bits:ne.lenbits},St=o(s,ne.lens,0,19,ne.lencode,0,ne.work,Tt),ne.lenbits=Tt.bits,St){Pe.msg="invalid code lengths set",ne.mode=J;break}ne.have=0,ne.mode=te;case te:for(;ne.have<ne.nlen+ne.ndist;){for(;ct=ne.lencode[_e&(1<<ne.lenbits)-1],nt=ct>>>24,pt=ct>>>16&255,dt=ct&65535,!(nt<=De);){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(dt<16)_e>>>=nt,De-=nt,ne.lens[ne.have++]=dt;else{if(dt===16){for(bt=nt+2;De<bt;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(_e>>>=nt,De-=nt,ne.have===0){Pe.msg="invalid bit length repeat",ne.mode=J;break}mt=ne.lens[ne.have-1],Ke=3+(_e&3),_e>>>=2,De-=2}else if(dt===17){for(bt=nt+3;De<bt;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}_e>>>=nt,De-=nt,mt=0,Ke=3+(_e&7),_e>>>=3,De-=3}else{for(bt=nt+7;De<bt;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}_e>>>=nt,De-=nt,mt=0,Ke=11+(_e&127),_e>>>=7,De-=7}if(ne.have+Ke>ne.nlen+ne.ndist){Pe.msg="invalid bit length repeat",ne.mode=J;break}for(;Ke--;)ne.lens[ne.have++]=mt}}if(ne.mode===J)break;if(ne.lens[256]===0){Pe.msg="invalid code -- missing end-of-block",ne.mode=J;break}if(ne.lenbits=9,Tt={bits:ne.lenbits},St=o(i,ne.lens,0,ne.nlen,ne.lencode,0,ne.work,Tt),ne.lenbits=Tt.bits,St){Pe.msg="invalid literal/lengths set",ne.mode=J;break}if(ne.distbits=6,ne.distcode=ne.distdyn,Tt={bits:ne.distbits},St=o(t,ne.lens,ne.nlen,ne.ndist,ne.distcode,0,ne.work,Tt),ne.distbits=Tt.bits,St){Pe.msg="invalid distances set",ne.mode=J;break}if(ne.mode=ce,Oe===h)break e;case ce:ne.mode=we;case we:if(Re>=6&&X>=258){Pe.next_out=Ee,Pe.avail_out=X,Pe.next_in=w,Pe.avail_in=Re,ne.hold=_e,ne.bits=De,v(Pe,Xe),Ee=Pe.next_out,et=Pe.output,X=Pe.avail_out,w=Pe.next_in,Ue=Pe.input,Re=Pe.avail_in,_e=ne.hold,De=ne.bits,ne.mode===ee&&(ne.back=-1);break}for(ne.back=0;ct=ne.lencode[_e&(1<<ne.lenbits)-1],nt=ct>>>24,pt=ct>>>16&255,dt=ct&65535,!(nt<=De);){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(pt&&(pt&240)===0){for(Pt=nt,ht=pt,Bt=dt;ct=ne.lencode[Bt+((_e&(1<<Pt+ht)-1)>>Pt)],nt=ct>>>24,pt=ct>>>16&255,dt=ct&65535,!(Pt+nt<=De);){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}_e>>>=Pt,De-=Pt,ne.back+=Pt}if(_e>>>=nt,De-=nt,ne.back+=nt,ne.length=dt,pt===0){ne.mode=ve;break}if(pt&32){ne.back=-1,ne.mode=ee;break}if(pt&64){Pe.msg="invalid literal/length code",ne.mode=J;break}ne.extra=pt&15,ne.mode=be;case be:if(ne.extra){for(bt=ne.extra;De<bt;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}ne.length+=_e&(1<<ne.extra)-1,_e>>>=ne.extra,De-=ne.extra,ne.back+=ne.extra}ne.was=ne.length,ne.mode=xe;case xe:for(;ct=ne.distcode[_e&(1<<ne.distbits)-1],nt=ct>>>24,pt=ct>>>16&255,dt=ct&65535,!(nt<=De);){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if((pt&240)===0){for(Pt=nt,ht=pt,Bt=dt;ct=ne.distcode[Bt+((_e&(1<<Pt+ht)-1)>>Pt)],nt=ct>>>24,pt=ct>>>16&255,dt=ct&65535,!(Pt+nt<=De);){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}_e>>>=Pt,De-=Pt,ne.back+=Pt}if(_e>>>=nt,De-=nt,ne.back+=nt,pt&64){Pe.msg="invalid distance code",ne.mode=J;break}ne.offset=dt,ne.extra=pt&15,ne.mode=Ie;case Ie:if(ne.extra){for(bt=ne.extra;De<bt;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}ne.offset+=_e&(1<<ne.extra)-1,_e>>>=ne.extra,De-=ne.extra,ne.back+=ne.extra}if(ne.offset>ne.dmax){Pe.msg="invalid distance too far back",ne.mode=J;break}ne.mode=me;case me:if(X===0)break e;if(Ke=Xe-X,ne.offset>Ke){if(Ke=ne.offset-Ke,Ke>ne.whave&&ne.sane){Pe.msg="invalid distance too far back",ne.mode=J;break}Ke>ne.wnext?(Ke-=ne.wnext,rt=ne.wsize-Ke):rt=ne.wnext-Ke,Ke>ne.length&&(Ke=ne.length),Et=ne.window}else Et=et,rt=Ee-ne.offset,Ke=ne.length;Ke>X&&(Ke=X),X-=Ke,ne.length-=Ke;do et[Ee++]=Et[rt++];while(--Ke);ne.length===0&&(ne.mode=we);break;case ve:if(X===0)break e;et[Ee++]=ne.length,X--,ne.mode=we;break;case re:if(ne.wrap){for(;De<32;){if(Re===0)break e;Re--,_e|=Ue[w++]<<De,De+=8}if(Xe-=X,Pe.total_out+=Xe,ne.total+=Xe,Xe&&(Pe.adler=ne.check=ne.flags?p(ne.check,et,Xe,Ee-Xe):c(ne.check,et,Xe,Ee-Xe)),Xe=X,(ne.flags?_e:ie(_e))!==ne.check){Pe.msg="incorrect data check",ne.mode=J;break}_e=0,De=0}ne.mode=se;case se:if(ne.wrap&&ne.flags){for(;De<32;){if(Re===0)break e;Re--,_e+=Ue[w++]<<De,De+=8}if(_e!==(ne.total&4294967295)){Pe.msg="incorrect length check",ne.mode=J;break}_e=0,De=0}ne.mode=fe;case fe:St=f;break e;case J:St=g;break e;case z:return y;case B:default:return m}return Pe.next_out=Ee,Pe.avail_out=X,Pe.next_in=w,Pe.avail_in=Re,ne.hold=_e,ne.bits=De,(ne.wsize||Xe!==Pe.avail_out&&ne.mode<J&&(ne.mode<re||Oe!==e))&&Ve(Pe,Pe.output,Pe.next_out,Xe-Pe.avail_out),Ye-=Pe.avail_in,Xe-=Pe.avail_out,Pe.total_in+=Ye,Pe.total_out+=Xe,ne.total+=Xe,ne.wrap&&Xe&&(Pe.adler=ne.check=ne.flags?p(ne.check,et,Xe,Pe.next_out-Xe):c(ne.check,et,Xe,Pe.next_out-Xe)),Pe.data_type=ne.bits+(ne.last?64:0)+(ne.mode===ee?128:0)+(ne.mode===ce||ne.mode===oe?256:0),(Ye===0&&Xe===0||Oe===e)&&St===n&&(St=E),St}function Se(Pe){if(!Pe||!Pe.state)return m;var Oe=Pe.state;return Oe.window&&(Oe.window=null),Pe.state=null,n}function Ae(Pe,Oe){var ne;return!Pe||!Pe.state||(ne=Pe.state,(ne.wrap&2)===0)?m:(ne.head=Oe,Oe.done=!1,n)}function ke(Pe,Oe){var ne=Oe.length,Ue,et,w;return!Pe||!Pe.state||(Ue=Pe.state,Ue.wrap!==0&&Ue.mode!==Y)?m:Ue.mode===Y&&(et=1,et=c(et,Oe,ne,0),et!==Ue.check)?g:(w=Ve(Pe,Oe,ne,ne),w?(Ue.mode=z,y):(Ue.havedict=1,n))}b.inflateReset=Le,b.inflateReset2=ze,b.inflateResetKeep=Me,b.inflateInit=Ge,b.inflateInit2=qe,b.inflate=W,b.inflateEnd=Se,b.inflateGetHeader=Ae,b.inflateSetDictionary=ke,b.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":36,"./adler32":37,"./crc32":39,"./inffast":41,"./inftrees":43}],43:[function(_,T,b){var x=_("../utils/common"),c=15,p=852,v=592,o=0,s=1,i=2,t=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],e=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],l=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];T.exports=function(f,a,m,g,y,E,S,A){var M=A.bits,I=0,R=0,H=0,L=0,j=0,V=0,G=0,U=0,Y=0,ee=0,le,he,oe,q,K,Q=null,te=0,ce,we=new x.Buf16(c+1),be=new x.Buf16(c+1),xe=null,Ie=0,me,ve,re;for(I=0;I<=c;I++)we[I]=0;for(R=0;R<g;R++)we[a[m+R]]++;for(j=M,L=c;L>=1&&we[L]===0;L--);if(j>L&&(j=L),L===0)return y[E++]=1<<24|64<<16|0,y[E++]=1<<24|64<<16|0,A.bits=1,0;for(H=1;H<L&&we[H]===0;H++);for(j<H&&(j=H),U=1,I=1;I<=c;I++)if(U<<=1,U-=we[I],U<0)return-1;if(U>0&&(f===o||L!==1))return-1;for(be[1]=0,I=1;I<c;I++)be[I+1]=be[I]+we[I];for(R=0;R<g;R++)a[m+R]!==0&&(S[be[a[m+R]]++]=R);if(f===o?(Q=xe=S,ce=19):f===s?(Q=t,te-=257,xe=e,Ie-=257,ce=256):(Q=l,xe=h,ce=-1),ee=0,R=0,I=H,K=E,V=j,G=0,oe=-1,Y=1<<j,q=Y-1,f===s&&Y>p||f===i&&Y>v)return 1;for(;;){me=I-G,S[R]<ce?(ve=0,re=S[R]):S[R]>ce?(ve=xe[Ie+S[R]],re=Q[te+S[R]]):(ve=32+64,re=0),le=1<<I-G,he=1<<V,H=he;do he-=le,y[K+(ee>>G)+he]=me<<24|ve<<16|re|0;while(he!==0);for(le=1<<I-1;ee&le;)le>>=1;if(le!==0?(ee&=le-1,ee+=le):ee=0,R++,--we[I]===0){if(I===L)break;I=a[m+S[R]]}if(I>j&&(ee&q)!==oe){for(G===0&&(G=j),K+=H,V=I-G,U=1<<V;V+G<L&&(U-=we[V+G],!(U<=0));)V++,U<<=1;if(Y+=1<<V,f===s&&Y>p||f===i&&Y>v)return 1;oe=ee&q,y[oe]=j<<24|V<<16|K-E|0}}return ee!==0&&(y[K+ee]=I-G<<24|64<<16|0),A.bits=j,0}},{"../utils/common":36}],44:[function(_,T,b){T.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],45:[function(_,T,b){var x=_("../utils/common"),c=4,p=0,v=1,o=2;function s(W){for(var Se=W.length;--Se>=0;)W[Se]=0}var i=0,t=1,e=2,l=3,h=258,n=29,f=256,a=f+1+n,m=30,g=19,y=2*a+1,E=15,S=16,A=7,M=256,I=16,R=17,H=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=512,Y=new Array((a+2)*2);s(Y);var ee=new Array(m*2);s(ee);var le=new Array(U);s(le);var he=new Array(h-l+1);s(he);var oe=new Array(n);s(oe);var q=new Array(m);s(q);function K(W,Se,Ae,ke,Pe){this.static_tree=W,this.extra_bits=Se,this.extra_base=Ae,this.elems=ke,this.max_length=Pe,this.has_stree=W&&W.length}var Q,te,ce;function we(W,Se){this.dyn_tree=W,this.max_code=0,this.stat_desc=Se}function be(W){return W<256?le[W]:le[256+(W>>>7)]}function xe(W,Se){W.pending_buf[W.pending++]=Se&255,W.pending_buf[W.pending++]=Se>>>8&255}function Ie(W,Se,Ae){W.bi_valid>S-Ae?(W.bi_buf|=Se<<W.bi_valid&65535,xe(W,W.bi_buf),W.bi_buf=Se>>S-W.bi_valid,W.bi_valid+=Ae-S):(W.bi_buf|=Se<<W.bi_valid&65535,W.bi_valid+=Ae)}function me(W,Se,Ae){Ie(W,Ae[Se*2],Ae[Se*2+1])}function ve(W,Se){var Ae=0;do Ae|=W&1,W>>>=1,Ae<<=1;while(--Se>0);return Ae>>>1}function re(W){W.bi_valid===16?(xe(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):W.bi_valid>=8&&(W.pending_buf[W.pending++]=W.bi_buf&255,W.bi_buf>>=8,W.bi_valid-=8)}function se(W,Se){var Ae=Se.dyn_tree,ke=Se.max_code,Pe=Se.stat_desc.static_tree,Oe=Se.stat_desc.has_stree,ne=Se.stat_desc.extra_bits,Ue=Se.stat_desc.extra_base,et=Se.stat_desc.max_length,w,Ee,Re,X,_e,De,Ye=0;for(X=0;X<=E;X++)W.bl_count[X]=0;for(Ae[W.heap[W.heap_max]*2+1]=0,w=W.heap_max+1;w<y;w++)Ee=W.heap[w],X=Ae[Ae[Ee*2+1]*2+1]+1,X>et&&(X=et,Ye++),Ae[Ee*2+1]=X,!(Ee>ke)&&(W.bl_count[X]++,_e=0,Ee>=Ue&&(_e=ne[Ee-Ue]),De=Ae[Ee*2],W.opt_len+=De*(X+_e),Oe&&(W.static_len+=De*(Pe[Ee*2+1]+_e)));if(Ye!==0){do{for(X=et-1;W.bl_count[X]===0;)X--;W.bl_count[X]--,W.bl_count[X+1]+=2,W.bl_count[et]--,Ye-=2}while(Ye>0);for(X=et;X!==0;X--)for(Ee=W.bl_count[X];Ee!==0;)Re=W.heap[--w],!(Re>ke)&&(Ae[Re*2+1]!==X&&(W.opt_len+=(X-Ae[Re*2+1])*Ae[Re*2],Ae[Re*2+1]=X),Ee--)}}function fe(W,Se,Ae){var ke=new Array(E+1),Pe=0,Oe,ne;for(Oe=1;Oe<=E;Oe++)ke[Oe]=Pe=Pe+Ae[Oe-1]<<1;for(ne=0;ne<=Se;ne++){var Ue=W[ne*2+1];Ue!==0&&(W[ne*2]=ve(ke[Ue]++,Ue))}}function J(){var W,Se,Ae,ke,Pe,Oe=new Array(E+1);for(Ae=0,ke=0;ke<n-1;ke++)for(oe[ke]=Ae,W=0;W<1<<L[ke];W++)he[Ae++]=ke;for(he[Ae-1]=ke,Pe=0,ke=0;ke<16;ke++)for(q[ke]=Pe,W=0;W<1<<j[ke];W++)le[Pe++]=ke;for(Pe>>=7;ke<m;ke++)for(q[ke]=Pe<<7,W=0;W<1<<j[ke]-7;W++)le[256+Pe++]=ke;for(Se=0;Se<=E;Se++)Oe[Se]=0;for(W=0;W<=143;)Y[W*2+1]=8,W++,Oe[8]++;for(;W<=255;)Y[W*2+1]=9,W++,Oe[9]++;for(;W<=279;)Y[W*2+1]=7,W++,Oe[7]++;for(;W<=287;)Y[W*2+1]=8,W++,Oe[8]++;for(fe(Y,a+1,Oe),W=0;W<m;W++)ee[W*2+1]=5,ee[W*2]=ve(W,5);Q=new K(Y,L,f+1,a,E),te=new K(ee,j,0,m,E),ce=new K(new Array(0),V,0,g,A)}function z(W){var Se;for(Se=0;Se<a;Se++)W.dyn_ltree[Se*2]=0;for(Se=0;Se<m;Se++)W.dyn_dtree[Se*2]=0;for(Se=0;Se<g;Se++)W.bl_tree[Se*2]=0;W.dyn_ltree[M*2]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function B(W){W.bi_valid>8?xe(W,W.bi_buf):W.bi_valid>0&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function F(W,Se,Ae,ke){B(W),ke&&(xe(W,Ae),xe(W,~Ae)),x.arraySet(W.pending_buf,W.window,Se,Ae,W.pending),W.pending+=Ae}function Z(W,Se,Ae,ke){var Pe=Se*2,Oe=Ae*2;return W[Pe]<W[Oe]||W[Pe]===W[Oe]&&ke[Se]<=ke[Ae]}function D(W,Se,Ae){for(var ke=W.heap[Ae],Pe=Ae<<1;Pe<=W.heap_len&&(Pe<W.heap_len&&Z(Se,W.heap[Pe+1],W.heap[Pe],W.depth)&&Pe++,!Z(Se,ke,W.heap[Pe],W.depth));)W.heap[Ae]=W.heap[Pe],Ae=Pe,Pe<<=1;W.heap[Ae]=ke}function O(W,Se,Ae){var ke,Pe,Oe=0,ne,Ue;if(W.last_lit!==0)do ke=W.pending_buf[W.d_buf+Oe*2]<<8|W.pending_buf[W.d_buf+Oe*2+1],Pe=W.pending_buf[W.l_buf+Oe],Oe++,ke===0?me(W,Pe,Se):(ne=he[Pe],me(W,ne+f+1,Se),Ue=L[ne],Ue!==0&&(Pe-=oe[ne],Ie(W,Pe,Ue)),ke--,ne=be(ke),me(W,ne,Ae),Ue=j[ne],Ue!==0&&(ke-=q[ne],Ie(W,ke,Ue)));while(Oe<W.last_lit);me(W,M,Se)}function ie(W,Se){var Ae=Se.dyn_tree,ke=Se.stat_desc.static_tree,Pe=Se.stat_desc.has_stree,Oe=Se.stat_desc.elems,ne,Ue,et=-1,w;for(W.heap_len=0,W.heap_max=y,ne=0;ne<Oe;ne++)Ae[ne*2]!==0?(W.heap[++W.heap_len]=et=ne,W.depth[ne]=0):Ae[ne*2+1]=0;for(;W.heap_len<2;)w=W.heap[++W.heap_len]=et<2?++et:0,Ae[w*2]=1,W.depth[w]=0,W.opt_len--,Pe&&(W.static_len-=ke[w*2+1]);for(Se.max_code=et,ne=W.heap_len>>1;ne>=1;ne--)D(W,Ae,ne);w=Oe;do ne=W.heap[1],W.heap[1]=W.heap[W.heap_len--],D(W,Ae,1),Ue=W.heap[1],W.heap[--W.heap_max]=ne,W.heap[--W.heap_max]=Ue,Ae[w*2]=Ae[ne*2]+Ae[Ue*2],W.depth[w]=(W.depth[ne]>=W.depth[Ue]?W.depth[ne]:W.depth[Ue])+1,Ae[ne*2+1]=Ae[Ue*2+1]=w,W.heap[1]=w++,D(W,Ae,1);while(W.heap_len>=2);W.heap[--W.heap_max]=W.heap[1],se(W,Se),fe(Ae,et,W.bl_count)}function ge(W,Se,Ae){var ke,Pe=-1,Oe,ne=Se[0*2+1],Ue=0,et=7,w=4;for(ne===0&&(et=138,w=3),Se[(Ae+1)*2+1]=65535,ke=0;ke<=Ae;ke++)Oe=ne,ne=Se[(ke+1)*2+1],!(++Ue<et&&Oe===ne)&&(Ue<w?W.bl_tree[Oe*2]+=Ue:Oe!==0?(Oe!==Pe&&W.bl_tree[Oe*2]++,W.bl_tree[I*2]++):Ue<=10?W.bl_tree[R*2]++:W.bl_tree[H*2]++,Ue=0,Pe=Oe,ne===0?(et=138,w=3):Oe===ne?(et=6,w=3):(et=7,w=4))}function Me(W,Se,Ae){var ke,Pe=-1,Oe,ne=Se[0*2+1],Ue=0,et=7,w=4;for(ne===0&&(et=138,w=3),ke=0;ke<=Ae;ke++)if(Oe=ne,ne=Se[(ke+1)*2+1],!(++Ue<et&&Oe===ne)){if(Ue<w)do me(W,Oe,W.bl_tree);while(--Ue!==0);else Oe!==0?(Oe!==Pe&&(me(W,Oe,W.bl_tree),Ue--),me(W,I,W.bl_tree),Ie(W,Ue-3,2)):Ue<=10?(me(W,R,W.bl_tree),Ie(W,Ue-3,3)):(me(W,H,W.bl_tree),Ie(W,Ue-11,7));Ue=0,Pe=Oe,ne===0?(et=138,w=3):Oe===ne?(et=6,w=3):(et=7,w=4)}}function Le(W){var Se;for(ge(W,W.dyn_ltree,W.l_desc.max_code),ge(W,W.dyn_dtree,W.d_desc.max_code),ie(W,W.bl_desc),Se=g-1;Se>=3&&W.bl_tree[G[Se]*2+1]===0;Se--);return W.opt_len+=3*(Se+1)+5+5+4,Se}function ze(W,Se,Ae,ke){var Pe;for(Ie(W,Se-257,5),Ie(W,Ae-1,5),Ie(W,ke-4,4),Pe=0;Pe<ke;Pe++)Ie(W,W.bl_tree[G[Pe]*2+1],3);Me(W,W.dyn_ltree,Se-1),Me(W,W.dyn_dtree,Ae-1)}function qe(W){var Se=4093624447,Ae;for(Ae=0;Ae<=31;Ae++,Se>>>=1)if(Se&1&&W.dyn_ltree[Ae*2]!==0)return p;if(W.dyn_ltree[9*2]!==0||W.dyn_ltree[10*2]!==0||W.dyn_ltree[13*2]!==0)return v;for(Ae=32;Ae<f;Ae++)if(W.dyn_ltree[Ae*2]!==0)return v;return p}var Ge=!1;function je(W){Ge||(J(),Ge=!0),W.l_desc=new we(W.dyn_ltree,Q),W.d_desc=new we(W.dyn_dtree,te),W.bl_desc=new we(W.bl_tree,ce),W.bi_buf=0,W.bi_valid=0,z(W)}function We(W,Se,Ae,ke){Ie(W,(i<<1)+(ke?1:0),3),F(W,Se,Ae,!0)}function He(W){Ie(W,t<<1,3),me(W,M,Y),re(W)}function tt(W,Se,Ae,ke){var Pe,Oe,ne=0;W.level>0?(W.strm.data_type===o&&(W.strm.data_type=qe(W)),ie(W,W.l_desc),ie(W,W.d_desc),ne=Le(W),Pe=W.opt_len+3+7>>>3,Oe=W.static_len+3+7>>>3,Oe<=Pe&&(Pe=Oe)):Pe=Oe=Ae+5,Ae+4<=Pe&&Se!==-1?We(W,Se,Ae,ke):W.strategy===c||Oe===Pe?(Ie(W,(t<<1)+(ke?1:0),3),O(W,Y,ee)):(Ie(W,(e<<1)+(ke?1:0),3),ze(W,W.l_desc.max_code+1,W.d_desc.max_code+1,ne+1),O(W,W.dyn_ltree,W.dyn_dtree)),z(W),ke&&B(W)}function Ve(W,Se,Ae){return W.pending_buf[W.d_buf+W.last_lit*2]=Se>>>8&255,W.pending_buf[W.d_buf+W.last_lit*2+1]=Se&255,W.pending_buf[W.l_buf+W.last_lit]=Ae&255,W.last_lit++,Se===0?W.dyn_ltree[Ae*2]++:(W.matches++,Se--,W.dyn_ltree[(he[Ae]+f+1)*2]++,W.dyn_dtree[be(Se)*2]++),W.last_lit===W.lit_bufsize-1}b._tr_init=je,b._tr_stored_block=We,b._tr_flush_block=tt,b._tr_tally=Ve,b._tr_align=He},{"../utils/common":36}],46:[function(_,T,b){function x(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}T.exports=x},{}],47:[function(_,T,b){arguments[4][33][0].apply(b,arguments)},{dup:33}],48:[function(_,T,b){(function(t){var c=_("base64-js"),p=_("ieee754"),v=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;b.Buffer=t,b.SlowBuffer=E,b.INSPECT_MAX_BYTES=50;var o=2147483647;b.kMaxLength=o,t.TYPED_ARRAY_SUPPORT=s(),!t.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function s(){try{var Z=new Uint8Array(1),D={foo:function(){return 42}};return Object.setPrototypeOf(D,Uint8Array.prototype),Object.setPrototypeOf(Z,D),Z.foo()===42}catch{return!1}}Object.defineProperty(t.prototype,"parent",{enumerable:!0,get:function(){if(!!t.isBuffer(this))return this.buffer}}),Object.defineProperty(t.prototype,"offset",{enumerable:!0,get:function(){if(!!t.isBuffer(this))return this.byteOffset}});function i(Z){if(Z>o)throw new RangeError('The value "'+Z+'" is invalid for option "size"');var D=new Uint8Array(Z);return Object.setPrototypeOf(D,t.prototype),D}function t(Z,D,O){if(typeof Z=="number"){if(typeof D=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return n(Z)}return e(Z,D,O)}typeof Symbol<"u"&&Symbol.species!=null&&t[Symbol.species]===t&&Object.defineProperty(t,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),t.poolSize=8192;function e(Z,D,O){if(typeof Z=="string")return f(Z,D);if(ArrayBuffer.isView(Z))return a(Z);if(Z==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z);if(z(Z,ArrayBuffer)||Z&&z(Z.buffer,ArrayBuffer))return m(Z,D,O);if(typeof Z=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var ie=Z.valueOf&&Z.valueOf();if(ie!=null&&ie!==Z)return t.from(ie,D,O);var ge=g(Z);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Z[Symbol.toPrimitive]=="function")return t.from(Z[Symbol.toPrimitive]("string"),D,O);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Z)}t.from=function(Z,D,O){return e(Z,D,O)},Object.setPrototypeOf(t.prototype,Uint8Array.prototype),Object.setPrototypeOf(t,Uint8Array);function l(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be of type number');if(Z<0)throw new RangeError('The value "'+Z+'" is invalid for option "size"')}function h(Z,D,O){return l(Z),Z<=0?i(Z):D!==void 0?typeof O=="string"?i(Z).fill(D,O):i(Z).fill(D):i(Z)}t.alloc=function(Z,D,O){return h(Z,D,O)};function n(Z){return l(Z),i(Z<0?0:y(Z)|0)}t.allocUnsafe=function(Z){return n(Z)},t.allocUnsafeSlow=function(Z){return n(Z)};function f(Z,D){if((typeof D!="string"||D==="")&&(D="utf8"),!t.isEncoding(D))throw new TypeError("Unknown encoding: "+D);var O=S(Z,D)|0,ie=i(O),ge=ie.write(Z,D);return ge!==O&&(ie=ie.slice(0,ge)),ie}function a(Z){for(var D=Z.length<0?0:y(Z.length)|0,O=i(D),ie=0;ie<D;ie+=1)O[ie]=Z[ie]&255;return O}function m(Z,D,O){if(D<0||Z.byteLength<D)throw new RangeError('"offset" is outside of buffer bounds');if(Z.byteLength<D+(O||0))throw new RangeError('"length" is outside of buffer bounds');var ie;return D===void 0&&O===void 0?ie=new Uint8Array(Z):O===void 0?ie=new Uint8Array(Z,D):ie=new Uint8Array(Z,D,O),Object.setPrototypeOf(ie,t.prototype),ie}function g(Z){if(t.isBuffer(Z)){var D=y(Z.length)|0,O=i(D);return O.length===0||Z.copy(O,0,0,D),O}if(Z.length!==void 0)return typeof Z.length!="number"||B(Z.length)?i(0):a(Z);if(Z.type==="Buffer"&&Array.isArray(Z.data))return a(Z.data)}function y(Z){if(Z>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return Z|0}function E(Z){return+Z!=Z&&(Z=0),t.alloc(+Z)}t.isBuffer=function(D){return D!=null&&D._isBuffer===!0&&D!==t.prototype},t.compare=function(D,O){if(z(D,Uint8Array)&&(D=t.from(D,D.offset,D.byteLength)),z(O,Uint8Array)&&(O=t.from(O,O.offset,O.byteLength)),!t.isBuffer(D)||!t.isBuffer(O))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(D===O)return 0;for(var ie=D.length,ge=O.length,Me=0,Le=Math.min(ie,ge);Me<Le;++Me)if(D[Me]!==O[Me]){ie=D[Me],ge=O[Me];break}return ie<ge?-1:ge<ie?1:0},t.isEncoding=function(D){switch(String(D).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},t.concat=function(D,O){if(!Array.isArray(D))throw new TypeError('"list" argument must be an Array of Buffers');if(D.length===0)return t.alloc(0);var ie;if(O===void 0)for(O=0,ie=0;ie<D.length;++ie)O+=D[ie].length;var ge=t.allocUnsafe(O),Me=0;for(ie=0;ie<D.length;++ie){var Le=D[ie];if(z(Le,Uint8Array)&&(Le=t.from(Le)),!t.isBuffer(Le))throw new TypeError('"list" argument must be an Array of Buffers');Le.copy(ge,Me),Me+=Le.length}return ge};function S(Z,D){if(t.isBuffer(Z))return Z.length;if(ArrayBuffer.isView(Z)||z(Z,ArrayBuffer))return Z.byteLength;if(typeof Z!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Z);var O=Z.length,ie=arguments.length>2&&arguments[2]===!0;if(!ie&&O===0)return 0;for(var ge=!1;;)switch(D){case"ascii":case"latin1":case"binary":return O;case"utf8":case"utf-8":return ve(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O*2;case"hex":return O>>>1;case"base64":return fe(Z).length;default:if(ge)return ie?-1:ve(Z).length;D=(""+D).toLowerCase(),ge=!0}}t.byteLength=S;function A(Z,D,O){var ie=!1;if((D===void 0||D<0)&&(D=0),D>this.length||((O===void 0||O>this.length)&&(O=this.length),O<=0)||(O>>>=0,D>>>=0,O<=D))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return K(this,D,O);case"utf8":case"utf-8":return ee(this,D,O);case"ascii":return oe(this,D,O);case"latin1":case"binary":return q(this,D,O);case"base64":return Y(this,D,O);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Q(this,D,O);default:if(ie)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),ie=!0}}t.prototype._isBuffer=!0;function M(Z,D,O){var ie=Z[D];Z[D]=Z[O],Z[O]=ie}t.prototype.swap16=function(){var D=this.length;if(D%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var O=0;O<D;O+=2)M(this,O,O+1);return this},t.prototype.swap32=function(){var D=this.length;if(D%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var O=0;O<D;O+=4)M(this,O,O+3),M(this,O+1,O+2);return this},t.prototype.swap64=function(){var D=this.length;if(D%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var O=0;O<D;O+=8)M(this,O,O+7),M(this,O+1,O+6),M(this,O+2,O+5),M(this,O+3,O+4);return this},t.prototype.toString=function(){var D=this.length;return D===0?"":arguments.length===0?ee(this,0,D):A.apply(this,arguments)},t.prototype.toLocaleString=t.prototype.toString,t.prototype.equals=function(D){if(!t.isBuffer(D))throw new TypeError("Argument must be a Buffer");return this===D?!0:t.compare(this,D)===0},t.prototype.inspect=function(){var D="",O=b.INSPECT_MAX_BYTES;return D=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim(),this.length>O&&(D+=" ... "),"<Buffer "+D+">"},v&&(t.prototype[v]=t.prototype.inspect),t.prototype.compare=function(D,O,ie,ge,Me){if(z(D,Uint8Array)&&(D=t.from(D,D.offset,D.byteLength)),!t.isBuffer(D))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof D);if(O===void 0&&(O=0),ie===void 0&&(ie=D?D.length:0),ge===void 0&&(ge=0),Me===void 0&&(Me=this.length),O<0||ie>D.length||ge<0||Me>this.length)throw new RangeError("out of range index");if(ge>=Me&&O>=ie)return 0;if(ge>=Me)return-1;if(O>=ie)return 1;if(O>>>=0,ie>>>=0,ge>>>=0,Me>>>=0,this===D)return 0;for(var Le=Me-ge,ze=ie-O,qe=Math.min(Le,ze),Ge=this.slice(ge,Me),je=D.slice(O,ie),We=0;We<qe;++We)if(Ge[We]!==je[We]){Le=Ge[We],ze=je[We];break}return Le<ze?-1:ze<Le?1:0};function I(Z,D,O,ie,ge){if(Z.length===0)return-1;if(typeof O=="string"?(ie=O,O=0):O>2147483647?O=2147483647:O<-2147483648&&(O=-2147483648),O=+O,B(O)&&(O=ge?0:Z.length-1),O<0&&(O=Z.length+O),O>=Z.length){if(ge)return-1;O=Z.length-1}else if(O<0)if(ge)O=0;else return-1;if(typeof D=="string"&&(D=t.from(D,ie)),t.isBuffer(D))return D.length===0?-1:R(Z,D,O,ie,ge);if(typeof D=="number")return D=D&255,typeof Uint8Array.prototype.indexOf=="function"?ge?Uint8Array.prototype.indexOf.call(Z,D,O):Uint8Array.prototype.lastIndexOf.call(Z,D,O):R(Z,[D],O,ie,ge);throw new TypeError("val must be string, number or Buffer")}function R(Z,D,O,ie,ge){var Me=1,Le=Z.length,ze=D.length;if(ie!==void 0&&(ie=String(ie).toLowerCase(),ie==="ucs2"||ie==="ucs-2"||ie==="utf16le"||ie==="utf-16le")){if(Z.length<2||D.length<2)return-1;Me=2,Le/=2,ze/=2,O/=2}function qe(tt,Ve){return Me===1?tt[Ve]:tt.readUInt16BE(Ve*Me)}var Ge;if(ge){var je=-1;for(Ge=O;Ge<Le;Ge++)if(qe(Z,Ge)===qe(D,je===-1?0:Ge-je)){if(je===-1&&(je=Ge),Ge-je+1===ze)return je*Me}else je!==-1&&(Ge-=Ge-je),je=-1}else for(O+ze>Le&&(O=Le-ze),Ge=O;Ge>=0;Ge--){for(var We=!0,He=0;He<ze;He++)if(qe(Z,Ge+He)!==qe(D,He)){We=!1;break}if(We)return Ge}return-1}t.prototype.includes=function(D,O,ie){return this.indexOf(D,O,ie)!==-1},t.prototype.indexOf=function(D,O,ie){return I(this,D,O,ie,!0)},t.prototype.lastIndexOf=function(D,O,ie){return I(this,D,O,ie,!1)};function H(Z,D,O,ie){O=Number(O)||0;var ge=Z.length-O;ie?(ie=Number(ie),ie>ge&&(ie=ge)):ie=ge;var Me=D.length;ie>Me/2&&(ie=Me/2);for(var Le=0;Le<ie;++Le){var ze=parseInt(D.substr(Le*2,2),16);if(B(ze))return Le;Z[O+Le]=ze}return Le}function L(Z,D,O,ie){return J(ve(D,Z.length-O),Z,O,ie)}function j(Z,D,O,ie){return J(re(D),Z,O,ie)}function V(Z,D,O,ie){return j(Z,D,O,ie)}function G(Z,D,O,ie){return J(fe(D),Z,O,ie)}function U(Z,D,O,ie){return J(se(D,Z.length-O),Z,O,ie)}t.prototype.write=function(D,O,ie,ge){if(O===void 0)ge="utf8",ie=this.length,O=0;else if(ie===void 0&&typeof O=="string")ge=O,ie=this.length,O=0;else if(isFinite(O))O=O>>>0,isFinite(ie)?(ie=ie>>>0,ge===void 0&&(ge="utf8")):(ge=ie,ie=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Me=this.length-O;if((ie===void 0||ie>Me)&&(ie=Me),D.length>0&&(ie<0||O<0)||O>this.length)throw new RangeError("Attempt to write outside buffer bounds");ge||(ge="utf8");for(var Le=!1;;)switch(ge){case"hex":return H(this,D,O,ie);case"utf8":case"utf-8":return L(this,D,O,ie);case"ascii":return j(this,D,O,ie);case"latin1":case"binary":return V(this,D,O,ie);case"base64":return G(this,D,O,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return U(this,D,O,ie);default:if(Le)throw new TypeError("Unknown encoding: "+ge);ge=(""+ge).toLowerCase(),Le=!0}},t.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(Z,D,O){return D===0&&O===Z.length?c.fromByteArray(Z):c.fromByteArray(Z.slice(D,O))}function ee(Z,D,O){O=Math.min(Z.length,O);for(var ie=[],ge=D;ge<O;){var Me=Z[ge],Le=null,ze=Me>239?4:Me>223?3:Me>191?2:1;if(ge+ze<=O){var qe,Ge,je,We;switch(ze){case 1:Me<128&&(Le=Me);break;case 2:qe=Z[ge+1],(qe&192)===128&&(We=(Me&31)<<6|qe&63,We>127&&(Le=We));break;case 3:qe=Z[ge+1],Ge=Z[ge+2],(qe&192)===128&&(Ge&192)===128&&(We=(Me&15)<<12|(qe&63)<<6|Ge&63,We>2047&&(We<55296||We>57343)&&(Le=We));break;case 4:qe=Z[ge+1],Ge=Z[ge+2],je=Z[ge+3],(qe&192)===128&&(Ge&192)===128&&(je&192)===128&&(We=(Me&15)<<18|(qe&63)<<12|(Ge&63)<<6|je&63,We>65535&&We<1114112&&(Le=We))}}Le===null?(Le=65533,ze=1):Le>65535&&(Le-=65536,ie.push(Le>>>10&1023|55296),Le=56320|Le&1023),ie.push(Le),ge+=ze}return he(ie)}var le=4096;function he(Z){var D=Z.length;if(D<=le)return String.fromCharCode.apply(String,Z);for(var O="",ie=0;ie<D;)O+=String.fromCharCode.apply(String,Z.slice(ie,ie+=le));return O}function oe(Z,D,O){var ie="";O=Math.min(Z.length,O);for(var ge=D;ge<O;++ge)ie+=String.fromCharCode(Z[ge]&127);return ie}function q(Z,D,O){var ie="";O=Math.min(Z.length,O);for(var ge=D;ge<O;++ge)ie+=String.fromCharCode(Z[ge]);return ie}function K(Z,D,O){var ie=Z.length;(!D||D<0)&&(D=0),(!O||O<0||O>ie)&&(O=ie);for(var ge="",Me=D;Me<O;++Me)ge+=F[Z[Me]];return ge}function Q(Z,D,O){for(var ie=Z.slice(D,O),ge="",Me=0;Me<ie.length;Me+=2)ge+=String.fromCharCode(ie[Me]+ie[Me+1]*256);return ge}t.prototype.slice=function(D,O){var ie=this.length;D=~~D,O=O===void 0?ie:~~O,D<0?(D+=ie,D<0&&(D=0)):D>ie&&(D=ie),O<0?(O+=ie,O<0&&(O=0)):O>ie&&(O=ie),O<D&&(O=D);var ge=this.subarray(D,O);return Object.setPrototypeOf(ge,t.prototype),ge};function te(Z,D,O){if(Z%1!==0||Z<0)throw new RangeError("offset is not uint");if(Z+D>O)throw new RangeError("Trying to access beyond buffer length")}t.prototype.readUIntLE=function(D,O,ie){D=D>>>0,O=O>>>0,ie||te(D,O,this.length);for(var ge=this[D],Me=1,Le=0;++Le<O&&(Me*=256);)ge+=this[D+Le]*Me;return ge},t.prototype.readUIntBE=function(D,O,ie){D=D>>>0,O=O>>>0,ie||te(D,O,this.length);for(var ge=this[D+--O],Me=1;O>0&&(Me*=256);)ge+=this[D+--O]*Me;return ge},t.prototype.readUInt8=function(D,O){return D=D>>>0,O||te(D,1,this.length),this[D]},t.prototype.readUInt16LE=function(D,O){return D=D>>>0,O||te(D,2,this.length),this[D]|this[D+1]<<8},t.prototype.readUInt16BE=function(D,O){return D=D>>>0,O||te(D,2,this.length),this[D]<<8|this[D+1]},t.prototype.readUInt32LE=function(D,O){return D=D>>>0,O||te(D,4,this.length),(this[D]|this[D+1]<<8|this[D+2]<<16)+this[D+3]*16777216},t.prototype.readUInt32BE=function(D,O){return D=D>>>0,O||te(D,4,this.length),this[D]*16777216+(this[D+1]<<16|this[D+2]<<8|this[D+3])},t.prototype.readIntLE=function(D,O,ie){D=D>>>0,O=O>>>0,ie||te(D,O,this.length);for(var ge=this[D],Me=1,Le=0;++Le<O&&(Me*=256);)ge+=this[D+Le]*Me;return Me*=128,ge>=Me&&(ge-=Math.pow(2,8*O)),ge},t.prototype.readIntBE=function(D,O,ie){D=D>>>0,O=O>>>0,ie||te(D,O,this.length);for(var ge=O,Me=1,Le=this[D+--ge];ge>0&&(Me*=256);)Le+=this[D+--ge]*Me;return Me*=128,Le>=Me&&(Le-=Math.pow(2,8*O)),Le},t.prototype.readInt8=function(D,O){return D=D>>>0,O||te(D,1,this.length),this[D]&128?(255-this[D]+1)*-1:this[D]},t.prototype.readInt16LE=function(D,O){D=D>>>0,O||te(D,2,this.length);var ie=this[D]|this[D+1]<<8;return ie&32768?ie|4294901760:ie},t.prototype.readInt16BE=function(D,O){D=D>>>0,O||te(D,2,this.length);var ie=this[D+1]|this[D]<<8;return ie&32768?ie|4294901760:ie},t.prototype.readInt32LE=function(D,O){return D=D>>>0,O||te(D,4,this.length),this[D]|this[D+1]<<8|this[D+2]<<16|this[D+3]<<24},t.prototype.readInt32BE=function(D,O){return D=D>>>0,O||te(D,4,this.length),this[D]<<24|this[D+1]<<16|this[D+2]<<8|this[D+3]},t.prototype.readFloatLE=function(D,O){return D=D>>>0,O||te(D,4,this.length),p.read(this,D,!0,23,4)},t.prototype.readFloatBE=function(D,O){return D=D>>>0,O||te(D,4,this.length),p.read(this,D,!1,23,4)},t.prototype.readDoubleLE=function(D,O){return D=D>>>0,O||te(D,8,this.length),p.read(this,D,!0,52,8)},t.prototype.readDoubleBE=function(D,O){return D=D>>>0,O||te(D,8,this.length),p.read(this,D,!1,52,8)};function ce(Z,D,O,ie,ge,Me){if(!t.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(D>ge||D<Me)throw new RangeError('"value" argument is out of bounds');if(O+ie>Z.length)throw new RangeError("Index out of range")}t.prototype.writeUIntLE=function(D,O,ie,ge){if(D=+D,O=O>>>0,ie=ie>>>0,!ge){var Me=Math.pow(2,8*ie)-1;ce(this,D,O,ie,Me,0)}var Le=1,ze=0;for(this[O]=D&255;++ze<ie&&(Le*=256);)this[O+ze]=D/Le&255;return O+ie},t.prototype.writeUIntBE=function(D,O,ie,ge){if(D=+D,O=O>>>0,ie=ie>>>0,!ge){var Me=Math.pow(2,8*ie)-1;ce(this,D,O,ie,Me,0)}var Le=ie-1,ze=1;for(this[O+Le]=D&255;--Le>=0&&(ze*=256);)this[O+Le]=D/ze&255;return O+ie},t.prototype.writeUInt8=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,1,255,0),this[O]=D&255,O+1},t.prototype.writeUInt16LE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,2,65535,0),this[O]=D&255,this[O+1]=D>>>8,O+2},t.prototype.writeUInt16BE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,2,65535,0),this[O]=D>>>8,this[O+1]=D&255,O+2},t.prototype.writeUInt32LE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,4,4294967295,0),this[O+3]=D>>>24,this[O+2]=D>>>16,this[O+1]=D>>>8,this[O]=D&255,O+4},t.prototype.writeUInt32BE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,4,4294967295,0),this[O]=D>>>24,this[O+1]=D>>>16,this[O+2]=D>>>8,this[O+3]=D&255,O+4},t.prototype.writeIntLE=function(D,O,ie,ge){if(D=+D,O=O>>>0,!ge){var Me=Math.pow(2,8*ie-1);ce(this,D,O,ie,Me-1,-Me)}var Le=0,ze=1,qe=0;for(this[O]=D&255;++Le<ie&&(ze*=256);)D<0&&qe===0&&this[O+Le-1]!==0&&(qe=1),this[O+Le]=(D/ze>>0)-qe&255;return O+ie},t.prototype.writeIntBE=function(D,O,ie,ge){if(D=+D,O=O>>>0,!ge){var Me=Math.pow(2,8*ie-1);ce(this,D,O,ie,Me-1,-Me)}var Le=ie-1,ze=1,qe=0;for(this[O+Le]=D&255;--Le>=0&&(ze*=256);)D<0&&qe===0&&this[O+Le+1]!==0&&(qe=1),this[O+Le]=(D/ze>>0)-qe&255;return O+ie},t.prototype.writeInt8=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,1,127,-128),D<0&&(D=255+D+1),this[O]=D&255,O+1},t.prototype.writeInt16LE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,2,32767,-32768),this[O]=D&255,this[O+1]=D>>>8,O+2},t.prototype.writeInt16BE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,2,32767,-32768),this[O]=D>>>8,this[O+1]=D&255,O+2},t.prototype.writeInt32LE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,4,2147483647,-2147483648),this[O]=D&255,this[O+1]=D>>>8,this[O+2]=D>>>16,this[O+3]=D>>>24,O+4},t.prototype.writeInt32BE=function(D,O,ie){return D=+D,O=O>>>0,ie||ce(this,D,O,4,2147483647,-2147483648),D<0&&(D=4294967295+D+1),this[O]=D>>>24,this[O+1]=D>>>16,this[O+2]=D>>>8,this[O+3]=D&255,O+4};function we(Z,D,O,ie,ge,Me){if(O+ie>Z.length)throw new RangeError("Index out of range");if(O<0)throw new RangeError("Index out of range")}function be(Z,D,O,ie,ge){return D=+D,O=O>>>0,ge||we(Z,D,O,4),p.write(Z,D,O,ie,23,4),O+4}t.prototype.writeFloatLE=function(D,O,ie){return be(this,D,O,!0,ie)},t.prototype.writeFloatBE=function(D,O,ie){return be(this,D,O,!1,ie)};function xe(Z,D,O,ie,ge){return D=+D,O=O>>>0,ge||we(Z,D,O,8),p.write(Z,D,O,ie,52,8),O+8}t.prototype.writeDoubleLE=function(D,O,ie){return xe(this,D,O,!0,ie)},t.prototype.writeDoubleBE=function(D,O,ie){return xe(this,D,O,!1,ie)},t.prototype.copy=function(D,O,ie,ge){if(!t.isBuffer(D))throw new TypeError("argument should be a Buffer");if(ie||(ie=0),!ge&&ge!==0&&(ge=this.length),O>=D.length&&(O=D.length),O||(O=0),ge>0&&ge<ie&&(ge=ie),ge===ie||D.length===0||this.length===0)return 0;if(O<0)throw new RangeError("targetStart out of bounds");if(ie<0||ie>=this.length)throw new RangeError("Index out of range");if(ge<0)throw new RangeError("sourceEnd out of bounds");ge>this.length&&(ge=this.length),D.length-O<ge-ie&&(ge=D.length-O+ie);var Me=ge-ie;if(this===D&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(O,ie,ge);else if(this===D&&ie<O&&O<ge)for(var Le=Me-1;Le>=0;--Le)D[Le+O]=this[Le+ie];else Uint8Array.prototype.set.call(D,this.subarray(ie,ge),O);return Me},t.prototype.fill=function(D,O,ie,ge){if(typeof D=="string"){if(typeof O=="string"?(ge=O,O=0,ie=this.length):typeof ie=="string"&&(ge=ie,ie=this.length),ge!==void 0&&typeof ge!="string")throw new TypeError("encoding must be a string");if(typeof ge=="string"&&!t.isEncoding(ge))throw new TypeError("Unknown encoding: "+ge);if(D.length===1){var Me=D.charCodeAt(0);(ge==="utf8"&&Me<128||ge==="latin1")&&(D=Me)}}else typeof D=="number"?D=D&255:typeof D=="boolean"&&(D=Number(D));if(O<0||this.length<O||this.length<ie)throw new RangeError("Out of range index");if(ie<=O)return this;O=O>>>0,ie=ie===void 0?this.length:ie>>>0,D||(D=0);var Le;if(typeof D=="number")for(Le=O;Le<ie;++Le)this[Le]=D;else{var ze=t.isBuffer(D)?D:t.from(D,ge),qe=ze.length;if(qe===0)throw new TypeError('The value "'+D+'" is invalid for argument "value"');for(Le=0;Le<ie-O;++Le)this[Le+O]=ze[Le%qe]}return this};var Ie=/[^+/0-9A-Za-z-_]/g;function me(Z){if(Z=Z.split("=")[0],Z=Z.trim().replace(Ie,""),Z.length<2)return"";for(;Z.length%4!==0;)Z=Z+"=";return Z}function ve(Z,D){D=D||1/0;for(var O,ie=Z.length,ge=null,Me=[],Le=0;Le<ie;++Le){if(O=Z.charCodeAt(Le),O>55295&&O<57344){if(!ge){if(O>56319){(D-=3)>-1&&Me.push(239,191,189);continue}else if(Le+1===ie){(D-=3)>-1&&Me.push(239,191,189);continue}ge=O;continue}if(O<56320){(D-=3)>-1&&Me.push(239,191,189),ge=O;continue}O=(ge-55296<<10|O-56320)+65536}else ge&&(D-=3)>-1&&Me.push(239,191,189);if(ge=null,O<128){if((D-=1)<0)break;Me.push(O)}else if(O<2048){if((D-=2)<0)break;Me.push(O>>6|192,O&63|128)}else if(O<65536){if((D-=3)<0)break;Me.push(O>>12|224,O>>6&63|128,O&63|128)}else if(O<1114112){if((D-=4)<0)break;Me.push(O>>18|240,O>>12&63|128,O>>6&63|128,O&63|128)}else throw new Error("Invalid code point")}return Me}function re(Z){for(var D=[],O=0;O<Z.length;++O)D.push(Z.charCodeAt(O)&255);return D}function se(Z,D){for(var O,ie,ge,Me=[],Le=0;Le<Z.length&&!((D-=2)<0);++Le)O=Z.charCodeAt(Le),ie=O>>8,ge=O%256,Me.push(ge),Me.push(ie);return Me}function fe(Z){return c.toByteArray(me(Z))}function J(Z,D,O,ie){for(var ge=0;ge<ie&&!(ge+O>=D.length||ge>=Z.length);++ge)D[ge+O]=Z[ge];return ge}function z(Z,D){return Z instanceof D||Z!=null&&Z.constructor!=null&&Z.constructor.name!=null&&Z.constructor.name===D.name}function B(Z){return Z!==Z}var F=function(){for(var Z="0123456789abcdef",D=new Array(256),O=0;O<16;++O)for(var ie=O*16,ge=0;ge<16;++ge)D[ie+ge]=Z[O]+Z[ge];return D}()}).call(this,_("buffer").Buffer)},{"base64-js":29,buffer:48,ieee754:73}],49:[function(_,T,b){var x=_("buffer").Buffer;T.exports=function(c,p){if(!!x.isBuffer(c)&&!!x.isBuffer(p)){if(typeof c.equals=="function")return c.equals(p);if(c.length!==p.length)return!1;for(var v=0;v<c.length;v++)if(c[v]!==p[v])return!1;return!0}}},{buffer:48}],50:[function(_,T,b){T.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},{}],51:[function(_,T,b){(function(x){function c(y){return Array.isArray?Array.isArray(y):g(y)==="[object Array]"}b.isArray=c;function p(y){return typeof y=="boolean"}b.isBoolean=p;function v(y){return y===null}b.isNull=v;function o(y){return y==null}b.isNullOrUndefined=o;function s(y){return typeof y=="number"}b.isNumber=s;function i(y){return typeof y=="string"}b.isString=i;function t(y){return typeof y=="symbol"}b.isSymbol=t;function e(y){return y===void 0}b.isUndefined=e;function l(y){return g(y)==="[object RegExp]"}b.isRegExp=l;function h(y){return typeof y=="object"&&y!==null}b.isObject=h;function n(y){return g(y)==="[object Date]"}b.isDate=n;function f(y){return g(y)==="[object Error]"||y instanceof Error}b.isError=f;function a(y){return typeof y=="function"}b.isFunction=a;function m(y){return y===null||typeof y=="boolean"||typeof y=="number"||typeof y=="string"||typeof y=="symbol"||typeof y>"u"}b.isPrimitive=m,b.isBuffer=x.isBuffer;function g(y){return Object.prototype.toString.call(y)}}).call(this,{isBuffer:_("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76}],52:[function(_,T,b){var x=Object.create||I,c=Object.keys||R,p=Function.prototype.bind||H;function v(){(!this._events||!Object.prototype.hasOwnProperty.call(this,"_events"))&&(this._events=x(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}T.exports=v,v.EventEmitter=v,v.prototype._events=void 0,v.prototype._maxListeners=void 0;var o=10,s;try{var i={};Object.defineProperty&&Object.defineProperty(i,"x",{value:0}),s=i.x===0}catch{s=!1}s?Object.defineProperty(v,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(L){if(typeof L!="number"||L<0||L!==L)throw new TypeError('"defaultMaxListeners" must be a positive number');o=L}}):v.defaultMaxListeners=o,v.prototype.setMaxListeners=function(j){if(typeof j!="number"||j<0||isNaN(j))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=j,this};function t(L){return L._maxListeners===void 0?v.defaultMaxListeners:L._maxListeners}v.prototype.getMaxListeners=function(){return t(this)};function e(L,j,V){if(j)L.call(V);else for(var G=L.length,U=A(L,G),Y=0;Y<G;++Y)U[Y].call(V)}function l(L,j,V,G){if(j)L.call(V,G);else for(var U=L.length,Y=A(L,U),ee=0;ee<U;++ee)Y[ee].call(V,G)}function h(L,j,V,G,U){if(j)L.call(V,G,U);else for(var Y=L.length,ee=A(L,Y),le=0;le<Y;++le)ee[le].call(V,G,U)}function n(L,j,V,G,U,Y){if(j)L.call(V,G,U,Y);else for(var ee=L.length,le=A(L,ee),he=0;he<ee;++he)le[he].call(V,G,U,Y)}function f(L,j,V,G){if(j)L.apply(V,G);else for(var U=L.length,Y=A(L,U),ee=0;ee<U;++ee)Y[ee].apply(V,G)}v.prototype.emit=function(j){var V,G,U,Y,ee,le,he=j==="error";if(le=this._events,le)he=he&&le.error==null;else if(!he)return!1;if(he){if(arguments.length>1&&(V=arguments[1]),V instanceof Error)throw V;var oe=new Error('Unhandled "error" event. ('+V+")");throw oe.context=V,oe}if(G=le[j],!G)return!1;var q=typeof G=="function";switch(U=arguments.length,U){case 1:e(G,q,this);break;case 2:l(G,q,this,arguments[1]);break;case 3:h(G,q,this,arguments[1],arguments[2]);break;case 4:n(G,q,this,arguments[1],arguments[2],arguments[3]);break;default:for(Y=new Array(U-1),ee=1;ee<U;ee++)Y[ee-1]=arguments[ee];f(G,q,this,Y)}return!0};function a(L,j,V,G){var U,Y,ee;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(Y=L._events,Y?(Y.newListener&&(L.emit("newListener",j,V.listener?V.listener:V),Y=L._events),ee=Y[j]):(Y=L._events=x(null),L._eventsCount=0),!ee)ee=Y[j]=V,++L._eventsCount;else if(typeof ee=="function"?ee=Y[j]=G?[V,ee]:[ee,V]:G?ee.unshift(V):ee.push(V),!ee.warned&&(U=t(L),U&&U>0&&ee.length>U)){ee.warned=!0;var le=new Error("Possible EventEmitter memory leak detected. "+ee.length+' "'+String(j)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');le.name="MaxListenersExceededWarning",le.emitter=L,le.type=j,le.count=ee.length,typeof console=="object"&&console.warn&&console.warn("%s: %s",le.name,le.message)}return L}v.prototype.addListener=function(j,V){return a(this,j,V,!1)},v.prototype.on=v.prototype.addListener,v.prototype.prependListener=function(j,V){return a(this,j,V,!0)};function m(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var L=new Array(arguments.length),j=0;j<L.length;++j)L[j]=arguments[j];this.listener.apply(this.target,L)}}function g(L,j,V){var G={fired:!1,wrapFn:void 0,target:L,type:j,listener:V},U=p.call(m,G);return U.listener=V,G.wrapFn=U,U}v.prototype.once=function(j,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.on(j,g(this,j,V)),this},v.prototype.prependOnceListener=function(j,V){if(typeof V!="function")throw new TypeError('"listener" argument must be a function');return this.prependListener(j,g(this,j,V)),this},v.prototype.removeListener=function(j,V){var G,U,Y,ee,le;if(typeof V!="function")throw new TypeError('"listener" argument must be a function');if(U=this._events,!U)return this;if(G=U[j],!G)return this;if(G===V||G.listener===V)--this._eventsCount===0?this._events=x(null):(delete U[j],U.removeListener&&this.emit("removeListener",j,G.listener||V));else if(typeof G!="function"){for(Y=-1,ee=G.length-1;ee>=0;ee--)if(G[ee]===V||G[ee].listener===V){le=G[ee].listener,Y=ee;break}if(Y<0)return this;Y===0?G.shift():S(G,Y),G.length===1&&(U[j]=G[0]),U.removeListener&&this.emit("removeListener",j,le||V)}return this},v.prototype.removeAllListeners=function(j){var V,G,U;if(G=this._events,!G)return this;if(!G.removeListener)return arguments.length===0?(this._events=x(null),this._eventsCount=0):G[j]&&(--this._eventsCount===0?this._events=x(null):delete G[j]),this;if(arguments.length===0){var Y=c(G),ee;for(U=0;U<Y.length;++U)ee=Y[U],ee!=="removeListener"&&this.removeAllListeners(ee);return this.removeAllListeners("removeListener"),this._events=x(null),this._eventsCount=0,this}if(V=G[j],typeof V=="function")this.removeListener(j,V);else if(V)for(U=V.length-1;U>=0;U--)this.removeListener(j,V[U]);return this};function y(L,j,V){var G=L._events;if(!G)return[];var U=G[j];return U?typeof U=="function"?V?[U.listener||U]:[U]:V?M(U):A(U,U.length):[]}v.prototype.listeners=function(j){return y(this,j,!0)},v.prototype.rawListeners=function(j){return y(this,j,!1)},v.listenerCount=function(L,j){return typeof L.listenerCount=="function"?L.listenerCount(j):E.call(L,j)},v.prototype.listenerCount=E;function E(L){var j=this._events;if(j){var V=j[L];if(typeof V=="function")return 1;if(V)return V.length}return 0}v.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};function S(L,j){for(var V=j,G=V+1,U=L.length;G<U;V+=1,G+=1)L[V]=L[G];L.pop()}function A(L,j){for(var V=new Array(j),G=0;G<j;++G)V[G]=L[G];return V}function M(L){for(var j=new Array(L.length),V=0;V<j.length;++V)j[V]=L[V].listener||L[V];return j}function I(L){var j=function(){};return j.prototype=L,new j}function R(L){for(var j in L)Object.prototype.hasOwnProperty.call(L,j);return j}function H(L){var j=this;return function(){return j.apply(L,arguments)}}},{}],53:[function(_,T,b){var x=_("./lib/parser");function c(){return(0,eval)("this")}T.exports={create:function(p,v){if(v=v||c(),p instanceof v.ArrayBuffer){var o=_("./lib/dom-bufferstream");return new x(new o(p,0,p.byteLength,!0,v))}else{var s=_("./lib/bufferstream");return new x(new s(p,0,p.length,!0))}}}},{"./lib/bufferstream":54,"./lib/dom-bufferstream":56,"./lib/parser":60}],54:[function(_,T,b){function x(c,p,v,o){this.buffer=c,this.offset=p||0,v=typeof v=="number"?v:c.length,this.endPosition=this.offset+v,this.setBigEndian(o)}x.prototype={setBigEndian:function(c){this.bigEndian=!!c},nextUInt8:function(){var c=this.buffer.readUInt8(this.offset);return this.offset+=1,c},nextInt8:function(){var c=this.buffer.readInt8(this.offset);return this.offset+=1,c},nextUInt16:function(){var c=this.bigEndian?this.buffer.readUInt16BE(this.offset):this.buffer.readUInt16LE(this.offset);return this.offset+=2,c},nextUInt32:function(){var c=this.bigEndian?this.buffer.readUInt32BE(this.offset):this.buffer.readUInt32LE(this.offset);return this.offset+=4,c},nextInt16:function(){var c=this.bigEndian?this.buffer.readInt16BE(this.offset):this.buffer.readInt16LE(this.offset);return this.offset+=2,c},nextInt32:function(){var c=this.bigEndian?this.buffer.readInt32BE(this.offset):this.buffer.readInt32LE(this.offset);return this.offset+=4,c},nextFloat:function(){var c=this.bigEndian?this.buffer.readFloatBE(this.offset):this.buffer.readFloatLE(this.offset);return this.offset+=4,c},nextDouble:function(){var c=this.bigEndian?this.buffer.readDoubleBE(this.offset):this.buffer.readDoubleLE(this.offset);return this.offset+=8,c},nextBuffer:function(c){var p=this.buffer.slice(this.offset,this.offset+c);return this.offset+=c,p},remainingLength:function(){return this.endPosition-this.offset},nextString:function(c){var p=this.buffer.toString("utf8",this.offset,this.offset+c);return this.offset+=c,p},mark:function(){var c=this;return{openWithOffset:function(p){return p=(p||0)+this.offset,new x(c.buffer,p,c.endPosition-p,c.bigEndian)},offset:this.offset}},offsetFrom:function(c){return this.offset-c.offset},skip:function(c){this.offset+=c},branch:function(c,p){return p=typeof p=="number"?p:this.endPosition-(this.offset+c),new x(this.buffer,this.offset+c,p,this.bigEndian)}},T.exports=x},{}],55:[function(_,T,b){function x(t){return parseInt(t,10)}var c=3600,p=60;function v(t,e){t=t.map(x),e=e.map(x);var l=t[0],h=t[1]-1,n=t[2],f=e[0],a=e[1],m=e[2],g=Date.UTC(l,h,n,f,a,m,0),y=g/1e3;return y}function o(t){var e=t.substr(0,10).split("-"),l=t.substr(11,8).split(":"),h=t.substr(19,6),n=h.split(":").map(x),f=n[0]*c+n[1]*p,a=v(e,l);if(a-=f,typeof a=="number"&&!isNaN(a))return a}function s(t){var e=t.split(" "),l=e[0].split(":"),h=e[1].split(":"),n=v(l,h);if(typeof n=="number"&&!isNaN(n))return n}function i(t){var e=t.length===19&&t.charAt(4)===":",l=t.length===25&&t.charAt(10)==="T";if(l)return o(t);if(e)return s(t)}T.exports={parseDateWithSpecFormat:s,parseDateWithTimezoneFormat:o,parseExifDate:i}},{}],56:[function(_,T,b){function x(c,p,v,o,s,i){this.global=s,p=p||0,v=v||c.byteLength-p,this.arrayBuffer=c.slice(p,p+v),this.view=new s.DataView(this.arrayBuffer,0,this.arrayBuffer.byteLength),this.setBigEndian(o),this.offset=0,this.parentOffset=(i||0)+p}x.prototype={setBigEndian:function(c){this.littleEndian=!c},nextUInt8:function(){var c=this.view.getUint8(this.offset);return this.offset+=1,c},nextInt8:function(){var c=this.view.getInt8(this.offset);return this.offset+=1,c},nextUInt16:function(){var c=this.view.getUint16(this.offset,this.littleEndian);return this.offset+=2,c},nextUInt32:function(){var c=this.view.getUint32(this.offset,this.littleEndian);return this.offset+=4,c},nextInt16:function(){var c=this.view.getInt16(this.offset,this.littleEndian);return this.offset+=2,c},nextInt32:function(){var c=this.view.getInt32(this.offset,this.littleEndian);return this.offset+=4,c},nextFloat:function(){var c=this.view.getFloat32(this.offset,this.littleEndian);return this.offset+=4,c},nextDouble:function(){var c=this.view.getFloat64(this.offset,this.littleEndian);return this.offset+=8,c},nextBuffer:function(c){var p=this.arrayBuffer.slice(this.offset,this.offset+c);return this.offset+=c,p},remainingLength:function(){return this.arrayBuffer.byteLength-this.offset},nextString:function(c){var p=this.arrayBuffer.slice(this.offset,this.offset+c);return p=String.fromCharCode.apply(null,new this.global.Uint8Array(p)),this.offset+=c,p},mark:function(){var c=this;return{openWithOffset:function(p){return p=(p||0)+this.offset,new x(c.arrayBuffer,p,c.arrayBuffer.byteLength-p,!c.littleEndian,c.global,c.parentOffset)},offset:this.offset,getParentOffset:function(){return c.parentOffset}}},offsetFrom:function(c){return this.parentOffset+this.offset-(c.offset+c.getParentOffset())},skip:function(c){this.offset+=c},branch:function(c,p){return p=typeof p=="number"?p:this.arrayBuffer.byteLength-(this.offset+c),new x(this.arrayBuffer,this.offset+c,p,!this.littleEndian,this.global,this.parentOffset)}},T.exports=x},{}],57:[function(_,T,b){T.exports={exif:{1:"InteropIndex",2:"InteropVersion",11:"ProcessingSoftware",254:"SubfileType",255:"OldSubfileType",256:"ImageWidth",257:"ImageHeight",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",263:"Thresholding",264:"CellWidth",265:"CellLength",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffsets",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",288:"FreeOffsets",289:"FreeByteCounts",290:"GrayResponseUnit",291:"GrayResponseCurve",292:"T4Options",293:"T6Options",296:"ResolutionUnit",297:"PageNumber",300:"ColorResponseUnit",301:"TransferFunction",305:"Software",306:"ModifyDate",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffsets",325:"TileByteCounts",326:"BadFaxLines",327:"CleanFaxData",328:"ConsecutiveBadFaxLines",330:"SubIFD",332:"InkSet",333:"InkNames",334:"NumberofInks",336:"DotRange",337:"TargetPrinter",338:"ExtraSamples",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",342:"TransferRange",343:"ClipPath",344:"XClipPathUnits",345:"YClipPathUnits",346:"Indexed",347:"JPEGTables",351:"OPIProxy",400:"GlobalParametersIFD",401:"ProfileType",402:"FaxProfile",403:"CodingMethods",404:"VersionYear",405:"ModeNumber",433:"Decode",434:"DefaultImageColor",435:"T82Options",437:"JPEGTables",512:"JPEGProc",513:"ThumbnailOffset",514:"ThumbnailLength",515:"JPEGRestartInterval",517:"JPEGLosslessPredictors",518:"JPEGPointTransforms",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",559:"StripRowCounts",700:"ApplicationNotes",999:"USPTOMiscellaneous",4096:"RelatedImageFileFormat",4097:"RelatedImageWidth",4098:"RelatedImageHeight",18246:"Rating",18247:"XP_DIP_XML",18248:"StitchInfo",18249:"RatingPercent",32781:"ImageID",32931:"WangTag1",32932:"WangAnnotation",32933:"WangTag3",32934:"WangTag4",32995:"Matteing",32996:"DataType",32997:"ImageDepth",32998:"TileDepth",33405:"Model2",33421:"CFARepeatPatternDim",33422:"CFAPattern2",33423:"BatteryLevel",33424:"KodakIFD",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33445:"MDFileTag",33446:"MDScalePixel",33447:"MDColorTable",33448:"MDLabName",33449:"MDSampleInfo",33450:"MDPrepDate",33451:"MDPrepTime",33452:"MDFileUnits",33550:"PixelScale",33589:"AdventScale",33590:"AdventRevision",33628:"UIC1Tag",33629:"UIC2Tag",33630:"UIC3Tag",33631:"UIC4Tag",33723:"IPTC-NAA",33918:"IntergraphPacketData",33919:"IntergraphFlagRegisters",33920:"IntergraphMatrix",33921:"INGRReserved",33922:"ModelTiePoint",34016:"Site",34017:"ColorSequence",34018:"IT8Header",34019:"RasterPadding",34020:"BitsPerRunLength",34021:"BitsPerExtendedRunLength",34022:"ColorTable",34023:"ImageColorIndicator",34024:"BackgroundColorIndicator",34025:"ImageColorValue",34026:"BackgroundColorValue",34027:"PixelIntensityRange",34028:"TransparencyIndicator",34029:"ColorCharacterization",34030:"HCUsage",34031:"TrapIndicator",34032:"CMYKEquivalent",34118:"SEMInfo",34152:"AFCP_IPTC",34232:"PixelMagicJBIGOptions",34264:"ModelTransform",34306:"WB_GRGBLevels",34310:"LeafData",34377:"PhotoshopSettings",34665:"ExifOffset",34675:"ICC_Profile",34687:"TIFF_FXExtensions",34688:"MultiProfiles",34689:"SharedData",34690:"T88Options",34732:"ImageLayer",34735:"GeoTiffDirectory",34736:"GeoTiffDoubleParams",34737:"GeoTiffAsciiParams",34850:"ExposureProgram",34852:"SpectralSensitivity",34853:"GPSInfo",34855:"ISO",34856:"Opto-ElectricConvFactor",34857:"Interlace",34858:"TimeZoneOffset",34859:"SelfTimerMode",34864:"SensitivityType",34865:"StandardOutputSensitivity",34866:"RecommendedExposureIndex",34867:"ISOSpeed",34868:"ISOSpeedLatitudeyyy",34869:"ISOSpeedLatitudezzz",34908:"FaxRecvParams",34909:"FaxSubAddress",34910:"FaxRecvTime",34954:"LeafSubIFD",36864:"ExifVersion",36867:"DateTimeOriginal",36868:"CreateDate",37121:"ComponentsConfiguration",37122:"CompressedBitsPerPixel",37377:"ShutterSpeedValue",37378:"ApertureValue",37379:"BrightnessValue",37380:"ExposureCompensation",37381:"MaxApertureValue",37382:"SubjectDistance",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",37387:"FlashEnergy",37388:"SpatialFrequencyResponse",37389:"Noise",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37394:"SecurityClassification",37395:"ImageHistory",37396:"SubjectArea",37397:"ExposureIndex",37398:"TIFF-EPStandardID",37399:"SensingMethod",37434:"CIP3DataFile",37435:"CIP3Sheet",37436:"CIP3Side",37439:"StoNits",37500:"MakerNote",37510:"UserComment",37520:"SubSecTime",37521:"SubSecTimeOriginal",37522:"SubSecTimeDigitized",37679:"MSDocumentText",37680:"MSPropertySetStorage",37681:"MSDocumentTextPosition",37724:"ImageSourceData",40091:"XPTitle",40092:"XPComment",40093:"XPAuthor",40094:"XPKeywords",40095:"XPSubject",40960:"FlashpixVersion",40961:"ColorSpace",40962:"ExifImageWidth",40963:"ExifImageHeight",40964:"RelatedSoundFile",40965:"InteropOffset",41483:"FlashEnergy",41484:"SpatialFrequencyResponse",41485:"Noise",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41489:"ImageNumber",41490:"SecurityClassification",41491:"ImageHistory",41492:"SubjectLocation",41493:"ExposureIndex",41494:"TIFF-EPStandardID",41495:"SensingMethod",41728:"FileSource",41729:"SceneType",41730:"CFAPattern",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41988:"DigitalZoomRatio",41989:"FocalLengthIn35mmFormat",41990:"SceneCaptureType",41991:"GainControl",41992:"Contrast",41993:"Saturation",41994:"Sharpness",41995:"DeviceSettingDescription",41996:"SubjectDistanceRange",42016:"ImageUniqueID",42032:"OwnerName",42033:"SerialNumber",42034:"LensInfo",42035:"LensMake",42036:"LensModel",42037:"LensSerialNumber",42112:"GDALMetadata",42113:"GDALNoData",42240:"Gamma",44992:"ExpandSoftware",44993:"ExpandLens",44994:"ExpandFilm",44995:"ExpandFilterLens",44996:"ExpandScanner",44997:"ExpandFlashLamp",48129:"PixelFormat",48130:"Transformation",48131:"Uncompressed",48132:"ImageType",48256:"ImageWidth",48257:"ImageHeight",48258:"WidthResolution",48259:"HeightResolution",48320:"ImageOffset",48321:"ImageByteCount",48322:"AlphaOffset",48323:"AlphaByteCount",48324:"ImageDataDiscard",48325:"AlphaDataDiscard",50215:"OceScanjobDesc",50216:"OceApplicationSelector",50217:"OceIDNumber",50218:"OceImageLogic",50255:"Annotations",50341:"PrintIM",50560:"USPTOOriginalContentType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50715:"BlackLevelDeltaH",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50725:"ReductionMatrix1",50726:"ReductionMatrix2",50727:"AnalogBalance",50728:"AsShotNeutral",50729:"AsShotWhiteXY",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50733:"BayerGreenSplit",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"DNGLensInfo",50737:"ChromaBlurRadius",50738:"AntiAliasStrength",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50752:"RawImageSegmentation",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50784:"AliasLayerMetadata",50827:"OriginalRawFileName",50828:"OriginalRawFileData",50829:"ActiveArea",50830:"MaskedAreas",50831:"AsShotICCProfile",50832:"AsShotPreProfileMatrix",50833:"CurrentICCProfile",50834:"CurrentPreProfileMatrix",50879:"ColorimetricReference",50898:"PanasonicTitle",50899:"PanasonicTitle2",50931:"CameraCalibrationSig",50932:"ProfileCalibrationSig",50933:"ProfileIFD",50934:"AsShotProfileName",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50968:"PreviewSettingsName",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",50973:"OriginalRawFileDigest",50974:"SubTileBlockSize",50975:"RowInterleaveFactor",50981:"ProfileLookTableDims",50982:"ProfileLookTableData",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51043:"TimeCodes",51044:"FrameRate",51058:"TStop",51081:"ReelName",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualitySize",51091:"OriginalDefaultCropSize",51105:"CameraLabel",51107:"ProfileHueSatMapEncoding",51108:"ProfileLookTableEncoding",51109:"BaselineExposureOffset",51110:"DefaultBlackRender",51111:"NewRawImageDigest",51112:"RawToPreviewGain",51125:"DefaultUserCrop",59932:"Padding",59933:"OffsetSchema",65e3:"OwnerName",65001:"SerialNumber",65002:"Lens",65024:"KDC_IFD",65100:"RawFile",65101:"Converter",65102:"WhiteBalance",65105:"Exposure",65106:"Shadows",65107:"Brightness",65108:"Contrast",65109:"Saturation",65110:"Sharpness",65111:"Smoothness",65112:"MoireFilter"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude",5:"GPSAltitudeRef",6:"GPSAltitude",7:"GPSTimeStamp",8:"GPSSatellites",9:"GPSStatus",10:"GPSMeasureMode",11:"GPSDOP",12:"GPSSpeedRef",13:"GPSSpeed",14:"GPSTrackRef",15:"GPSTrack",16:"GPSImgDirectionRef",17:"GPSImgDirection",18:"GPSMapDatum",19:"GPSDestLatitudeRef",20:"GPSDestLatitude",21:"GPSDestLongitudeRef",22:"GPSDestLongitude",23:"GPSDestBearingRef",24:"GPSDestBearing",25:"GPSDestDistanceRef",26:"GPSDestDistance",27:"GPSProcessingMethod",28:"GPSAreaInformation",29:"GPSDateStamp",30:"GPSDifferential",31:"GPSHPositioningError"}}},{}],58:[function(_,T,b){function x(s,i){switch(s){case 1:return i.nextUInt8();case 3:return i.nextUInt16();case 4:return i.nextUInt32();case 5:return[i.nextUInt32(),i.nextUInt32()];case 6:return i.nextInt8();case 8:return i.nextUInt16();case 9:return i.nextUInt32();case 10:return[i.nextInt32(),i.nextInt32()];case 11:return i.nextFloat();case 12:return i.nextDouble();default:throw new Error("Invalid format while decoding: "+s)}}function c(s){switch(s){case 1:case 2:case 6:case 7:return 1;case 3:case 8:return 2;case 4:case 9:case 11:return 4;case 5:case 10:case 12:return 8;default:return 0}}function p(s,i){var t=i.nextUInt16(),e=i.nextUInt16(),l=c(e),h=i.nextUInt32(),n=l*h,f,a;if(n>4&&(i=s.openWithOffset(i.nextUInt32())),e===2){f=i.nextString(h);var m=f.indexOf("\0");m!==-1&&(f=f.substr(0,m))}else if(e===7)f=i.nextBuffer(h);else if(e!==0)for(f=[],a=0;a<h;++a)f.push(x(e,i));return n<4&&i.skip(4-n),[t,f,e]}function v(s,i,t){var e=i.nextUInt16(),l,h;for(h=0;h<e;++h)l=p(s,i),t(l[0],l[1],l[2])}function o(s){var i=s.nextString(6);if(i!=="Exif\0\0")throw new Error("Invalid EXIF header");var t=s.mark(),e=s.nextUInt16();if(e===18761)s.setBigEndian(!1);else if(e===19789)s.setBigEndian(!0);else throw new Error("Invalid TIFF header");if(s.nextUInt16()!==42)throw new Error("Invalid TIFF data");return t}T.exports={IFD0:1,IFD1:2,GPSIFD:3,SubIFD:4,InteropIFD:5,parseTags:function(s,i){var t;try{t=o(s)}catch{return!1}var e,l,h,n=t.openWithOffset(s.nextUInt32()),f=this.IFD0;v(t,n,function(A,M,I){switch(A){case 34853:l=M[0];break;case 34665:e=M[0];break;default:i(f,A,M,I);break}});var a=n.nextUInt32();if(a!==0){var m=t.openWithOffset(a);v(t,m,i.bind(null,this.IFD1))}if(l){var g=t.openWithOffset(l);v(t,g,i.bind(null,this.GPSIFD))}if(e){var y=t.openWithOffset(e),E=this.InteropIFD;v(t,y,function(A,M,I){A===40965?h=M[0]:i(E,A,M,I)})}if(h){var S=t.openWithOffset(h);v(t,S,i.bind(null,this.InteropIFD))}return!0}}},{}],59:[function(_,T,b){T.exports={parseSections:function(x,c){var p,v;for(x.setBigEndian(!0);x.remainingLength()>0&&v!==218;){if(x.nextUInt8()!==255)throw new Error("Invalid JPEG section offset");v=x.nextUInt8(),v>=208&&v<=217||v===218?p=0:p=x.nextUInt16()-2,c(v,x.branch(0,p)),x.skip(p)}},getSizeFromSOFSection:function(x){return x.skip(1),{height:x.nextUInt16(),width:x.nextUInt16()}},getSectionName:function(x){var c,p;switch(x){case 216:c="SOI";break;case 196:c="DHT";break;case 219:c="DQT";break;case 221:c="DRI";break;case 218:c="SOS";break;case 254:c="COM";break;case 217:c="EOI";break;default:x>=224&&x<=239?(c="APP",p=x-224):x>=192&&x<=207&&x!==196&&x!==200&&x!==204?(c="SOF",p=x-192):x>=208&&x<=215&&(c="RST",p=x-208);break}var v={name:c};return typeof p=="number"&&(v.index=p),v}}},{}],60:[function(_,T,b){var x=_("./jpeg"),c=_("./exif"),p=_("./simplify");function v(s,i,t,e,l,h,n){this.startMarker=s,this.tags=i,this.imageSize=t,this.thumbnailOffset=e,this.thumbnailLength=l,this.thumbnailType=h,this.app1Offset=n}v.prototype={hasThumbnail:function(s){return!this.thumbnailOffset||!this.thumbnailLength?!1:typeof s!="string"?!0:s.toLowerCase().trim()==="image/jpeg"?this.thumbnailType===6:s.toLowerCase().trim()==="image/tiff"?this.thumbnailType===1:!1},getThumbnailOffset:function(){return this.app1Offset+6+this.thumbnailOffset},getThumbnailLength:function(){return this.thumbnailLength},getThumbnailBuffer:function(){return this._getThumbnailStream().nextBuffer(this.thumbnailLength)},_getThumbnailStream:function(){return this.startMarker.openWithOffset(this.getThumbnailOffset())},getImageSize:function(){return this.imageSize},getThumbnailSize:function(){var s=this._getThumbnailStream(),i;return x.parseSections(s,function(t,e){x.getSectionName(t).name==="SOF"&&(i=x.getSizeFromSOFSection(e))}),i}};function o(s){this.stream=s,this.flags={readBinaryTags:!1,resolveTagNames:!0,simplifyValues:!0,imageSize:!0,hidePointers:!0,returnTags:!0}}o.prototype={enableBinaryFields:function(s){return this.flags.readBinaryTags=!!s,this},enablePointers:function(s){return this.flags.hidePointers=!s,this},enableTagNames:function(s){return this.flags.resolveTagNames=!!s,this},enableImageSize:function(s){return this.flags.imageSize=!!s,this},enableReturnTags:function(s){return this.flags.returnTags=!!s,this},enableSimpleValues:function(s){return this.flags.simplifyValues=!!s,this},parse:function(){var s=this.stream.mark(),i=s.openWithOffset(0),t=this.flags,e,l,h,n,f,a,m,g,y;return t.resolveTagNames&&(m=_("./exif-tags")),t.resolveTagNames?(e={},g=function(E){return e[E.name]},y=function(E,S){e[E.name]=S}):(e=[],g=function(E){var S;for(S=0;S<e.length;++S)if(e[S].type===E.type&&e[S].section===E.section)return e.value},y=function(E,S){var A;for(A=0;A<e.length;++A)if(e[A].type===E.type&&e[A].section===E.section){e.value=S;return}}),x.parseSections(i,function(E,S){var A,M=S.offsetFrom(s);E===225?(A=c.parseTags(S,function(I,R,H,L){if(!(!t.readBinaryTags&&L===7)){if(R===513){if(h=H[0],t.hidePointers)return}else if(R===514){if(n=H[0],t.hidePointers)return}else if(R===259&&(f=H[0],t.hidePointers))return;if(!!t.returnTags)if(t.simplifyValues&&(H=p.simplifyValue(H,L)),t.resolveTagNames){var j=I===c.GPSIFD?m.gps:m.exif,V=j[R];V||(V=m.exif[R]),e.hasOwnProperty(V)||(e[V]=H)}else e.push({section:I,type:R,value:H})}}),A&&(a=M)):t.imageSize&&x.getSectionName(E).name==="SOF"&&(l=x.getSizeFromSOFSection(S))}),t.simplifyValues&&(p.castDegreeValues(g,y),p.castDateValues(g,y)),new v(s,e,l,h,n,f,a)}},T.exports=o},{"./exif":58,"./exif-tags":57,"./jpeg":59,"./simplify":61}],61:[function(_,T,b){var x=_("./exif"),c=_("./date"),p=[{section:x.GPSIFD,type:2,name:"GPSLatitude",refType:1,refName:"GPSLatitudeRef",posVal:"N"},{section:x.GPSIFD,type:4,name:"GPSLongitude",refType:3,refName:"GPSLongitudeRef",posVal:"E"}],v=[{section:x.SubIFD,type:306,name:"ModifyDate"},{section:x.SubIFD,type:36867,name:"DateTimeOriginal"},{section:x.SubIFD,type:36868,name:"CreateDate"},{section:x.SubIFD,type:306,name:"ModifyDate"}];T.exports={castDegreeValues:function(o,s){p.forEach(function(i){var t=o(i);if(t){var e=o({section:i.section,type:i.refType,name:i.refName}),l=e===i.posVal?1:-1,h=(t[0]+t[1]/60+t[2]/3600)*l;s(i,h)}})},castDateValues:function(o,s){v.forEach(function(i){var t=o(i);if(t){var e=c.parseExifDate(t);typeof e<"u"&&s(i,e)}})},simplifyValue:function(o,s){return Array.isArray(o)&&(o=o.map(function(i){return s===10||s===5?i[0]/i[1]:i}),o.length===1&&(o=o[0])),o}}},{"./date":55,"./exif":58}],62:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault"),c=x(_("@babel/runtime/helpers/toConsumableArray")),p=function(t){return(0,c.default)(t).map(function(e){return e.charCodeAt(0)})},v=p("META-INF/mozilla.rsa"),o=p("[Content_Types].xml"),s=p("_rels/.rels");T.exports=function(i){var t=i instanceof Uint8Array?i:new Uint8Array(i);if(!(t&&t.length>1))return null;var e=function(I,R){R=Object.assign({offset:0},R);for(var H=0;H<I.length;H++)if(R.mask){if(I[H]!==(R.mask[H]&t[H+R.offset]))return!1}else if(I[H]!==t[H+R.offset])return!1;return!0},l=function(I,R){return e(p(I),R)};if(e([255,216,255]))return{ext:"jpg",mime:"image/jpeg"};if(e([137,80,78,71,13,10,26,10]))return{ext:"png",mime:"image/png"};if(e([71,73,70]))return{ext:"gif",mime:"image/gif"};if(e([87,69,66,80],{offset:8}))return{ext:"webp",mime:"image/webp"};if(e([70,76,73,70]))return{ext:"flif",mime:"image/flif"};if((e([73,73,42,0])||e([77,77,0,42]))&&e([67,82],{offset:8}))return{ext:"cr2",mime:"image/x-canon-cr2"};if(e([73,73,42,0])||e([77,77,0,42]))return{ext:"tif",mime:"image/tiff"};if(e([66,77]))return{ext:"bmp",mime:"image/bmp"};if(e([73,73,188]))return{ext:"jxr",mime:"image/vnd.ms-photo"};if(e([56,66,80,83]))return{ext:"psd",mime:"image/vnd.adobe.photoshop"};if(e([80,75,3,4])){if(e([109,105,109,101,116,121,112,101,97,112,112,108,105,99,97,116,105,111,110,47,101,112,117,98,43,122,105,112],{offset:30}))return{ext:"epub",mime:"application/epub+zip"};if(e(v,{offset:30}))return{ext:"xpi",mime:"application/x-xpinstall"};if(l("mimetypeapplication/vnd.oasis.opendocument.text",{offset:30}))return{ext:"odt",mime:"application/vnd.oasis.opendocument.text"};if(l("mimetypeapplication/vnd.oasis.opendocument.spreadsheet",{offset:30}))return{ext:"ods",mime:"application/vnd.oasis.opendocument.spreadsheet"};if(l("mimetypeapplication/vnd.oasis.opendocument.presentation",{offset:30}))return{ext:"odp",mime:"application/vnd.oasis.opendocument.presentation"};var h=function(I){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return I.findIndex(function(H,L,j){return L>=R&&j[L]===80&&j[L+1]===75&&j[L+2]===3&&j[L+3]===4})},n=0,f=!1,a=null;do{var m=n+30;if(f||(f=e(o,{offset:m})||e(s,{offset:m})),a||(l("word/",{offset:m})?a={ext:"docx",mime:"application/vnd.openxmlformats-officedocument.wordprocessingml.document"}:l("ppt/",{offset:m})?a={ext:"pptx",mime:"application/vnd.openxmlformats-officedocument.presentationml.presentation"}:l("xl/",{offset:m})&&(a={ext:"xlsx",mime:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"})),f&&a)return a;n=h(t,m)}while(n>=0);if(a)return a}if(e([80,75])&&(t[2]===3||t[2]===5||t[2]===7)&&(t[3]===4||t[3]===6||t[3]===8))return{ext:"zip",mime:"application/zip"};if(e([117,115,116,97,114],{offset:257}))return{ext:"tar",mime:"application/x-tar"};if(e([82,97,114,33,26,7])&&(t[6]===0||t[6]===1))return{ext:"rar",mime:"application/x-rar-compressed"};if(e([31,139,8]))return{ext:"gz",mime:"application/gzip"};if(e([66,90,104]))return{ext:"bz2",mime:"application/x-bzip2"};if(e([55,122,188,175,39,28]))return{ext:"7z",mime:"application/x-7z-compressed"};if(e([120,1]))return{ext:"dmg",mime:"application/x-apple-diskimage"};if(e([51,103,112,53])||e([0,0,0])&&e([102,116,121,112],{offset:4})&&(e([109,112,52,49],{offset:8})||e([109,112,52,50],{offset:8})||e([105,115,111,109],{offset:8})||e([105,115,111,50],{offset:8})||e([109,109,112,52],{offset:8})||e([77,52,86],{offset:8})||e([100,97,115,104],{offset:8})))return{ext:"mp4",mime:"video/mp4"};if(e([77,84,104,100]))return{ext:"mid",mime:"audio/midi"};if(e([26,69,223,163])){var g=t.subarray(4,4100),y=g.findIndex(function(M,I,R){return R[I]===66&&R[I+1]===130});if(y!==-1){var E=y+3,S=function(I){return(0,c.default)(I).every(function(R,H){return g[E+H]===R.charCodeAt(0)})};if(S("matroska"))return{ext:"mkv",mime:"video/x-matroska"};if(S("webm"))return{ext:"webm",mime:"video/webm"}}}if(e([0,0,0,20,102,116,121,112,113,116,32,32])||e([102,114,101,101],{offset:4})||e([102,116,121,112,113,116,32,32],{offset:4})||e([109,100,97,116],{offset:4})||e([119,105,100,101],{offset:4}))return{ext:"mov",mime:"video/quicktime"};if(e([82,73,70,70])){if(e([65,86,73],{offset:8}))return{ext:"avi",mime:"video/vnd.avi"};if(e([87,65,86,69],{offset:8}))return{ext:"wav",mime:"audio/vnd.wave"};if(e([81,76,67,77],{offset:8}))return{ext:"qcp",mime:"audio/qcelp"}}if(e([48,38,178,117,142,102,207,17,166,217]))return{ext:"wmv",mime:"video/x-ms-wmv"};if(e([0,0,1,186])||e([0,0,1,179]))return{ext:"mpg",mime:"video/mpeg"};if(e([102,116,121,112,51,103],{offset:4}))return{ext:"3gp",mime:"video/3gpp"};for(var A=0;A<2&&A<t.length-16;A++){if(e([73,68,51],{offset:A})||e([255,226],{offset:A,mask:[255,226]}))return{ext:"mp3",mime:"audio/mpeg"};if(e([255,228],{offset:A,mask:[255,228]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,248],{offset:A,mask:[255,252]}))return{ext:"mp2",mime:"audio/mpeg"};if(e([255,240],{offset:A,mask:[255,252]}))return{ext:"mp4",mime:"audio/mpeg"}}if(e([102,116,121,112,77,52,65],{offset:4})||e([77,52,65,32]))return{ext:"m4a",mime:"audio/mp4"};if(e([79,112,117,115,72,101,97,100],{offset:28}))return{ext:"opus",mime:"audio/opus"};if(e([79,103,103,83]))return e([128,116,104,101,111,114,97],{offset:28})?{ext:"ogv",mime:"video/ogg"}:e([1,118,105,100,101,111,0],{offset:28})?{ext:"ogm",mime:"video/ogg"}:e([127,70,76,65,67],{offset:28})?{ext:"oga",mime:"audio/ogg"}:e([83,112,101,101,120,32,32],{offset:28})?{ext:"spx",mime:"audio/ogg"}:e([1,118,111,114,98,105,115],{offset:28})?{ext:"ogg",mime:"audio/ogg"}:{ext:"ogx",mime:"application/ogg"};if(e([102,76,97,67]))return{ext:"flac",mime:"audio/x-flac"};if(e([77,65,67,32]))return{ext:"ape",mime:"audio/ape"};if(e([119,118,112,107]))return{ext:"wv",mime:"audio/wavpack"};if(e([35,33,65,77,82,10]))return{ext:"amr",mime:"audio/amr"};if(e([37,80,68,70]))return{ext:"pdf",mime:"application/pdf"};if(e([77,90]))return{ext:"exe",mime:"application/x-msdownload"};if((t[0]===67||t[0]===70)&&e([87,83],{offset:1}))return{ext:"swf",mime:"application/x-shockwave-flash"};if(e([123,92,114,116,102]))return{ext:"rtf",mime:"application/rtf"};if(e([0,97,115,109]))return{ext:"wasm",mime:"application/wasm"};if(e([119,79,70,70])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff",mime:"font/woff"};if(e([119,79,70,50])&&(e([0,1,0,0],{offset:4})||e([79,84,84,79],{offset:4})))return{ext:"woff2",mime:"font/woff2"};if(e([76,80],{offset:34})&&(e([0,0,1],{offset:8})||e([1,0,2],{offset:8})||e([2,0,2],{offset:8})))return{ext:"eot",mime:"application/vnd.ms-fontobject"};if(e([0,1,0,0,0]))return{ext:"ttf",mime:"font/ttf"};if(e([79,84,84,79,0]))return{ext:"otf",mime:"font/otf"};if(e([0,0,1,0]))return{ext:"ico",mime:"image/x-icon"};if(e([0,0,2,0]))return{ext:"cur",mime:"image/x-icon"};if(e([70,76,86,1]))return{ext:"flv",mime:"video/x-flv"};if(e([37,33]))return{ext:"ps",mime:"application/postscript"};if(e([253,55,122,88,90,0]))return{ext:"xz",mime:"application/x-xz"};if(e([83,81,76,105]))return{ext:"sqlite",mime:"application/x-sqlite3"};if(e([78,69,83,26]))return{ext:"nes",mime:"application/x-nintendo-nes-rom"};if(e([67,114,50,52]))return{ext:"crx",mime:"application/x-google-chrome-extension"};if(e([77,83,67,70])||e([73,83,99,40]))return{ext:"cab",mime:"application/vnd.ms-cab-compressed"};if(e([33,60,97,114,99,104,62,10,100,101,98,105,97,110,45,98,105,110,97,114,121]))return{ext:"deb",mime:"application/x-deb"};if(e([33,60,97,114,99,104,62]))return{ext:"ar",mime:"application/x-unix-archive"};if(e([237,171,238,219]))return{ext:"rpm",mime:"application/x-rpm"};if(e([31,160])||e([31,157]))return{ext:"Z",mime:"application/x-compress"};if(e([76,90,73,80]))return{ext:"lz",mime:"application/x-lzip"};if(e([208,207,17,224,161,177,26,225]))return{ext:"msi",mime:"application/x-msi"};if(e([6,14,43,52,2,5,1,1,13,1,2,1,1,2]))return{ext:"mxf",mime:"application/mxf"};if(e([71],{offset:4})&&(e([71],{offset:192})||e([71],{offset:196})))return{ext:"mts",mime:"video/mp2t"};if(e([66,76,69,78,68,69,82]))return{ext:"blend",mime:"application/x-blender"};if(e([66,80,71,251]))return{ext:"bpg",mime:"image/bpg"};if(e([0,0,0,12,106,80,32,32,13,10,135,10])){if(e([106,112,50,32],{offset:20}))return{ext:"jp2",mime:"image/jp2"};if(e([106,112,120,32],{offset:20}))return{ext:"jpx",mime:"image/jpx"};if(e([106,112,109,32],{offset:20}))return{ext:"jpm",mime:"image/jpm"};if(e([109,106,112,50],{offset:20}))return{ext:"mj2",mime:"image/mj2"}}if(e([70,79,82,77,0]))return{ext:"aif",mime:"audio/aiff"};if(l("<?xml "))return{ext:"xml",mime:"application/xml"};if(e([66,79,79,75,77,79,66,73],{offset:60}))return{ext:"mobi",mime:"application/x-mobipocket-ebook"};if(e([102,116,121,112],{offset:4})){if(e([109,105,102,49],{offset:8}))return{ext:"heic",mime:"image/heif"};if(e([109,115,102,49],{offset:8}))return{ext:"heic",mime:"image/heif-sequence"};if(e([104,101,105,99],{offset:8})||e([104,101,105,120],{offset:8}))return{ext:"heic",mime:"image/heic"};if(e([104,101,118,99],{offset:8})||e([104,101,118,120],{offset:8}))return{ext:"heic",mime:"image/heic-sequence"}}return e([171,75,84,88,32,49,49,187,13,10,26,10])?{ext:"ktx",mime:"image/ktx"}:null}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20}],63:[function(_,T,b){var x=_("is-callable"),c=Object.prototype.toString,p=Object.prototype.hasOwnProperty,v=function(e,l,h){for(var n=0,f=e.length;n<f;n++)p.call(e,n)&&(h==null?l(e[n],n,e):l.call(h,e[n],n,e))},o=function(e,l,h){for(var n=0,f=e.length;n<f;n++)h==null?l(e.charAt(n),n,e):l.call(h,e.charAt(n),n,e)},s=function(e,l,h){for(var n in e)p.call(e,n)&&(h==null?l(e[n],n,e):l.call(h,e[n],n,e))},i=function(e,l,h){if(!x(l))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=h),c.call(e)==="[object Array]"?v(e,l,n):typeof e=="string"?o(e,l,n):s(e,l,n)};T.exports=i},{"is-callable":77}],64:[function(_,T,b){function x(o,s,i,l){var e=0,l=l===void 0?{}:l,h=l.loop===void 0?null:l.loop,n=l.palette===void 0?null:l.palette;if(s<=0||i<=0||s>65535||i>65535)throw new Error("Width/Height invalid.");function f(M){var I=M.length;if(I<2||I>256||I&I-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return I}o[e++]=71,o[e++]=73,o[e++]=70,o[e++]=56,o[e++]=57,o[e++]=97;var a=0,m=0;if(n!==null){for(var g=f(n);g>>=1;)++a;if(g=1<<a,--a,l.background!==void 0){if(m=l.background,m>=g)throw new Error("Background index out of range.");if(m===0)throw new Error("Background index explicitly passed as 0.")}}if(o[e++]=s&255,o[e++]=s>>8&255,o[e++]=i&255,o[e++]=i>>8&255,o[e++]=(n!==null?128:0)|a,o[e++]=m,o[e++]=0,n!==null)for(var y=0,E=n.length;y<E;++y){var S=n[y];o[e++]=S>>16&255,o[e++]=S>>8&255,o[e++]=S&255}if(h!==null){if(h<0||h>65535)throw new Error("Loop count invalid.");o[e++]=33,o[e++]=255,o[e++]=11,o[e++]=78,o[e++]=69,o[e++]=84,o[e++]=83,o[e++]=67,o[e++]=65,o[e++]=80,o[e++]=69,o[e++]=50,o[e++]=46,o[e++]=48,o[e++]=3,o[e++]=1,o[e++]=h&255,o[e++]=h>>8&255,o[e++]=0}var A=!1;this.addFrame=function(M,I,R,H,L,j){if(A===!0&&(--e,A=!1),j=j===void 0?{}:j,M<0||I<0||M>65535||I>65535)throw new Error("x/y invalid.");if(R<=0||H<=0||R>65535||H>65535)throw new Error("Width/Height invalid.");if(L.length<R*H)throw new Error("Not enough pixels for the frame size.");var V=!0,G=j.palette;if(G==null&&(V=!1,G=n),G==null)throw new Error("Must supply either a local or global palette.");for(var U=f(G),Y=0;U>>=1;)++Y;U=1<<Y;var ee=j.delay===void 0?0:j.delay,le=j.disposal===void 0?0:j.disposal;if(le<0||le>3)throw new Error("Disposal out of range.");var he=!1,oe=0;if(j.transparent!==void 0&&j.transparent!==null&&(he=!0,oe=j.transparent,oe<0||oe>=U))throw new Error("Transparent color index.");if((le!==0||he||ee!==0)&&(o[e++]=33,o[e++]=249,o[e++]=4,o[e++]=le<<2|(he===!0?1:0),o[e++]=ee&255,o[e++]=ee>>8&255,o[e++]=oe,o[e++]=0),o[e++]=44,o[e++]=M&255,o[e++]=M>>8&255,o[e++]=I&255,o[e++]=I>>8&255,o[e++]=R&255,o[e++]=R>>8&255,o[e++]=H&255,o[e++]=H>>8&255,o[e++]=V===!0?128|Y-1:0,V===!0)for(var q=0,K=G.length;q<K;++q){var Q=G[q];o[e++]=Q>>16&255,o[e++]=Q>>8&255,o[e++]=Q&255}return e=c(o,e,Y<2?2:Y,L),e},this.end=function(){return A===!1&&(o[e++]=59,A=!0),e},this.getOutputBuffer=function(){return o},this.setOutputBuffer=function(M){o=M},this.getOutputBufferPosition=function(){return e},this.setOutputBufferPosition=function(M){e=M}}function c(o,s,i,t){o[s++]=i;var e=s++,l=1<<i,h=l-1,n=l+1,f=n+1,a=i+1,m=0,g=0;function y(j){for(;m>=j;)o[s++]=g&255,g>>=8,m-=8,s===e+256&&(o[e]=255,e=s++)}function E(j){g|=j<<m,m+=a,y(8)}var S=t[0]&h,A={};E(l);for(var M=1,I=t.length;M<I;++M){var R=t[M]&h,H=S<<8|R,L=A[H];if(L===void 0){for(g|=S<<m,m+=a;m>=8;)o[s++]=g&255,g>>=8,m-=8,s===e+256&&(o[e]=255,e=s++);f===4096?(E(l),f=n+1,a=i+1,A={}):(f>=1<<a&&++a,A[H]=f++),S=R}else S=L}return E(S),E(n),y(1),e+1===s?o[e]=0:(o[e]=s-e-1,o[s++]=0),s}function p(o){var s=0;if(o[s++]!==71||o[s++]!==73||o[s++]!==70||o[s++]!==56||(o[s++]+1&253)!==56||o[s++]!==97)throw new Error("Invalid GIF 87a/89a header.");var i=o[s++]|o[s++]<<8,t=o[s++]|o[s++]<<8,e=o[s++],l=e>>7,h=e&7,n=1<<h+1;o[s++],o[s++];var f=null,a=null;l&&(f=s,a=n,s+=n*3);var m=!0,g=[],y=0,E=null,S=0,A=null;for(this.width=i,this.height=t;m&&s<o.length;)switch(o[s++]){case 33:switch(o[s++]){case 255:if(o[s]!==11||o[s+1]==78&&o[s+2]==69&&o[s+3]==84&&o[s+4]==83&&o[s+5]==67&&o[s+6]==65&&o[s+7]==80&&o[s+8]==69&&o[s+9]==50&&o[s+10]==46&&o[s+11]==48&&o[s+12]==3&&o[s+13]==1&&o[s+16]==0)s+=14,A=o[s++]|o[s++]<<8,s++;else for(s+=12;;){var M=o[s++];if(!(M>=0))throw Error("Invalid block size");if(M===0)break;s+=M}break;case 249:if(o[s++]!==4||o[s+4]!==0)throw new Error("Invalid graphics extension block.");var I=o[s++];y=o[s++]|o[s++]<<8,E=o[s++],(I&1)===0&&(E=null),S=I>>2&7,s++;break;case 254:for(;;){var M=o[s++];if(!(M>=0))throw Error("Invalid block size");if(M===0)break;s+=M}break;default:throw new Error("Unknown graphic control label: 0x"+o[s-1].toString(16))}break;case 44:var R=o[s++]|o[s++]<<8,H=o[s++]|o[s++]<<8,L=o[s++]|o[s++]<<8,j=o[s++]|o[s++]<<8,V=o[s++],G=V>>7,U=V>>6&1,Y=V&7,ee=1<<Y+1,le=f,he=a,oe=!1;if(G){var oe=!0;le=s,he=ee,s+=ee*3}var q=s;for(s++;;){var M=o[s++];if(!(M>=0))throw Error("Invalid block size");if(M===0)break;s+=M}g.push({x:R,y:H,width:L,height:j,has_local_palette:oe,palette_offset:le,palette_size:he,data_offset:q,data_length:s-q,transparent_index:E,interlaced:!!U,delay:y,disposal:S});break;case 59:m=!1;break;default:throw new Error("Unknown gif block: 0x"+o[s-1].toString(16))}this.numFrames=function(){return g.length},this.loopCount=function(){return A},this.frameInfo=function(K){if(K<0||K>=g.length)throw new Error("Frame index out of range.");return g[K]},this.decodeAndBlitFrameBGRA=function(K,Q){var te=this.frameInfo(K),ce=te.width*te.height,we=new Uint8Array(ce);v(o,te.data_offset,we,ce);var be=te.palette_offset,xe=te.transparent_index;xe===null&&(xe=256);var Ie=te.width,me=i-Ie,ve=Ie,re=(te.y*i+te.x)*4,se=((te.y+te.height)*i+te.x)*4,fe=re,J=me*4;te.interlaced===!0&&(J+=i*4*7);for(var z=8,B=0,F=we.length;B<F;++B){var Z=we[B];if(ve===0&&(fe+=J,ve=Ie,fe>=se&&(J=me*4+i*4*(z-1),fe=re+(Ie+me)*(z<<1),z>>=1)),Z===xe)fe+=4;else{var D=o[be+Z*3],O=o[be+Z*3+1],ie=o[be+Z*3+2];Q[fe++]=ie,Q[fe++]=O,Q[fe++]=D,Q[fe++]=255}--ve}},this.decodeAndBlitFrameRGBA=function(K,Q){var te=this.frameInfo(K),ce=te.width*te.height,we=new Uint8Array(ce);v(o,te.data_offset,we,ce);var be=te.palette_offset,xe=te.transparent_index;xe===null&&(xe=256);var Ie=te.width,me=i-Ie,ve=Ie,re=(te.y*i+te.x)*4,se=((te.y+te.height)*i+te.x)*4,fe=re,J=me*4;te.interlaced===!0&&(J+=i*4*7);for(var z=8,B=0,F=we.length;B<F;++B){var Z=we[B];if(ve===0&&(fe+=J,ve=Ie,fe>=se&&(J=me*4+i*4*(z-1),fe=re+(Ie+me)*(z<<1),z>>=1)),Z===xe)fe+=4;else{var D=o[be+Z*3],O=o[be+Z*3+1],ie=o[be+Z*3+2];Q[fe++]=D,Q[fe++]=O,Q[fe++]=ie,Q[fe++]=255}--ve}}}function v(o,s,i,t){for(var e=o[s++],l=1<<e,h=l+1,n=h+1,f=e+1,a=(1<<f)-1,m=0,g=0,y=0,E=o[s++],S=new Int32Array(4096),A=null;;){for(;m<16&&E!==0;)g|=o[s++]<<m,m+=8,E===1?E=o[s++]:--E;if(m<f)break;var M=g&a;if(g>>=f,m-=f,M===l){n=h+1,f=e+1,a=(1<<f)-1,A=null;continue}else if(M===h)break;for(var I=M<n?M:A,R=0,H=I;H>l;)H=S[H]>>8,++R;var L=H,j=y+R+(I!==M?1:0);if(j>t){console.log("Warning, gif stream longer than expected.");return}i[y++]=L,y+=R;var V=y;for(I!==M&&(i[y++]=L),H=I;R--;)H=S[H],i[--V]=H&255,H>>=8;A!==null&&n<4096&&(S[n++]=A<<8|L,n>=a+1&&f<12&&(++f,a=a<<1|1)),A=M}return y!==t&&console.log("Warning, gif stream shorter than expected."),i}try{b.GifWriter=x,b.GifReader=p}catch{}},{}],65:[function(_,T,b){(function(x){class c{constructor(...v){if(v.length===0)throw new Error("constructor requires parameters");const o=v[0];if(o!==null&&typeof o=="object")if(o instanceof c){const s=o.bitmap;this.bitmap={width:s.width,height:s.height,data:new x(s.width*s.height*4)},s.data.copy(this.bitmap.data)}else if(o.width&&o.height&&o.data)this.bitmap=o;else throw new Error("unrecognized constructor parameters");else if(typeof o=="number"&&typeof v[1]=="number"){const s=o,i=v[1],t=v[2];this.bitmap={width:s,height:i},x.isBuffer(t)?this.bitmap.data=t:(this.bitmap.data=new x(s*i*4),typeof t=="number"&&this.fillRGBA(t))}else throw new Error("unrecognized constructor parameters")}blit(v,o,s,i,t,e,l){if(i+e>this.bitmap.width)throw new Error("copy exceeds width of source bitmap");if(o+e>v.bitmap.width)throw new Error("copy exceeds width of target bitmap");if(t+l>this.bitmap.height)throw new Error("copy exceeds height of source bitmap");if(s+l>v.bitmap.height)throw new Erro("copy exceeds height of target bitmap");const h=this.bitmap.data,n=v.bitmap.data,f=this.bitmap.width*4,a=v.bitmap.width*4,m=e*4;let g=t*f+i*4,y=s*a+o*4;for(;--l>=0;)h.copy(n,y,g,g+m),g+=f,y+=a;return this}fillRGBA(v){const o=this.bitmap.data,s=this.bitmap.height*4;let i=0;for(;i<s;)o.writeUInt32BE(v,i),i+=4;for(;i<o.length;)o.copy(o,i,0,s),i+=s;return this}getRGBA(v,o){const s=(o*this.bitmap.width+v)*4;return this.bitmap.data.readUInt32BE(s)}getRGBASet(){const v=new Set,o=this.bitmap.data;for(let s=0;s<o.length;s+=4)v.add(o.readUInt32BE(s,!0));return v}greyscale(){const v=this.bitmap.data;return this.scan(0,0,this.bitmap.width,this.bitmap.height,(o,s,i)=>{const t=Math.round(.299*v[i]+.587*v[i+1]+.114*v[i+2]);v[i]=t,v[i+1]=t,v[i+2]=t}),this}reframe(v,o,s,i,t){const e=v<0?0:v,l=o<0?0:o,h=s+e>this.bitmap.width?this.bitmap.width-e:s,n=i+l>this.bitmap.height?this.bitmap.height-l:i,f=v<0?-v:0,a=o<0?-o:0;let m;if(t===void 0){if(e!==v||l!=o||h!==s||n!==i)throw new GifError("fillRGBA required for this reframing");m=new c(s,i)}else m=new c(s,i,t);return this.blit(m,f,a,e,l,h,n),this.bitmap=m.bitmap,this}scale(v){if(v===1)return;if(!Number.isInteger(v)||v<1)throw new Error("the scale must be an integer >= 1");const o=this.bitmap.width,s=this.bitmap.height,i=o*v*4,t=this.bitmap.data,e=new x(s*i*v);let l=0,h,n=0;for(let f=0;f<s;++f){h=n;for(let a=0;a<o;++a){const m=t.readUInt32BE(l,!0);for(let g=0;g<v;++g)e.writeUInt32BE(m,n),n+=4;l+=4}for(let a=1;a<v;++a)e.copy(e,n,h,n),n+=i,h+=i}return this.bitmap={width:o*v,height:s*v,data:e},this}scanAllCoords(v){const o=this.bitmap.width,s=this.bitmap.data.length;let i=0,t=0;for(let e=0;e<s;e+=4)v(i,t,e),++i===o&&(i=0,++t)}scanAllIndexes(v){const o=this.bitmap.data.length;for(let s=0;s<o;s+=4)v(s)}}T.exports=c}).call(this,_("buffer").Buffer)},{buffer:48}],66:[function(_,T,b){class x{constructor(v,o,s){this.width=s.width,this.height=s.height,this.loops=s.loops,this.usesTransparency=s.usesTransparency,this.colorScope=s.colorScope,this.frames=o,this.buffer=v}}x.GlobalColorsPreferred=0,x.GlobalColorsOnly=1,x.LocalColorsOnly=2;class c extends Error{constructor(v){super(v),v instanceof Error&&(this.stack="Gif"+v.stack)}}b.Gif=x,b.GifError=c},{}],67:[function(_,T,b){(function(x,c){const p=_("omggif"),{Gif:v,GifError:o}=_("./gif");let s;x.nextTick(()=>{s=_("./gifutil")});const{GifFrame:i}=_("./gifframe"),t=200,e=100;class l{constructor(M={}){this._transparentRGB=null,typeof M.transparentRGB=="number"&&M.transparentRGB!==0&&(this._transparentRGBA=M.transparentRGB*256),this._testInitialBufferSize=0}decodeGif(M){try{let I;try{I=new p.GifReader(M)}catch(j){throw new o(j)}const R=I.numFrames(),H=[],L={width:I.width,height:I.height,loops:I.loopCount()};L.usesTransparency=!1;for(let j=0;j<R;++j){const V=this._decodeFrame(I,j,L.usesTransparency);H.push(V.frame),V.usesTransparency&&(L.usesTransparency=!0)}return Promise.resolve(new v(M,H,L))}catch(I){return Promise.reject(I)}}encodeGif(M,I={}){try{if(M===null||M.length===0)throw new o("there are no frames");const R=s.getMaxDimensions(M);return I=Object.assign({},I),I.width=R.maxWidth,I.height=R.maxHeight,I.loops=I.loops||0,I.colorScope=I.colorScope||v.GlobalColorsPreferred,Promise.resolve(this._encodeGif(M,I))}catch(R){return Promise.reject(R)}}_decodeFrame(M,I,R){let H,L;try{if(H=M.frameInfo(I),L=new c(M.width*M.height*4),M.decodeAndBlitFrameRGBA(I,L),H.width!==M.width||H.height!==M.height){if(H.y&&(L=L.slice(H.y*M.width*4)),M.width>H.width)for(let G=0;G<H.height;++G)L.copy(L,G*H.width*4,(H.x+G*M.width)*4,(H.x+G*M.width)*4+H.width*4);L=L.slice(0,H.width*H.height*4)}}catch(G){throw new o(G)}let j=!1;if(this._transparentRGBA===null){if(!R)for(let G=3;G<L.length;G+=4)L[G]===0&&(j=!0,G=L.length)}else for(let G=3;G<L.length;G+=4)L[G]===0&&(L.writeUInt32BE(this._transparentRGBA,G-3),j=!0);return{frame:new i(H.width,H.height,L,{xOffset:H.x,yOffset:H.y,disposalMethod:H.disposal,interlaced:H.interlaced,delayCentisecs:H.delay}),usesTransparency:j}}_encodeGif(M,I){let R;if(I.colorScope===v.LocalColorsOnly)R=s.getColorInfo(M,0);else if(R=s.getColorInfo(M,256),!R.colors){if(I.colorScope===v.GlobalColorsOnly)throw new o("Too many color indexes for global color table");I.colorScope=v.LocalColorsOnly}I.usesTransparency=R.usesTransparency;const H=R.palettes;return I.colorScope===v.LocalColorsOnly?a(M,I,2e3,H):f(M,I,2e3,R)}_getSizeEstimateGlobal(M,I){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let R=t+3*256;const H=E(M);return I.forEach(L=>{R+=g(L,H)}),R}_getSizeEstimateLocal(M,I){if(this._testInitialBufferSize>0)return this._testInitialBufferSize;let R=t;for(let H=0;H<I.length;++H){const L=M[H],j=E(L);R+=g(I[H],j)}return R}}b.GifCodec=l;function h(A,M){const I=A.indexOf(M);return I===-1?null:I}function n(A,M){for(var I=0,R=A.length-1,H;I<=R;)if(H=Math.floor((I+R)/2),A[H]>M)R=H-1;else if(A[H]<M)I=H+1;else return H;return null}function f(A,M,I,R){const H={colors:R.colors.slice(),usesTransparency:R.usesTransparency};m(H);const L={palette:H.colors,loop:M.loops};let j=new c(I),V;try{V=new p.GifWriter(j,M.width,M.height,L)}catch(G){throw new o(G)}for(let G=0;G<A.length;++G)j=S(V,G,A[G],R,!1);return new v(j.slice(0,V.end()),A,M)}function a(A,M,I,R){const H={loop:M.loops};let L=new c(I),j;try{j=new p.GifWriter(L,M.width,M.height,H)}catch(V){throw new o(V)}for(let V=0;V<A.length;++V)L=S(j,V,A[V],R[V],!0);return new v(L.slice(0,j.end()),A,M)}function m(A){const M=A.colors;A.usesTransparency&&M.push(0);const I=M.length;let R=2;for(;I>R;)R<<=1;M.length=R,M.fill(0,I)}function g(A,M){let I=A.bitmap.width*A.bitmap.height;return I=Math.ceil(I*M/8),I+=Math.ceil(I/255),e+I+3*256}function y(A,M,I){const R=I.colors,H=R.length<=8?h:n,L=M.bitmap.data,j=new c(L.length/4);let V=R.length,G=0,U=0;for(;G<L.length;){if(L[G+3]!==0){const Y=L.readUInt32BE(G,!0)>>8&16777215;j[U]=H(R,Y)}else j[U]=V;G+=4,++U}if(I.usesTransparency){if(V===256)throw new o(`Frame ${A} already has 256 colorsand so can't use transparency`)}else V=null;return{buffer:j,transparentIndex:V}}function E(A){let M=A.indexCount,I=0;for(--M;M;)++I,M>>=1;return I>0?I:1}function S(A,M,I,R,H){if(I.interlaced)throw new o("writing interlaced GIFs is not supported");const L=y(M,I,R),j={delay:I.delayCentisecs,disposal:I.disposalMethod,transparent:L.transparentIndex};H&&(m(R),j.palette=R.colors);try{let V=A.getOutputBuffer(),G=A.getOutputBufferPosition(),U,Y=!0;for(;Y;)if(U=A.addFrame(I.xOffset,I.yOffset,I.bitmap.width,I.bitmap.height,L.buffer,j),Y=!1,U>=V.length-1){const ee=new c(V.length*1.5);V.copy(ee),A.setOutputBuffer(ee),A.setOutputBufferPosition(G),V=ee,Y=!0}return V}catch(V){throw new o(V)}}}).call(this,_("_process"),_("buffer").Buffer)},{"./gif":66,"./gifframe":68,"./gifutil":69,_process:133,buffer:48,omggif:64}],68:[function(_,T,b){const x=_("./bitmapimage");_("./gif");class c extends x{constructor(...v){if(super(...v),v[0]instanceof c){const o=v[0];this.xOffset=o.xOffset,this.yOffset=o.yOffset,this.disposalMethod=o.disposalMethod,this.delayCentisecs=o.delayCentisecs,this.interlaced=o.interlaced}else{const o=v[v.length-1];let s={};typeof o=="object"&&!(o instanceof x)&&(s=o),this.xOffset=s.xOffset||0,this.yOffset=s.yOffset||0,this.disposalMethod=s.disposalMethod!==void 0?s.disposalMethod:c.DisposeToBackgroundColor,this.delayCentisecs=s.delayCentisecs||8,this.interlaced=s.interlaced||!1}}getPalette(){const v=new Set,o=this.bitmap.data;let s=0,i=!1;for(;s<o.length;){if(o[s+3]===0)i=!0;else{const h=o.readUInt32BE(s,!0)>>8&16777215;v.add(h)}s+=4}const t=new Array(v.size),e=v.values();for(s=0;s<t.length;++s)t[s]=e.next().value;t.sort((h,n)=>h-n);let l=t.length;return i&&++l,{colors:t,usesTransparency:i,indexCount:l}}}c.DisposeToAnything=0,c.DisposeNothing=1,c.DisposeToBackgroundColor=2,c.DisposeToPrevious=3,b.GifFrame=c},{"./bitmapimage":65,"./gif":66}],69:[function(_,T,b){(function(x){const c=_("fs"),p=_("image-q"),v=_("./bitmapimage"),{GifFrame:o}=_("./gifframe"),{GifError:s}=_("./gif"),{GifCodec:i}=_("./gifcodec"),t=[".jpg",".jpeg",".png",".bmp"],e=new i;b.cloneFrames=function(f){let a=[];return f.forEach(m=>{a.push(new o(m))}),a},b.getColorInfo=function(f,a){let m=!1;const g=[];for(let M=0;M<f.length;++M){let I=f[M].getPalette();if(I.usesTransparency&&(m=!0),I.indexCount>256)throw new s(`Frame ${M} uses more than 256 color indexes`);g.push(I)}if(a===0)return{usesTransparency:m,palettes:g};const y=new Set;g.forEach(M=>{M.colors.forEach(I=>{y.add(I)})});let E=y.size;if(m&&++E,a&&E>a)return{usesTransparency:m,palettes:g};const S=new Array(y.size),A=y.values();for(let M=0;M<S.length;++M)S[M]=A.next().value;return S.sort((M,I)=>M-I),{colors:S,indexCount:E,usesTransparency:m,palettes:g}},b.copyAsJimp=function(f,a){return b.shareAsJimp(f,new v(a))},b.getMaxDimensions=function(f){let a=0,m=0;return f.forEach(g=>{const y=g.xOffset+g.bitmap.width;y>a&&(a=y);const E=g.yOffset+g.bitmap.height;E>m&&(m=E)}),{maxWidth:a,maxHeight:m}},b.quantizeDekker=function(f,a,m){a=a||256,l(f,"NeuQuantFloat",a,0,m)},b.quantizeSorokin=function(f,a,m,g){a=a||256,m=m||"min-pop";let y;switch(m){case"min-pop":y=2;break;case"top-pop":y=1;break;default:throw new Error(`Invalid quantizeSorokin histogram '${m}'`)}l(f,"RGBQuant",a,y,g)},b.quantizeWu=function(f,a,m,g){if(a=a||256,m=m||5,m<1||m>8)throw new Error("Invalid quantization quality");l(f,"WuQuant",a,m,g)},b.read=function(f,a){return a=a||e,x.isBuffer(f)?a.decodeGif(f):h(f).then(m=>a.decodeGif(m))},b.shareAsJimp=function(f,a){const m=new f(a.bitmap.width,a.bitmap.height,0);return m.bitmap.data=a.bitmap.data,m},b.write=function(f,a,m,g){g=g||e;const y=f.match(/\.[a-zA-Z]+$/);if(y!==null&&t.includes(y[0].toLowerCase()))throw new Error(`GIF '${f}' has an unexpected suffix`);return g.encodeGif(a,m).then(E=>n(f,E.buffer).then(()=>E))};function l(f,a,m,g,y){const E=Array.isArray(f)?f:[f],S=["FloydSteinberg","FalseFloydSteinberg","Stucki","Atkinson","Jarvis","Burkes","Sierra","TwoSierra","SierraLite"];if(y){if(S.indexOf(y.ditherAlgorithm)<0)throw new Error(`Invalid ditherAlgorithm '${y.ditherAlgorithm}'`);y.serpentine===void 0&&(y.serpentine=!0),y.minimumColorDistanceToDither===void 0&&(y.minimumColorDistanceToDither=0),y.calculateErrorLikeGIMP===void 0&&(y.calculateErrorLikeGIMP=!1)}const A=new p.distance.Euclidean,M=new p.palette[a](A,m,g);let I;y?I=new p.image.ErrorDiffusionArray(A,p.image.ErrorDiffusionArrayKernel[y.ditherAlgorithm],y.serpentine,y.minimumColorDistanceToDither,y.calculateErrorLikeGIMP):I=new p.image.NearestColor(A);const R=[];E.forEach(L=>{const j=L.bitmap.data,V=new ArrayBuffer(j.length),G=new Uint32Array(V);for(let Y=0,ee=0;Y<j.length;Y+=4,++ee)G[ee]=j.readUInt32LE(Y,!0);const U=p.utils.PointContainer.fromUint32Array(G,L.bitmap.width,L.bitmap.height);M.sample(U),R.push(U)});const H=M.quantize();for(let L=0;L<E.length;++L){const j=E[L].bitmap.data,G=I.quantize(R[L],H).toUint32Array();for(let U=0,Y=0;U<j.length;U+=4,++Y)j.writeUInt32LE(G[Y],U)}}function h(f){return new Promise((a,m)=>{c.readFile(f,(g,y)=>g?m(g):a(y))})}function n(f,a){return new Promise((m,g)=>{c.writeFile(f,a,y=>y?g(y):m())})}}).call(this,{isBuffer:_("../../is-buffer/index.js")})},{"../../is-buffer/index.js":76,"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,fs:47,"image-q":74}],70:[function(_,T,b){const x=_("./bitmapimage"),{Gif:c,GifError:p}=_("./gif"),{GifCodec:v}=_("./gifcodec"),{GifFrame:o}=_("./gifframe"),s=_("./gifutil");T.exports={BitmapImage:x,Gif:c,GifCodec:v,GifFrame:o,GifUtil:s,GifError:p}},{"./bitmapimage":65,"./gif":66,"./gifcodec":67,"./gifframe":68,"./gifutil":69}],71:[function(_,T,b){(function(x){var c;typeof C<"u"?c=C:typeof x<"u"?c=x:typeof self<"u"?c=self:c={},T.exports=c}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{}],72:[function(_,T,b){var x=_("http"),c=_("url"),p=T.exports;for(var v in x)x.hasOwnProperty(v)&&(p[v]=x[v]);p.request=function(s,i){return s=o(s),x.request.call(this,s,i)},p.get=function(s,i){return s=o(s),x.get.call(this,s,i)};function o(s){if(typeof s=="string"&&(s=c.parse(s)),s.protocol||(s.protocol="https:"),s.protocol!=="https:")throw new Error('Protocol "'+s.protocol+'" not supported. Expected "https:"');return s}},{http:156,url:180}],73:[function(_,T,b){b.read=function(x,c,p,v,o){var s,i,t=o*8-v-1,e=(1<<t)-1,l=e>>1,h=-7,n=p?o-1:0,f=p?-1:1,a=x[c+n];for(n+=f,s=a&(1<<-h)-1,a>>=-h,h+=t;h>0;s=s*256+x[c+n],n+=f,h-=8);for(i=s&(1<<-h)-1,s>>=-h,h+=v;h>0;i=i*256+x[c+n],n+=f,h-=8);if(s===0)s=1-l;else{if(s===e)return i?NaN:(a?-1:1)*(1/0);i=i+Math.pow(2,v),s=s-l}return(a?-1:1)*i*Math.pow(2,s-v)},b.write=function(x,c,p,v,o,s){var i,t,e,l=s*8-o-1,h=(1<<l)-1,n=h>>1,f=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,a=v?0:s-1,m=v?1:-1,g=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(t=isNaN(c)?1:0,i=h):(i=Math.floor(Math.log(c)/Math.LN2),c*(e=Math.pow(2,-i))<1&&(i--,e*=2),i+n>=1?c+=f/e:c+=f*Math.pow(2,1-n),c*e>=2&&(i++,e/=2),i+n>=h?(t=0,i=h):i+n>=1?(t=(c*e-1)*Math.pow(2,o),i=i+n):(t=c*Math.pow(2,n-1)*Math.pow(2,o),i=0));o>=8;x[p+a]=t&255,a+=m,t/=256,o-=8);for(i=i<<o|t,l+=o;l>0;x[p+a]=i&255,a+=m,i/=256,l-=8);x[p+a-m]|=g*128}},{}],74:[function(_,T,b){(function(c,p){typeof b=="object"&&typeof T=="object"?T.exports=p():typeof b=="object"?b.iq=p():c.iq=p()})(this,function(){return function(x){var c={};function p(v){if(c[v])return c[v].exports;var o=c[v]={exports:{},id:v,loaded:!1};return x[v].call(o.exports,o,o.exports,p),o.loaded=!0,o.exports}return p.m=x,p.c=c,p.p="",p(0)}([function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var v=p(1);c.constants=v;var o=p(3);c.conversion=o;var s=p(12);c.distance=s;var i=p(20);c.palette=i;var t=p(30);c.image=t;var e=p(35);c.quality=e;var l=p(37);c.utils=l},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * constants.ts - part of Image Quantization Library
 */var v=p(2);c.bt709=v},function(x,c){var p;(function(s){s[s.RED=.2126]="RED",s[s.GREEN=.7152]="GREEN",s[s.BLUE=.0722]="BLUE",s[s.WHITE=1]="WHITE"})(p||(p={})),c.Y=p;var v;(function(s){s[s.RED=.64]="RED",s[s.GREEN=.3]="GREEN",s[s.BLUE=.15]="BLUE",s[s.WHITE=.3127]="WHITE"})(v||(v={})),c.x=v;var o;(function(s){s[s.RED=.33]="RED",s[s.GREEN=.6]="GREEN",s[s.BLUE=.06]="BLUE",s[s.WHITE=.329]="WHITE"})(o||(o={})),c.y=o},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var v=p(4);c.rgb2xyz=v.rgb2xyz;var o=p(5);c.rgb2hsl=o.rgb2hsl;var s=p(7);c.rgb2lab=s.rgb2lab;var i=p(9);c.lab2xyz=i.lab2xyz;var t=p(10);c.lab2rgb=t.lab2rgb;var e=p(8);c.xyz2lab=e.xyz2lab;var l=p(11);c.xyz2rgb=l.xyz2rgb},function(x,c){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2xyz.ts - part of Image Quantization Library
 */function p(o){return o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92}function v(o,s,i){return o=p(o/255),s=p(s/255),i=p(i/255),{x:o*.4124+s*.3576+i*.1805,y:o*.2126+s*.7152+i*.0722,z:o*.0193+s*.1192+i*.9505}}c.rgb2xyz=v},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2hsl.ts - part of Image Quantization Library
 */var v=p(6);function o(s,i,t){var e=v.min3(s,i,t),l=v.max3(s,i,t),h=l-e,n=(e+l)/510,f=0;n>0&&n<1&&(f=h/(n<.5?l+e:510-l-e));var a=0;return h>0&&(l===s?a=(i-t)/h:l===i?a=2+(t-s)/h:a=4+(s-i)/h,a*=60,a<0&&(a+=360)),{h:a,s:f,l:n}}c.rgb2hsl=o},function(x,c){function p(l){return l*(Math.PI/180)}c.degrees2radians=p;function v(l,h,n){var f=l;return f<h&&(f=h),f<n&&(f=n),f}c.max3=v;function o(l,h,n){var f=l;return f>h&&(f=h),f>n&&(f=n),f}c.min3=o;function s(l,h,n){return l>n&&(l=n),l<h&&(l=h),l|0}c.intInRange=s;function i(l){return l=Math.round(l),l>255?l=255:l<0&&(l=0),l}c.inRange0to255Rounded=i;function t(l){return l>255?l=255:l<0&&(l=0),l}c.inRange0to255=t;function e(l,h){var n=typeof l[0],f;if(n==="number"||n==="string"){for(var a=Object.create(null),m=0,g=l.length;m<g;m++){var y=l[m];a[y]||a[y]===0||(a[y]=m)}f=l.sort(function(S,A){return h(S,A)||a[S]-a[A]})}else{var E=l.slice(0);f=l.sort(function(S,A){return h(S,A)||E.indexOf(S)-E.indexOf(A)})}return f}c.stableSort=e},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgb2lab.ts - part of Image Quantization Library
 */var v=p(4),o=p(8);function s(i,t,e){var l=v.rgb2xyz(i,t,e);return o.xyz2lab(l.x,l.y,l.z)}c.rgb2lab=s},function(x,c){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2lab.ts - part of Image Quantization Library
 */var p=.95047,v=1,o=1.08883;function s(t){return t>.008856?Math.pow(t,1/3):7.787*t+16/116}function i(t,e,l){if(t=s(t/p),e=s(e/v),l=s(l/o),116*e-16<0)throw new Error("xxx");return{L:Math.max(0,116*e-16),a:500*(t-e),b:200*(e-l)}}c.xyz2lab=i},function(x,c){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2xyz.ts - part of Image Quantization Library
 */var p=.95047,v=1,o=1.08883;function s(t){return t>.206893034?Math.pow(t,3):(t-16/116)/7.787}function i(t,e,l){var h=(t+16)/116,n=e/500+h,f=h-l/200;return{x:p*s(n),y:v*s(h),z:o*s(f)}}c.lab2xyz=i},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * lab2rgb.ts - part of Image Quantization Library
 */var v=p(9),o=p(11);function s(i,t,e){var l=v.lab2xyz(i,t,e);return o.xyz2rgb(l.x,l.y,l.z)}c.lab2rgb=s},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * xyz2rgb.ts - part of Image Quantization Library
 */var v=p(6);function o(i){return i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i}function s(i,t,e){var l=o(i*3.2406+t*-1.5372+e*-.4986),h=o(i*-.9689+t*1.8758+e*.0415),n=o(i*.0557+t*-.204+e*1.057);return{r:v.inRange0to255Rounded(l*255),g:v.inRange0to255Rounded(h*255),b:v.inRange0to255Rounded(n*255)}}c.xyz2rgb=s},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var v=p(13);c.AbstractDistanceCalculator=v.AbstractDistanceCalculator;var o=p(14);c.CIE94Textiles=o.CIE94Textiles,c.CIE94GraphicArts=o.CIE94GraphicArts;var s=p(15);c.CIEDE2000=s.CIEDE2000;var i=p(16);c.CMETRIC=i.CMETRIC;var t=p(17);c.AbstractEuclidean=t.AbstractEuclidean,c.Euclidean=t.Euclidean,c.EuclideanRgbQuantWOAlpha=t.EuclideanRgbQuantWOAlpha,c.EuclideanRgbQuantWithAlpha=t.EuclideanRgbQuantWithAlpha;var e=p(18);c.AbstractManhattan=e.AbstractManhattan,c.Manhattan=e.Manhattan,c.ManhattanSRGB=e.ManhattanSRGB,c.ManhattanNommyde=e.ManhattanNommyde;var l=p(19);c.PNGQUANT=l.PNGQUANT},function(x,c){var p=function(){function v(){this._setDefaults(),this.setWhitePoint(255,255,255,255)}return v.prototype.setWhitePoint=function(o,s,i,t){this._whitePoint={r:o>0?255/o:0,g:s>0?255/s:0,b:i>0?255/i:0,a:t>0?255/t:0},this._maxDistance=this.calculateRaw(o,s,i,t,0,0,0,0)},v.prototype.calculateNormalized=function(o,s){return this.calculateRaw(o.r,o.g,o.b,o.a,s.r,s.g,s.b,s.a)/this._maxDistance},v.prototype._setDefaults=function(){},v}();c.AbstractDistanceCalculator=p},function(x,c,p){var v=this&&this.__extends||function(h,n){for(var f in n)n.hasOwnProperty(f)&&(h[f]=n[f]);function a(){this.constructor=h}h.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cie94.ts - part of Image Quantization Library
 */var o=p(13),s=p(7),i=p(6),t=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype.calculateRaw=function(f,a,m,g,y,E,S,A){var M=s.rgb2lab(i.inRange0to255(f*this._whitePoint.r),i.inRange0to255(a*this._whitePoint.g),i.inRange0to255(m*this._whitePoint.b)),I=s.rgb2lab(i.inRange0to255(y*this._whitePoint.r),i.inRange0to255(E*this._whitePoint.g),i.inRange0to255(S*this._whitePoint.b)),R=M.L-I.L,H=M.a-I.a,L=M.b-I.b,j=Math.sqrt(M.a*M.a+M.b*M.b),V=Math.sqrt(I.a*I.a+I.b*I.b),G=j-V,U=H*H+L*L-G*G;U=U<0?0:Math.sqrt(U);var Y=(A-g)*this._whitePoint.a*this._kA;return Math.sqrt(Math.pow(R/this._Kl,2)+Math.pow(G/(1+this._K1*j),2)+Math.pow(U/(1+this._K2*j),2)+Math.pow(Y,2))},n}(o.AbstractDistanceCalculator);c.AbstractCIE94=t;var e=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._Kl=2,this._K1=.048,this._K2=.014,this._kA=.25*50/255},n}(t);c.CIE94Textiles=e;var l=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._Kl=1,this._K1=.045,this._K2=.015,this._kA=.25*100/255},n}(t);c.CIE94GraphicArts=l},function(x,c,p){var v=this&&this.__extends||function(e,l){for(var h in l)l.hasOwnProperty(h)&&(e[h]=l[h]);function n(){this.constructor=e}e.prototype=l===null?Object.create(l):(n.prototype=l.prototype,new n)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * ciede2000.ts - part of Image Quantization Library
 */var o=p(13),s=p(7),i=p(6),t=function(e){v(l,e);function l(){e.apply(this,arguments)}return l.prototype.calculateRaw=function(h,n,f,a,m,g,y,E){var S=s.rgb2lab(i.inRange0to255(h*this._whitePoint.r),i.inRange0to255(n*this._whitePoint.g),i.inRange0to255(f*this._whitePoint.b)),A=s.rgb2lab(i.inRange0to255(m*this._whitePoint.r),i.inRange0to255(g*this._whitePoint.g),i.inRange0to255(y*this._whitePoint.b)),M=(E-a)*this._whitePoint.a*l._kA,I=this.calculateRawInLab(S,A);return Math.sqrt(I+M*M)},l.prototype.calculateRawInLab=function(h,n){var f=h.L,a=h.a,m=h.b,g=n.L,y=n.a,E=n.b,S=Math.sqrt(a*a+m*m),A=Math.sqrt(y*y+E*E),M=Math.pow((S+A)/2,7),I=.5*(1-Math.sqrt(M/(M+l._pow25to7))),R=(1+I)*a,H=(1+I)*y,L=Math.sqrt(R*R+m*m),j=Math.sqrt(H*H+E*E),V=L*j,G=l._calculatehp(m,R),U=l._calculatehp(E,H),Y=Math.abs(G-U),ee=g-f,le=j-L,he=l._calculate_dHp(V,Y,U,G),oe=l._calculate_ahp(V,Y,G,U),q=l._calculateT(oe),K=(L+j)/2,Q=Math.pow((f+g)/2-50,2),te=1+.015*Q/Math.sqrt(20+Q),ce=1+.045*K,we=1+.015*q*K,be=l._calculateRT(oe,K),xe=ee/te,Ie=le/ce,me=he/we;return Math.pow(xe,2)+Math.pow(Ie,2)+Math.pow(me,2)+be*Ie*me},l._calculatehp=function(h,n){var f=Math.atan2(h,n);return f>=0?f:f+l._deg360InRad},l._calculateRT=function(h,n){var f=Math.pow(n,7),a=2*Math.sqrt(f/(f+l._pow25to7)),m=l._deg30InRad*Math.exp(-Math.pow((h-l._deg275InRad)/l._deg25InRad,2));return-Math.sin(2*m)*a},l._calculateT=function(h){return 1-.17*Math.cos(h-l._deg30InRad)+.24*Math.cos(h*2)+.32*Math.cos(h*3+l._deg6InRad)-.2*Math.cos(h*4-l._deg63InRad)},l._calculate_ahp=function(h,n,f,a){var m=f+a;return h==0?m:n<=l._deg180InRad?m/2:m<l._deg360InRad?(m+l._deg360InRad)/2:(m-l._deg360InRad)/2},l._calculate_dHp=function(h,n,f,a){var m;return h==0?m=0:n<=l._deg180InRad?m=f-a:f<=a?m=f-a+l._deg360InRad:m=f-a-l._deg360InRad,2*Math.sqrt(h)*Math.sin(m/2)},l._kA=.25*100/255,l._pow25to7=Math.pow(25,7),l._deg360InRad=i.degrees2radians(360),l._deg180InRad=i.degrees2radians(180),l._deg30InRad=i.degrees2radians(30),l._deg6InRad=i.degrees2radians(6),l._deg63InRad=i.degrees2radians(63),l._deg275InRad=i.degrees2radians(275),l._deg25InRad=i.degrees2radians(25),l}(o.AbstractDistanceCalculator);c.CIEDE2000=t},function(x,c,p){var v=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function l(){this.constructor=i}i.prototype=t===null?Object.create(t):(l.prototype=t.prototype,new l)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * cmetric.ts - part of Image Quantization Library
 */var o=p(13),s=function(i){v(t,i);function t(){i.apply(this,arguments)}return t.prototype.calculateRaw=function(e,l,h,n,f,a,m,g){var y=(e+f)/2*this._whitePoint.r,E=(e-f)*this._whitePoint.r,S=(l-a)*this._whitePoint.g,A=(h-m)*this._whitePoint.b,M=((512+y)*E*E>>8)+4*S*S+((767-y)*A*A>>8),I=(g-n)*this._whitePoint.a;return Math.sqrt(M+I*I)},t}(o.AbstractDistanceCalculator);c.CMETRIC=s},function(x,c,p){var v=this&&this.__extends||function(h,n){for(var f in n)n.hasOwnProperty(f)&&(h[f]=n[f]);function a(){this.constructor=h}h.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * euclidean.ts - part of Image Quantization Library
 */var o=p(13),s=p(2),i=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype.calculateRaw=function(f,a,m,g,y,E,S,A){var M=y-f,I=E-a,R=S-m,H=A-g;return Math.sqrt(this._kR*M*M+this._kG*I*I+this._kB*R*R+this._kA*H*H)},n}(o.AbstractDistanceCalculator);c.AbstractEuclidean=i;var t=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},n}(i);c.Euclidean=t;var e=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=1},n}(i);c.EuclideanRgbQuantWithAlpha=e;var l=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=0},n}(i);c.EuclideanRgbQuantWOAlpha=l},function(x,c,p){var v=this&&this.__extends||function(h,n){for(var f in n)n.hasOwnProperty(f)&&(h[f]=n[f]);function a(){this.constructor=h}h.prototype=n===null?Object.create(n):(a.prototype=n.prototype,new a)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * manhattanNeuQuant.ts - part of Image Quantization Library
 */var o=p(13),s=p(2),i=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype.calculateRaw=function(f,a,m,g,y,E,S,A){var M=y-f,I=E-a,R=S-m,H=A-g;return M<0&&(M=0-M),I<0&&(I=0-I),R<0&&(R=0-R),H<0&&(H=0-H),this._kR*M+this._kG*I+this._kB*R+this._kA*H},n}(o.AbstractDistanceCalculator);c.AbstractManhattan=i;var t=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=1,this._kG=1,this._kB=1,this._kA=1},n}(i);c.Manhattan=t;var e=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=.4984,this._kG=.8625,this._kB=.2979,this._kA=1},n}(i);c.ManhattanNommyde=e;var l=function(h){v(n,h);function n(){h.apply(this,arguments)}return n.prototype._setDefaults=function(){this._kR=s.Y.RED,this._kG=s.Y.GREEN,this._kB=s.Y.BLUE,this._kA=1},n}(i);c.ManhattanSRGB=l},function(x,c,p){var v=this&&this.__extends||function(i,t){for(var e in t)t.hasOwnProperty(e)&&(i[e]=t[e]);function l(){this.constructor=i}i.prototype=t===null?Object.create(t):(l.prototype=t.prototype,new l)};/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pngQuant.ts - part of Image Quantization Library
 */var o=p(13),s=function(i){v(t,i);function t(){i.apply(this,arguments)}return t.prototype.calculateRaw=function(e,l,h,n,f,a,m,g){var y=(g-n)*this._whitePoint.a;return this._colordifference_ch(e*this._whitePoint.r,f*this._whitePoint.r,y)+this._colordifference_ch(l*this._whitePoint.g,a*this._whitePoint.g,y)+this._colordifference_ch(h*this._whitePoint.b,m*this._whitePoint.b,y)},t.prototype._colordifference_ch=function(e,l,h){var n=e-l,f=n+h;return n*n+f*f},t}(o.AbstractDistanceCalculator);c.PNGQUANT=s},function(x,c,p){var v=p(21);c.NeuQuant=v.NeuQuant;var o=p(25);c.NeuQuantFloat=o.NeuQuantFloat;var s=p(26);c.RGBQuant=s.RGBQuant;var i=p(27);c.ColorHistogram=i.ColorHistogram;var t=p(29);c.WuQuant=t.WuQuant,c.WuColorCube=t.WuColorCube},function(x,c,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var v=p(22),o=p(24),s=3,i=function(){function e(l){this.r=this.g=this.b=this.a=l}return e.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>s,this.g>>s,this.b>>s,this.a>>s)},e.prototype.subtract=function(l,h,n,f){this.r-=l|0,this.g-=h|0,this.b-=n|0,this.a-=f|0},e}(),t=function(){function e(l,h){h===void 0&&(h=256),this._distance=l,this._pointArray=[],this._sampleFactor=1,this._networkSize=h,this._distance.setWhitePoint(255<<s,255<<s,255<<s,255<<s)}return e.prototype.sample=function(l){this._pointArray=this._pointArray.concat(l.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var l=0;l<this._networkSize;l++)this._network[l]=new i((l<<s+8)/this._networkSize|0),this._freq[l]=e._initialBias/this._networkSize|0,this._bias[l]=0},e.prototype._learn=function(){var l=this._sampleFactor,h=this._pointArray.length;h<e._minpicturebytes&&(l=1);var n=30+(l-1)/3|0,f=h/l|0,a=f/e._nCycles|0,m=e._initAlpha,g=(this._networkSize>>3)*e._radiusBias,y=g>>e._radiusBiasShift;y<=1&&(y=0);for(var E=0;E<y;E++)this._radPower[E]=m*((y*y-E*E)*e._radBias/(y*y))>>>0;var S;h<e._minpicturebytes?S=1:h%e._prime1!=0?S=e._prime1:h%e._prime2!=0?S=e._prime2:h%e._prime3!=0?S=e._prime3:S=e._prime4;for(var E=0,A=0;E<f;){var M=this._pointArray[A],I=M.b<<s,R=M.g<<s,H=M.r<<s,L=M.a<<s,j=this._contest(I,R,H,L);if(this._alterSingle(m,j,I,R,H,L),y!==0&&this._alterNeighbour(y,j,I,R,H,L),A+=S,A>=h&&(A-=h),E++,a===0&&(a=1),E%a===0){m-=m/n|0,g-=g/e._radiusDecrease|0,y=g>>e._radiusBiasShift,y<=1&&(y=0);for(var V=0;V<y;V++)this._radPower[V]=m*((y*y-V*V)*e._radBias/(y*y))>>>0}}},e.prototype._buildPalette=function(){var l=new v.Palette;return this._network.forEach(function(h){l.add(h.toPoint())}),l.sort(),l},e.prototype._alterNeighbour=function(l,h,n,f,a,m){var g=h-l;g<-1&&(g=-1);var y=h+l;y>this._networkSize&&(y=this._networkSize);for(var E=h+1,S=h-1,A=1;E<y||S>g;){var M=this._radPower[A++]/e._alphaRadBias;if(E<y){var I=this._network[E++];I.subtract(M*(I.r-a),M*(I.g-f),M*(I.b-n),M*(I.a-m))}if(S>g){var I=this._network[S--];I.subtract(M*(I.r-a),M*(I.g-f),M*(I.b-n),M*(I.a-m))}}},e.prototype._alterSingle=function(l,h,n,f,a,m){l/=e._initAlpha;var g=this._network[h];g.subtract(l*(g.r-a),l*(g.g-f),l*(g.b-n),l*(g.a-m))},e.prototype._contest=function(l,h,n,f){for(var a=1020<<s,m=~(1<<31),g=m,y=-1,E=y,S=0;S<this._networkSize;S++){var A=this._network[S],M=this._distance.calculateNormalized(A,{r:n,g:h,b:l,a:f})*a|0;M<m&&(m=M,y=S);var I=M-(this._bias[S]>>e._initialBiasShift-s);I<g&&(g=I,E=S);var R=this._freq[S]>>e._betaShift;this._freq[S]-=R,this._bias[S]+=R<<e._gammaShift}return this._freq[y]+=e._beta,this._bias[y]-=e._betaGamma,E},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();c.NeuQuant=t},function(x,c,p){var v=p(23),o=p(5),s=10;function i(e,l){for(var h=360,n=h/l,f=n/2,a=1,m=n-f;a<l;a++,m+=n)if(e>=m&&e<m+n)return a;return 0}c.hueGroup=i;var t=function(){function e(){this._pointArray=[],this._i32idx={},this._pointContainer=new v.PointContainer,this._pointContainer.setHeight(1),this._pointArray=this._pointContainer.getPointArray()}return e.prototype.add=function(l){this._pointArray.push(l),this._pointContainer.setWidth(this._pointArray.length)},e.prototype.has=function(l){for(var h=this._pointArray.length-1;h>=0;h--)if(l.uint32===this._pointArray[h].uint32)return!0;return!1},e.prototype.getNearestColor=function(l,h){return this._pointArray[this.getNearestIndex(l,h)|0]},e.prototype.getPointContainer=function(){return this._pointContainer},e.prototype._nearestPointFromCache=function(l){return typeof this._i32idx[l]=="number"?this._i32idx[l]:-1},e.prototype.getNearestIndex=function(l,h){var n=this._nearestPointFromCache(""+h.uint32);if(n>=0)return n;var f=Number.MAX_VALUE;n=0;for(var a=0,m=this._pointArray.length;a<m;a++){var g=this._pointArray[a],y=l.calculateRaw(h.r,h.g,h.b,h.a,g.r,g.g,g.b,g.a);y<f&&(f=y,n=a)}return this._i32idx[h.uint32]=n,n},e.prototype.sort=function(){this._i32idx={},this._pointArray.sort(function(l,h){var n=o.rgb2hsl(l.r,l.g,l.b),f=o.rgb2hsl(h.r,h.g,h.b),a=l.r===l.g&&l.g===l.b?0:1+i(n.h,s),m=h.r===h.g&&h.g===h.b?0:1+i(f.h,s),g=m-a;if(g)return-g;var y=l.getLuminosity(!0),E=h.getLuminosity(!0);if(E-y!==0)return E-y;var S=(f.s*100|0)-(n.s*100|0);return S?-S:0})},e}();c.Palette=t},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * pointContainer.ts - part of Image Quantization Library
 */var v=p(24),o=function(){function s(){this._width=0,this._height=0,this._pointArray=[]}return s.prototype.getWidth=function(){return this._width},s.prototype.getHeight=function(){return this._height},s.prototype.setWidth=function(i){this._width=i},s.prototype.setHeight=function(i){this._height=i},s.prototype.getPointArray=function(){return this._pointArray},s.prototype.clone=function(){var i=new s;i._width=this._width,i._height=this._height;for(var t=0,e=this._pointArray.length;t<e;t++)i._pointArray[t]=v.Point.createByUint32(this._pointArray[t].uint32|0);return i},s.prototype.toUint32Array=function(){for(var i=this._pointArray.length,t=new Uint32Array(i),e=0;e<i;e++)t[e]=this._pointArray[e].uint32;return t},s.prototype.toUint8Array=function(){return new Uint8Array(this.toUint32Array().buffer)},s.fromHTMLImageElement=function(i){var t=i.naturalWidth,e=i.naturalHeight,l=document.createElement("canvas");l.width=t,l.height=e;var h=l.getContext("2d");return h.drawImage(i,0,0,t,e,0,0,t,e),s.fromHTMLCanvasElement(l)},s.fromHTMLCanvasElement=function(i){var t=i.width,e=i.height,l=i.getContext("2d"),h=l.getImageData(0,0,t,e);return s.fromImageData(h)},s.fromNodeCanvas=function(i){return s.fromHTMLCanvasElement(i)},s.fromImageData=function(i){var t=i.width,e=i.height;return s.fromCanvasPixelArray(i.data,t,e)},s.fromArray=function(i,t,e){var l=new Uint8Array(i);return s.fromUint8Array(l,t,e)},s.fromCanvasPixelArray=function(i,t,e){return s.fromArray(i,t,e)},s.fromUint8Array=function(i,t,e){return s.fromUint32Array(new Uint32Array(i.buffer),t,e)},s.fromUint32Array=function(i,t,e){var l=new s;l._width=t,l._height=e;for(var h=0,n=i.length;h<n;h++)l._pointArray[h]=v.Point.createByUint32(i[h]|0);return l},s}();c.PointContainer=o},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * point.ts - part of Image Quantization Library
 */var v=p(2),o=function(){function s(){this.uint32=-1>>>0,this.r=this.g=this.b=this.a=0,this.rgba=new Array(4),this.rgba[0]=0,this.rgba[1]=0,this.rgba[2]=0,this.rgba[3]=0}return s.createByQuadruplet=function(i){var t=new s;return t.r=i[0]|0,t.g=i[1]|0,t.b=i[2]|0,t.a=i[3]|0,t._loadUINT32(),t._loadQuadruplet(),t},s.createByRGBA=function(i,t,e,l){var h=new s;return h.r=i|0,h.g=t|0,h.b=e|0,h.a=l|0,h._loadUINT32(),h._loadQuadruplet(),h},s.createByUint32=function(i){var t=new s;return t.uint32=i>>>0,t._loadRGBA(),t._loadQuadruplet(),t},s.prototype.from=function(i){this.r=i.r,this.g=i.g,this.b=i.b,this.a=i.a,this.uint32=i.uint32,this.rgba[0]=i.r,this.rgba[1]=i.g,this.rgba[2]=i.b,this.rgba[3]=i.a},s.prototype.getLuminosity=function(i){var t=this.r,e=this.g,l=this.b;return i&&(t=Math.min(255,255-this.a+this.a*t/255),e=Math.min(255,255-this.a+this.a*e/255),l=Math.min(255,255-this.a+this.a*l/255)),t*v.Y.RED+e*v.Y.GREEN+l*v.Y.BLUE},s.prototype._loadUINT32=function(){this.uint32=(this.a<<24|this.b<<16|this.g<<8|this.r)>>>0},s.prototype._loadRGBA=function(){this.r=this.uint32&255,this.g=this.uint32>>>8&255,this.b=this.uint32>>>16&255,this.a=this.uint32>>>24&255},s.prototype._loadQuadruplet=function(){this.rgba[0]=this.r,this.rgba[1]=this.g,this.rgba[2]=this.b,this.rgba[3]=this.a},s}();c.Point=o},function(x,c,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * neuquant.ts - part of Image Quantization Library
 */var v=p(22),o=p(24),s=3,i=function(){function e(l){this.r=this.g=this.b=this.a=l}return e.prototype.toPoint=function(){return o.Point.createByRGBA(this.r>>s,this.g>>s,this.b>>s,this.a>>s)},e.prototype.subtract=function(l,h,n,f){this.r-=l,this.g-=h,this.b-=n,this.a-=f},e}(),t=function(){function e(l,h){h===void 0&&(h=256),this._distance=l,this._pointArray=[],this._sampleFactor=1,this._networkSize=h,this._distance.setWhitePoint(255<<s,255<<s,255<<s,255<<s)}return e.prototype.sample=function(l){this._pointArray=this._pointArray.concat(l.getPointArray())},e.prototype.quantize=function(){return this._init(),this._learn(),this._buildPalette()},e.prototype._init=function(){this._freq=[],this._bias=[],this._radPower=[],this._network=[];for(var l=0;l<this._networkSize;l++)this._network[l]=new i((l<<s+8)/this._networkSize),this._freq[l]=e._initialBias/this._networkSize,this._bias[l]=0},e.prototype._learn=function(){var l=this._sampleFactor,h=this._pointArray.length;h<e._minpicturebytes&&(l=1);var n=30+(l-1)/3,f=h/l,a=f/e._nCycles|0,m=e._initAlpha,g=(this._networkSize>>3)*e._radiusBias,y=g>>e._radiusBiasShift;y<=1&&(y=0);for(var E=0;E<y;E++)this._radPower[E]=m*((y*y-E*E)*e._radBias/(y*y));var S;h<e._minpicturebytes?S=1:h%e._prime1!=0?S=e._prime1:h%e._prime2!=0?S=e._prime2:h%e._prime3!=0?S=e._prime3:S=e._prime4;for(var E=0,A=0;E<f;){var M=this._pointArray[A],I=M.b<<s,R=M.g<<s,H=M.r<<s,L=M.a<<s,j=this._contest(I,R,H,L);if(this._alterSingle(m,j,I,R,H,L),y!=0&&this._alterNeighbour(y,j,I,R,H,L),A+=S,A>=h&&(A-=h),E++,a==0&&(a=1),E%a==0){m-=m/n,g-=g/e._radiusDecrease,y=g>>e._radiusBiasShift,y<=1&&(y=0);for(var V=0;V<y;V++)this._radPower[V]=m*((y*y-V*V)*e._radBias/(y*y))}}},e.prototype._buildPalette=function(){var l=new v.Palette;return this._network.forEach(function(h){l.add(h.toPoint())}),l.sort(),l},e.prototype._alterNeighbour=function(l,h,n,f,a,m){var g=h-l;g<-1&&(g=-1);var y=h+l;y>this._networkSize&&(y=this._networkSize);for(var E=h+1,S=h-1,A=1;E<y||S>g;){var M=this._radPower[A++]/e._alphaRadBias;if(E<y){var I=this._network[E++];I.subtract(M*(I.r-a),M*(I.g-f),M*(I.b-n),M*(I.a-m))}if(S>g){var I=this._network[S--];I.subtract(M*(I.r-a),M*(I.g-f),M*(I.b-n),M*(I.a-m))}}},e.prototype._alterSingle=function(l,h,n,f,a,m){l/=e._initAlpha;var g=this._network[h];g.subtract(l*(g.r-a),l*(g.g-f),l*(g.b-n),l*(g.a-m))},e.prototype._contest=function(l,h,n,f){for(var a=1020<<s,m=~(1<<31),g=m,y=-1,E=y,S=0;S<this._networkSize;S++){var A=this._network[S],M=this._distance.calculateNormalized(A,{r:n,g:h,b:l,a:f})*a;M<m&&(m=M,y=S);var I=M-(this._bias[S]>>e._initialBiasShift-s);I<g&&(g=I,E=S);var R=this._freq[S]>>e._betaShift;this._freq[S]-=R,this._bias[S]+=R<<e._gammaShift}return this._freq[y]+=e._beta,this._bias[y]-=e._betaGamma,E},e._prime1=499,e._prime2=491,e._prime3=487,e._prime4=503,e._minpicturebytes=e._prime4,e._nCycles=100,e._initialBiasShift=16,e._initialBias=1<<e._initialBiasShift,e._gammaShift=10,e._betaShift=10,e._beta=e._initialBias>>e._betaShift,e._betaGamma=e._initialBias<<e._gammaShift-e._betaShift,e._radiusBiasShift=6,e._radiusBias=1<<e._radiusBiasShift,e._radiusDecrease=30,e._alphaBiasShift=10,e._initAlpha=1<<e._alphaBiasShift,e._radBiasShift=8,e._radBias=1<<e._radBiasShift,e._alphaRadBiasShift=e._alphaBiasShift+e._radBiasShift,e._alphaRadBias=1<<e._alphaRadBiasShift,e}();c.NeuQuantFloat=t},function(x,c,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * rgbquant.ts - part of Image Quantization Library
 */var v=p(22),o=p(24),s=p(27),i=p(6),t=function(){function l(h,n,f){this.index=h,this.color=n,this.distance=f}return l}(),e=function(){function l(h,n,f){n===void 0&&(n=256),f===void 0&&(f=2),this._distance=h,this._colors=n,this._histogram=new s.ColorHistogram(f,n),this._initialDistance=.01,this._distanceIncrement=.005}return l.prototype.sample=function(h){this._histogram.sample(h)},l.prototype.quantize=function(){var h=this._histogram.getImportanceSortedColorsIDXI32();if(h.length===0)throw new Error("No colors in image");var n=this._buildPalette(h);return n.sort(),n},l.prototype._buildPalette=function(h){for(var n=new v.Palette,f=n.getPointContainer().getPointArray(),a=new Array(h.length),m=0;m<h.length;m++)f.push(o.Point.createByUint32(h[m])),a[m]=1;for(var g=f.length,y=[],E=g,S=this._initialDistance;E>this._colors;){y.length=0;for(var m=0;m<g;m++)if(a[m]!==0){for(var A=f[m],M=m+1;M<g;M++)if(a[M]!==0){var I=f[M],R=this._distance.calculateNormalized(A,I);R<S&&(y.push(new t(M,I,R)),a[M]=0,E--)}}S+=E>this._colors*3?this._initialDistance:this._distanceIncrement}if(E<this._colors){i.stableSort(y,function(G,U){return U.distance-G.distance});for(var H=0;E<this._colors&&H<y.length;){var L=y[H];a[L.index]=1,E++,H++}}for(var j=f.length,V=j-1;V>=0;V--)a[V]===0&&(V!==j-1&&(f[V]=f[j-1]),--j);return f.length=j,n},l}();c.RGBQuant=e},function(x,c,p){/**
 * @preserve TypeScript port:
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * colorHistogram.ts - part of Image Quantization Library
 */var v=p(28),o=p(6),s=function(){function i(t,e){this._method=t,this._minHueCols=e<<2,this._initColors=e<<2,this._hueStats=new v.HueStatistics(i._hueGroups,this._minHueCols),this._histogram=Object.create(null)}return i.prototype.sample=function(t){switch(this._method){case 1:this._colorStats1D(t);break;case 2:this._colorStats2D(t);break}},i.prototype.getImportanceSortedColorsIDXI32=function(){var t=this,e=o.stableSort(Object.keys(this._histogram),function(g,y){return t._histogram[y]-t._histogram[g]});if(e.length===0)return[];var l;switch(this._method){case 1:var h=Math.min(e.length,this._initColors),n=e[h-1],f=this._histogram[n];l=e.slice(0,h);for(var a=h,m=e.length;a<m&&this._histogram[e[a]]==f;)l.push(e[a++]);this._hueStats.injectIntoArray(l);break;case 2:l=e;break;default:throw new Error("Incorrect method")}return l.map(function(g){return+g})},i.prototype._colorStats1D=function(t){for(var e=this._histogram,l=t.getPointArray(),h=l.length,n=0;n<h;n++){var f=l[n].uint32;this._hueStats.check(f),f in e?e[f]++:e[f]=1}},i.prototype._colorStats2D=function(t){var e=this,l=t.getWidth(),h=t.getHeight(),n=t.getPointArray(),f=i._boxSize[0],a=i._boxSize[1],m=f*a,g=this._makeBoxes(l,h,f,a),y=this._histogram;g.forEach(function(E){var S=Math.round(E.w*E.h/m)*i._boxPixels;S<2&&(S=2);var A={};e._iterateBox(E,l,function(M){var I=n[M].uint32;e._hueStats.check(I),I in y?y[I]++:I in A?++A[I]>=S&&(y[I]=A[I]):A[I]=1})}),this._hueStats.injectIntoDictionary(y)},i.prototype._iterateBox=function(t,e,l){var h=t,n=h.y*e+h.x,f=(h.y+h.h-1)*e+(h.x+h.w-1),a=e-h.w+1,m=0,g=n;do l.call(this,g),g+=++m%h.w==0?a:1;while(g<=f)},i.prototype._makeBoxes=function(t,e,l,h){for(var n=t%l,f=e%h,a=t-n,m=e-f,g=[],y=0;y<e;y+=h)for(var E=0;E<t;E+=l)g.push({x:E,y,w:E==a?n:l,h:y==m?f:h});return g},i._boxSize=[64,64],i._boxPixels=2,i._hueGroups=10,i}();c.ColorHistogram=s},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * hueStatistics.ts - part of Image Quantization Library
 */var v=p(5),o=p(22),s=function(){function t(){this.num=0,this.cols=[]}return t}(),i=function(){function t(e,l){this._numGroups=e,this._minCols=l,this._stats=[];for(var h=0;h<=e;h++)this._stats[h]=new s;this._groupsFull=0}return t.prototype.check=function(e){this._groupsFull==this._numGroups+1&&(this.check=function(){});var l=e&255,h=e>>>8&255,n=e>>>16&255,f=l==h&&h==n?0:1+o.hueGroup(v.rgb2hsl(l,h,n).h,this._numGroups),a=this._stats[f],m=this._minCols;a.num++,!(a.num>m)&&(a.num==m&&this._groupsFull++,a.num<=m&&this._stats[f].cols.push(e))},t.prototype.injectIntoDictionary=function(e){for(var l=0;l<=this._numGroups;l++)this._stats[l].num<=this._minCols&&this._stats[l].cols.forEach(function(h){e[h]?e[h]++:e[h]=1})},t.prototype.injectIntoArray=function(e){for(var l=0;l<=this._numGroups;l++)this._stats[l].num<=this._minCols&&this._stats[l].cols.forEach(function(h){e.indexOf(h)==-1&&e.push(h)})},t}();c.HueStatistics=i},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * wuQuant.ts - part of Image Quantization Library
 */var v=p(22),o=p(24);function s(f){for(var a=[],m=0;m<f;m++)a[m]=0;return a}function i(f,a,m,g){for(var y=new Array(f),E=0;E<f;E++){y[E]=new Array(a);for(var S=0;S<a;S++){y[E][S]=new Array(m);for(var A=0;A<m;A++){y[E][S][A]=new Array(g);for(var M=0;M<g;M++)y[E][S][A][M]=0}}}return y}function t(f,a,m){for(var g=new Array(f),y=0;y<f;y++){g[y]=new Array(a);for(var E=0;E<a;E++){g[y][E]=new Array(m);for(var S=0;S<m;S++)g[y][E][S]=0}}return g}function e(f,a,m,g,y){for(var E=0;E<a;E++){f[E]=[];for(var S=0;S<m;S++){f[E][S]=[];for(var A=0;A<g;A++)f[E][S][A]=y}}}function l(f,a,m){for(var g=0;g<a;g++)f[g]=m}var h=function(){function f(){}return f}();c.WuColorCube=h;var n=function(){function f(a,m,g){m===void 0&&(m=256),g===void 0&&(g=5),this._distance=a,this._setQuality(g),this._initialize(m)}return f.prototype.sample=function(a){for(var m=a.getPointArray(),g=0,y=m.length;g<y;g++)this._addColor(m[g]);this._pixels=this._pixels.concat(m)},f.prototype.quantize=function(){this._preparePalette();for(var a=new v.Palette,m=0;m<this._colors;m++)if(this._sums[m]>0){var g=this._sums[m],y=this._reds[m]/g,E=this._greens[m]/g,S=this._blues[m]/g,A=this._alphas[m]/g,M=o.Point.createByRGBA(y|0,E|0,S|0,A|0);a.add(M)}return a.sort(),a},f.prototype._preparePalette=function(){this._calculateMoments();for(var a=0,m=s(this._colors),g=1;g<this._colors;++g){this._cut(this._cubes[a],this._cubes[g])?(m[a]=this._cubes[a].volume>1?this._calculateVariance(this._cubes[a]):0,m[g]=this._cubes[g].volume>1?this._calculateVariance(this._cubes[g]):0):(m[a]=0,g--),a=0;for(var y=m[0],E=1;E<=g;++E)m[E]>y&&(y=m[E],a=E);if(y<=0){this._colors=g+1;break}}for(var S=[],A=[],M=[],I=[],R=0;R<this._colors;++R){var H=f._volume(this._cubes[R],this._weights);H>0?(S[R]=f._volume(this._cubes[R],this._momentsRed)/H|0,A[R]=f._volume(this._cubes[R],this._momentsGreen)/H|0,M[R]=f._volume(this._cubes[R],this._momentsBlue)/H|0,I[R]=f._volume(this._cubes[R],this._momentsAlpha)/H|0):(S[R]=0,A[R]=0,M[R]=0,I[R]=0)}this._reds=s(this._colors+1),this._greens=s(this._colors+1),this._blues=s(this._colors+1),this._alphas=s(this._colors+1),this._sums=s(this._colors+1);for(var E=0,L=this._pixels.length;E<L;E++){for(var j=this._pixels[E],V=-1,G=V,U=Number.MAX_VALUE,Y=0;Y<this._colors;Y++){var ee=S[Y],le=A[Y],he=M[Y],oe=I[Y],q=this._distance.calculateRaw(ee,le,he,oe,j.r,j.g,j.b,j.a);q<U&&(U=q,G=Y)}this._reds[G]+=j.r,this._greens[G]+=j.g,this._blues[G]+=j.b,this._alphas[G]+=j.a,this._sums[G]++}},f.prototype._addColor=function(a){var m=8-this._significantBitsPerChannel,g=(a.r>>m)+1,y=(a.g>>m)+1,E=(a.b>>m)+1,S=(a.a>>m)+1;this._weights[S][g][y][E]++,this._momentsRed[S][g][y][E]+=a.r,this._momentsGreen[S][g][y][E]+=a.g,this._momentsBlue[S][g][y][E]+=a.b,this._momentsAlpha[S][g][y][E]+=a.a,this._moments[S][g][y][E]+=this._table[a.r]+this._table[a.g]+this._table[a.b]+this._table[a.a]},f.prototype._calculateMoments=function(){for(var a=[],m=[],g=[],y=[],E=[],S=[],A=t(this._sideSize,this._sideSize,this._sideSize),M=t(this._sideSize,this._sideSize,this._sideSize),I=t(this._sideSize,this._sideSize,this._sideSize),R=t(this._sideSize,this._sideSize,this._sideSize),H=t(this._sideSize,this._sideSize,this._sideSize),L=t(this._sideSize,this._sideSize,this._sideSize),j=1;j<=this._alphaMaxSideIndex;++j){e(A,this._sideSize,this._sideSize,this._sideSize,0),e(M,this._sideSize,this._sideSize,this._sideSize,0),e(I,this._sideSize,this._sideSize,this._sideSize,0),e(R,this._sideSize,this._sideSize,this._sideSize,0),e(H,this._sideSize,this._sideSize,this._sideSize,0),e(L,this._sideSize,this._sideSize,this._sideSize,0);for(var V=1;V<=this._maxSideIndex;++V){l(a,this._sideSize,0),l(m,this._sideSize,0),l(g,this._sideSize,0),l(y,this._sideSize,0),l(E,this._sideSize,0),l(S,this._sideSize,0);for(var G=1;G<=this._maxSideIndex;++G)for(var U=0,Y=0,ee=0,le=0,he=0,oe=0,q=1;q<=this._maxSideIndex;++q)U+=this._weights[j][V][G][q],Y+=this._momentsRed[j][V][G][q],ee+=this._momentsGreen[j][V][G][q],le+=this._momentsBlue[j][V][G][q],he+=this._momentsAlpha[j][V][G][q],oe+=this._moments[j][V][G][q],a[q]+=U,m[q]+=Y,g[q]+=ee,y[q]+=le,E[q]+=he,S[q]+=oe,A[V][G][q]=A[V-1][G][q]+a[q],M[V][G][q]=M[V-1][G][q]+m[q],I[V][G][q]=I[V-1][G][q]+g[q],R[V][G][q]=R[V-1][G][q]+y[q],H[V][G][q]=H[V-1][G][q]+E[q],L[V][G][q]=L[V-1][G][q]+S[q],this._weights[j][V][G][q]=this._weights[j-1][V][G][q]+A[V][G][q],this._momentsRed[j][V][G][q]=this._momentsRed[j-1][V][G][q]+M[V][G][q],this._momentsGreen[j][V][G][q]=this._momentsGreen[j-1][V][G][q]+I[V][G][q],this._momentsBlue[j][V][G][q]=this._momentsBlue[j-1][V][G][q]+R[V][G][q],this._momentsAlpha[j][V][G][q]=this._momentsAlpha[j-1][V][G][q]+H[V][G][q],this._moments[j][V][G][q]=this._moments[j-1][V][G][q]+L[V][G][q]}}},f._volumeFloat=function(a,m){return m[a.alphaMaximum][a.redMaximum][a.greenMaximum][a.blueMaximum]-m[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMaximum]-m[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMaximum]+m[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMaximum]-m[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMaximum]+m[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMaximum]+m[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMaximum]-m[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(m[a.alphaMaximum][a.redMaximum][a.greenMaximum][a.blueMinimum]-m[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMinimum]-m[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMinimum]+m[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]-m[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMinimum]+m[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]+m[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]-m[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum])},f._volume=function(a,m){return f._volumeFloat(a,m)|0},f._top=function(a,m,g,y){var E;switch(m){case f.alpha:E=y[g][a.redMaximum][a.greenMaximum][a.blueMaximum]-y[g][a.redMaximum][a.greenMinimum][a.blueMaximum]-y[g][a.redMinimum][a.greenMaximum][a.blueMaximum]+y[g][a.redMinimum][a.greenMinimum][a.blueMaximum]-(y[g][a.redMaximum][a.greenMaximum][a.blueMinimum]-y[g][a.redMaximum][a.greenMinimum][a.blueMinimum]-y[g][a.redMinimum][a.greenMaximum][a.blueMinimum]+y[g][a.redMinimum][a.greenMinimum][a.blueMinimum]);break;case f.red:E=y[a.alphaMaximum][g][a.greenMaximum][a.blueMaximum]-y[a.alphaMaximum][g][a.greenMinimum][a.blueMaximum]-y[a.alphaMinimum][g][a.greenMaximum][a.blueMaximum]+y[a.alphaMinimum][g][a.greenMinimum][a.blueMaximum]-(y[a.alphaMaximum][g][a.greenMaximum][a.blueMinimum]-y[a.alphaMaximum][g][a.greenMinimum][a.blueMinimum]-y[a.alphaMinimum][g][a.greenMaximum][a.blueMinimum]+y[a.alphaMinimum][g][a.greenMinimum][a.blueMinimum]);break;case f.green:E=y[a.alphaMaximum][a.redMaximum][g][a.blueMaximum]-y[a.alphaMaximum][a.redMinimum][g][a.blueMaximum]-y[a.alphaMinimum][a.redMaximum][g][a.blueMaximum]+y[a.alphaMinimum][a.redMinimum][g][a.blueMaximum]-(y[a.alphaMaximum][a.redMaximum][g][a.blueMinimum]-y[a.alphaMaximum][a.redMinimum][g][a.blueMinimum]-y[a.alphaMinimum][a.redMaximum][g][a.blueMinimum]+y[a.alphaMinimum][a.redMinimum][g][a.blueMinimum]);break;case f.blue:E=y[a.alphaMaximum][a.redMaximum][a.greenMaximum][g]-y[a.alphaMaximum][a.redMaximum][a.greenMinimum][g]-y[a.alphaMaximum][a.redMinimum][a.greenMaximum][g]+y[a.alphaMaximum][a.redMinimum][a.greenMinimum][g]-(y[a.alphaMinimum][a.redMaximum][a.greenMaximum][g]-y[a.alphaMinimum][a.redMaximum][a.greenMinimum][g]-y[a.alphaMinimum][a.redMinimum][a.greenMaximum][g]+y[a.alphaMinimum][a.redMinimum][a.greenMinimum][g]);break;default:throw new Error("impossible")}return E|0},f._bottom=function(a,m,g){switch(m){case f.alpha:return-g[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMaximum]+g[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMaximum]+g[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMaximum]-g[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(-g[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMinimum]+g[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]+g[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]-g[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);case f.red:return-g[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMaximum]+g[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMaximum]+g[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMaximum]-g[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(-g[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMinimum]+g[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]+g[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]-g[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);case f.green:return-g[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMaximum]+g[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMaximum]+g[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMaximum]-g[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMaximum]-(-g[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMinimum]+g[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]+g[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]-g[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);case f.blue:return-g[a.alphaMaximum][a.redMaximum][a.greenMaximum][a.blueMinimum]+g[a.alphaMaximum][a.redMaximum][a.greenMinimum][a.blueMinimum]+g[a.alphaMaximum][a.redMinimum][a.greenMaximum][a.blueMinimum]-g[a.alphaMaximum][a.redMinimum][a.greenMinimum][a.blueMinimum]-(-g[a.alphaMinimum][a.redMaximum][a.greenMaximum][a.blueMinimum]+g[a.alphaMinimum][a.redMaximum][a.greenMinimum][a.blueMinimum]+g[a.alphaMinimum][a.redMinimum][a.greenMaximum][a.blueMinimum]-g[a.alphaMinimum][a.redMinimum][a.greenMinimum][a.blueMinimum]);default:return 0}},f.prototype._calculateVariance=function(a){var m=f._volume(a,this._momentsRed),g=f._volume(a,this._momentsGreen),y=f._volume(a,this._momentsBlue),E=f._volume(a,this._momentsAlpha),S=f._volumeFloat(a,this._moments),A=f._volume(a,this._weights),M=m*m+g*g+y*y+E*E;return S-M/A},f.prototype._maximize=function(a,m,g,y,E,S,A,M,I){for(var R=f._bottom(a,m,this._momentsRed)|0,H=f._bottom(a,m,this._momentsGreen)|0,L=f._bottom(a,m,this._momentsBlue)|0,j=f._bottom(a,m,this._momentsAlpha)|0,V=f._bottom(a,m,this._weights)|0,G=0,U=-1,Y=g;Y<y;++Y){var ee=R+f._top(a,m,Y,this._momentsRed),le=H+f._top(a,m,Y,this._momentsGreen),he=L+f._top(a,m,Y,this._momentsBlue),oe=j+f._top(a,m,Y,this._momentsAlpha),q=V+f._top(a,m,Y,this._weights);if(q!=0){var K=ee*ee+le*le+he*he+oe*oe,Q=K/q;ee=E-ee,le=S-le,he=A-he,oe=M-oe,q=I-q,q!=0&&(K=ee*ee+le*le+he*he+oe*oe,Q+=K/q,Q>G&&(G=Q,U=Y))}}return{max:G,position:U}},f.prototype._cut=function(a,m){var g,y=f._volume(a,this._momentsRed),E=f._volume(a,this._momentsGreen),S=f._volume(a,this._momentsBlue),A=f._volume(a,this._momentsAlpha),M=f._volume(a,this._weights),I=this._maximize(a,f.red,a.redMinimum+1,a.redMaximum,y,E,S,A,M),R=this._maximize(a,f.green,a.greenMinimum+1,a.greenMaximum,y,E,S,A,M),H=this._maximize(a,f.blue,a.blueMinimum+1,a.blueMaximum,y,E,S,A,M),L=this._maximize(a,f.alpha,a.alphaMinimum+1,a.alphaMaximum,y,E,S,A,M);if(L.max>=I.max&&L.max>=R.max&&L.max>=H.max){if(g=f.alpha,L.position<0)return!1}else I.max>=L.max&&I.max>=R.max&&I.max>=H.max?g=f.red:R.max>=L.max&&R.max>=I.max&&R.max>=H.max?g=f.green:g=f.blue;switch(m.redMaximum=a.redMaximum,m.greenMaximum=a.greenMaximum,m.blueMaximum=a.blueMaximum,m.alphaMaximum=a.alphaMaximum,g){case f.red:m.redMinimum=a.redMaximum=I.position,m.greenMinimum=a.greenMinimum,m.blueMinimum=a.blueMinimum,m.alphaMinimum=a.alphaMinimum;break;case f.green:m.greenMinimum=a.greenMaximum=R.position,m.redMinimum=a.redMinimum,m.blueMinimum=a.blueMinimum,m.alphaMinimum=a.alphaMinimum;break;case f.blue:m.blueMinimum=a.blueMaximum=H.position,m.redMinimum=a.redMinimum,m.greenMinimum=a.greenMinimum,m.alphaMinimum=a.alphaMinimum;break;case f.alpha:m.alphaMinimum=a.alphaMaximum=L.position,m.blueMinimum=a.blueMinimum,m.redMinimum=a.redMinimum,m.greenMinimum=a.greenMinimum;break}return a.volume=(a.redMaximum-a.redMinimum)*(a.greenMaximum-a.greenMinimum)*(a.blueMaximum-a.blueMinimum)*(a.alphaMaximum-a.alphaMinimum),m.volume=(m.redMaximum-m.redMinimum)*(m.greenMaximum-m.greenMinimum)*(m.blueMaximum-m.blueMinimum)*(m.alphaMaximum-m.alphaMinimum),!0},f.prototype._initialize=function(a){this._colors=a,this._cubes=[];for(var m=0;m<a;m++)this._cubes[m]=new h;this._cubes[0].redMinimum=0,this._cubes[0].greenMinimum=0,this._cubes[0].blueMinimum=0,this._cubes[0].alphaMinimum=0,this._cubes[0].redMaximum=this._maxSideIndex,this._cubes[0].greenMaximum=this._maxSideIndex,this._cubes[0].blueMaximum=this._maxSideIndex,this._cubes[0].alphaMaximum=this._alphaMaxSideIndex,this._weights=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsRed=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsGreen=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsBlue=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._momentsAlpha=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._moments=i(this._alphaSideSize,this._sideSize,this._sideSize,this._sideSize),this._table=[];for(var g=0;g<256;++g)this._table[g]=g*g;this._pixels=[]},f.prototype._setQuality=function(a){a===void 0&&(a=5),this._significantBitsPerChannel=a,this._maxSideIndex=1<<this._significantBitsPerChannel,this._alphaMaxSideIndex=this._maxSideIndex,this._sideSize=this._maxSideIndex+1,this._alphaSideSize=this._alphaMaxSideIndex+1},f.alpha=3,f.red=2,f.green=1,f.blue=0,f}();c.WuQuant=n},function(x,c,p){var v=p(31);c.NearestColor=v.NearestColor;var o=p(32);c.ErrorDiffusionArray=o.ErrorDiffusionArray,c.ErrorDiffusionArrayKernel=o.ErrorDiffusionArrayKernel;var s=p(33);c.ErrorDiffusionRiemersma=s.ErrorDiffusionRiemersma},function(x,c){var p=function(){function v(o){this._distance=o}return v.prototype.quantize=function(o,s){for(var i=o.getPointArray(),t=o.getWidth(),e=o.getHeight(),l=0;l<e;l++)for(var h=0,n=l*t;h<t;h++,n++){var f=i[n];f.from(s.getNearestColor(this._distance,f))}return o},v}();c.NearestColor=p},function(x,c,p){var v=p(24),o=p(6);(function(t){t[t.FloydSteinberg=0]="FloydSteinberg",t[t.FalseFloydSteinberg=1]="FalseFloydSteinberg",t[t.Stucki=2]="Stucki",t[t.Atkinson=3]="Atkinson",t[t.Jarvis=4]="Jarvis",t[t.Burkes=5]="Burkes",t[t.Sierra=6]="Sierra",t[t.TwoSierra=7]="TwoSierra",t[t.SierraLite=8]="SierraLite"})(c.ErrorDiffusionArrayKernel||(c.ErrorDiffusionArrayKernel={}));var s=c.ErrorDiffusionArrayKernel,i=function(){function t(e,l,h,n,f){h===void 0&&(h=!0),n===void 0&&(n=0),f===void 0&&(f=!1),this._setKernel(l),this._distance=e,this._minColorDistance=n,this._serpentine=h,this._calculateErrorLikeGIMP=f}return t.prototype.quantize=function(e,l){for(var h=e.getPointArray(),n=new v.Point,f=e.getWidth(),a=e.getHeight(),m=[],g=1,y=1,E=0;E<this._kernel.length;E++){var S=this._kernel[E][2]+1;y<S&&(y=S)}for(var E=0;E<y;E++)this._fillErrorLine(m[E]=[],f);for(var A=0;A<a;A++){this._serpentine&&(g=g*-1);var M=A*f,I=g==1?0:f-1,R=g==1?f:-1;this._fillErrorLine(m[0],f),m.push(m.shift());for(var H=m[0],L=I,j=M+I;L!==R;L+=g,j+=g){var V=h[j],G=H[L];n.from(V);var U=v.Point.createByRGBA(o.inRange0to255Rounded(V.r+G[0]),o.inRange0to255Rounded(V.g+G[1]),o.inRange0to255Rounded(V.b+G[2]),o.inRange0to255Rounded(V.a+G[3])),Y=l.getNearestColor(this._distance,U);if(V.from(Y),this._minColorDistance){var ee=this._distance.calculateNormalized(V,Y);if(ee<this._minColorDistance)continue}var le=void 0,he=void 0,oe=void 0,q=void 0;this._calculateErrorLikeGIMP?(le=U.r-Y.r,he=U.g-Y.g,oe=U.b-Y.b,q=U.a-Y.a):(le=n.r-Y.r,he=n.g-Y.g,oe=n.b-Y.b,q=n.a-Y.a);for(var K=g==1?0:this._kernel.length-1,Q=g==1?this._kernel.length:-1,E=K;E!==Q;E+=g){var te=this._kernel[E][1]*g,ce=this._kernel[E][2];if(te+L>=0&&te+L<f&&ce+A>=0&&ce+A<a){var we=this._kernel[E][0],be=m[ce][te+L];be[0]=be[0]+le*we,be[1]=be[1]+he*we,be[2]=be[2]+oe*we,be[3]=be[3]+q*we}}}}return e},t.prototype._fillErrorLine=function(e,l){e.length>l&&(e.length=l);for(var h=e.length,n=0;n<h;n++){var f=e[n];f[0]=f[1]=f[2]=f[3]=0}for(var n=h;n<l;n++)e[n]=[0,0,0,0]},t.prototype._setKernel=function(e){switch(e){case s.FloydSteinberg:this._kernel=[[7/16,1,0],[3/16,-1,1],[5/16,0,1],[1/16,1,1]];break;case s.FalseFloydSteinberg:this._kernel=[[3/8,1,0],[3/8,0,1],[2/8,1,1]];break;case s.Stucki:this._kernel=[[8/42,1,0],[4/42,2,0],[2/42,-2,1],[4/42,-1,1],[8/42,0,1],[4/42,1,1],[2/42,2,1],[1/42,-2,2],[2/42,-1,2],[4/42,0,2],[2/42,1,2],[1/42,2,2]];break;case s.Atkinson:this._kernel=[[1/8,1,0],[1/8,2,0],[1/8,-1,1],[1/8,0,1],[1/8,1,1],[1/8,0,2]];break;case s.Jarvis:this._kernel=[[7/48,1,0],[5/48,2,0],[3/48,-2,1],[5/48,-1,1],[7/48,0,1],[5/48,1,1],[3/48,2,1],[1/48,-2,2],[3/48,-1,2],[5/48,0,2],[3/48,1,2],[1/48,2,2]];break;case s.Burkes:this._kernel=[[8/32,1,0],[4/32,2,0],[2/32,-2,1],[4/32,-1,1],[8/32,0,1],[4/32,1,1],[2/32,2,1]];break;case s.Sierra:this._kernel=[[5/32,1,0],[3/32,2,0],[2/32,-2,1],[4/32,-1,1],[5/32,0,1],[4/32,1,1],[2/32,2,1],[2/32,-1,2],[3/32,0,2],[2/32,1,2]];break;case s.TwoSierra:this._kernel=[[4/16,1,0],[3/16,2,0],[1/16,-2,1],[2/16,-1,1],[3/16,0,1],[2/16,1,1],[1/16,2,1]];break;case s.SierraLite:this._kernel=[[2/4,1,0],[1/4,-1,1],[1/4,0,1]];break;default:throw new Error("ErrorDiffusionArray: unknown kernel = "+e)}},t}();c.ErrorDiffusionArray=i},function(x,c,p){var v=p(34),o=p(24),s=p(6),i=function(){function t(e,l,h){l===void 0&&(l=16),h===void 0&&(h=1),this._distance=e,this._errorPropagation=h,this._errorQueueSize=l,this._max=this._errorQueueSize,this._createWeights()}return t.prototype.quantize=function(e,l){for(var h=this,n=new v.HilbertCurveBase,f=e.getPointArray(),a=e.getWidth(),m=e.getHeight(),g=[],y=0,E=0;E<this._errorQueueSize;E++)g[E]={r:0,g:0,b:0,a:0};return n.walk(a,m,function(S,A){for(var M=f[S+A*a],I=M.r,R=M.g,H=M.b,L=M.a,j=0;j<h._errorQueueSize;j++){var V=h._weights[j],G=g[(j+y)%h._errorQueueSize];I+=G.r*V,R+=G.g*V,H+=G.b*V,L+=G.a*V}var U=o.Point.createByRGBA(s.inRange0to255Rounded(I),s.inRange0to255Rounded(R),s.inRange0to255Rounded(H),s.inRange0to255Rounded(L)),Y=l.getNearestColor(h._distance,U);y=(y+1)%h._errorQueueSize;var ee=(y+h._errorQueueSize-1)%h._errorQueueSize;g[ee].r=M.r-Y.r,g[ee].g=M.g-Y.g,g[ee].b=M.b-Y.b,g[ee].a=M.a-Y.a,M.from(Y)}),e},t.prototype._createWeights=function(){this._weights=[];for(var e=Math.exp(Math.log(this._max)/(this._errorQueueSize-1)),l=0,h=1;l<this._errorQueueSize;l++)this._weights[l]=(h+.5|0)/this._max*this._errorPropagation,h*=e},t}();c.ErrorDiffusionRiemersma=i},function(x,c){var p;(function(o){o[o.NONE=0]="NONE",o[o.UP=1]="UP",o[o.LEFT=2]="LEFT",o[o.RIGHT=3]="RIGHT",o[o.DOWN=4]="DOWN"})(p||(p={}));var v=function(){function o(){}return o.prototype.walk=function(s,i,t){this._x=0,this._y=0,this._d=0,this._width=s,this._height=i,this._callback=t;var e=Math.max(s,i);this._level=Math.log(e)/Math.log(2)+1|0,this._walkHilbert(p.UP),this._visit(p.NONE)},o.prototype._walkHilbert=function(s){if(!(this._level<1)){switch(this._level--,s){case p.LEFT:this._walkHilbert(p.UP),this._visit(p.RIGHT),this._walkHilbert(p.LEFT),this._visit(p.DOWN),this._walkHilbert(p.LEFT),this._visit(p.LEFT),this._walkHilbert(p.DOWN);break;case p.RIGHT:this._walkHilbert(p.DOWN),this._visit(p.LEFT),this._walkHilbert(p.RIGHT),this._visit(p.UP),this._walkHilbert(p.RIGHT),this._visit(p.RIGHT),this._walkHilbert(p.UP);break;case p.UP:this._walkHilbert(p.LEFT),this._visit(p.DOWN),this._walkHilbert(p.UP),this._visit(p.RIGHT),this._walkHilbert(p.UP),this._visit(p.UP),this._walkHilbert(p.RIGHT);break;case p.DOWN:this._walkHilbert(p.RIGHT),this._visit(p.UP),this._walkHilbert(p.DOWN),this._visit(p.LEFT),this._walkHilbert(p.DOWN),this._visit(p.DOWN),this._walkHilbert(p.LEFT);break}this._level++}},o.prototype._visit=function(s){switch(this._x>=0&&this._x<this._width&&this._y>=0&&this._y<this._height&&(this._callback(this._x,this._y,this._d),this._d++),s){case p.LEFT:this._x--;break;case p.RIGHT:this._x++;break;case p.UP:this._y--;break;case p.DOWN:this._y++;break}},o}();c.HilbertCurveBase=v},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var v=p(36);c.SSIM=v.SSIM},function(x,c,p){var v=p(2),o=.01,s=.03,i=function(){function t(){}return t.prototype.compare=function(e,l){if(e.getHeight()!==l.getHeight()||e.getWidth()!==l.getWidth())throw new Error("Images have different sizes!");var h=8,n=(1<<h)-1,f=Math.pow(o*n,2),a=Math.pow(s*n,2),m=0,g=0;return this._iterate(e,l,function(y,E,S,A){for(var M=0,I=0,R=0,H=0;H<y.length;H++)I+=Math.pow(y[H]-S,2),R+=Math.pow(E[H]-A,2),M+=(y[H]-S)*(E[H]-A);var L=y.length-1;I/=L,R/=L,M/=L;var j=(2*S*A+f)*(2*M+a),V=(Math.pow(S,2)+Math.pow(A,2)+f)*(I+R+a),G=j/V;g+=G,m++}),g/m},t.prototype._iterate=function(e,l,h){for(var n=8,f=e.getWidth(),a=e.getHeight(),m=0;m<a;m+=n)for(var g=0;g<f;g+=n){var y=Math.min(n,f-g),E=Math.min(n,a-m),S=this._calculateLumaValuesForWindow(e,g,m,y,E),A=this._calculateLumaValuesForWindow(l,g,m,y,E),M=this._calculateAverageLuma(S),I=this._calculateAverageLuma(A);h(S,A,M,I)}},t.prototype._calculateLumaValuesForWindow=function(e,l,h,n,f){for(var a=e.getPointArray(),m=[],g=0,y=h;y<h+f;y++)for(var E=y*e.getWidth(),S=l;S<l+n;S++){var A=a[E+S];m[g]=A.r*v.Y.RED+A.g*v.Y.GREEN+A.b*v.Y.BLUE,g++}return m},t.prototype._calculateAverageLuma=function(e){for(var l=0,h=0;h<e.length;h++)l+=e[h];return l/e.length},t}();c.SSIM=i},function(x,c,p){/**
 * @preserve
 * Copyright 2015-2016 Igor Bezkrovnyi
 * All rights reserved. (MIT Licensed)
 *
 * iq.ts - Image Quantization Library
 */var v=p(6);c.arithmetic=v;var o=p(28);c.HueStatistics=o.HueStatistics;var s=p(22);c.Palette=s.Palette;var i=p(24);c.Point=i.Point;var t=p(23);c.PointContainer=t.PointContainer}])})},{}],75:[function(_,T,b){typeof Object.create=="function"?T.exports=function(c,p){p&&(c.super_=p,c.prototype=Object.create(p.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}))}:T.exports=function(c,p){if(p){c.super_=p;var v=function(){};v.prototype=p.prototype,c.prototype=new v,c.prototype.constructor=c}}},{}],76:[function(_,T,b){/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */T.exports=function(p){return p!=null&&(x(p)||c(p)||!!p._isBuffer)};function x(p){return!!p.constructor&&typeof p.constructor.isBuffer=="function"&&p.constructor.isBuffer(p)}function c(p){return typeof p.readFloatLE=="function"&&typeof p.slice=="function"&&x(p.slice(0,0))}},{}],77:[function(_,T,b){var x=Function.prototype.toString,c=/^\s*class\b/,p=function(l){try{var h=x.call(l);return c.test(h)}catch{return!1}},v=function(l){try{return p(l)?!1:(x.call(l),!0)}catch{return!1}},o=Object.prototype.toString,s="[object Function]",i="[object GeneratorFunction]",t=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol";T.exports=function(l){if(!l||typeof l!="function"&&typeof l!="object")return!1;if(typeof l=="function"&&!l.prototype)return!0;if(t)return v(l);if(p(l))return!1;var h=o.call(l);return h===s||h===i}},{}],78:[function(_,T,b){T.exports=c;var x=Object.prototype.toString;function c(p){var v=x.call(p);return v==="[object Function]"||typeof p=="function"&&v!=="[object RegExp]"||typeof C<"u"&&(p===C.setTimeout||p===C.alert||p===C.confirm||p===C.prompt)}},{}],79:[function(_,T,b){var x={}.toString;T.exports=Array.isArray||function(c){return x.call(c)=="[object Array]"}},{}],80:[function(_,T,b){var x=_("./lib/encoder"),c=_("./lib/decoder");T.exports={encode:x,decode:c}},{"./lib/decoder":81,"./lib/encoder":82}],81:[function(_,T,b){(function(x){var c=function(){var o=new Int32Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),s=4017,i=799,t=3406,e=2276,l=1567,h=3784,n=5793,f=2896;function a(){}function m(I,R){for(var H=0,L=[],j,V,G=16;G>0&&!I[G-1];)G--;L.push({children:[],index:0});var U=L[0],Y;for(j=0;j<G;j++){for(V=0;V<I[j];V++){for(U=L.pop(),U.children[U.index]=R[H];U.index>0;){if(L.length===0)throw new Error("Could not recreate Huffman Table");U=L.pop()}for(U.index++,L.push(U);L.length<=j;)L.push(Y={children:[],index:0}),U.children[U.index]=Y.children,U=Y;H++}j+1<G&&(L.push(Y={children:[],index:0}),U.children[U.index]=Y.children,U=Y)}return L[0].children}function g(I,R,H,L,j,V,G,U,Y,ee){H.precision,H.samplesPerLine,H.scanLines;var le=H.mcusPerLine,he=H.progressive;H.maxH,H.maxV;var oe=R,q=0,K=0;function Q(){if(K>0)return K--,q>>K&1;if(q=I[R++],q==255){var je=I[R++];if(je)throw new Error("unexpected marker: "+(q<<8|je).toString(16))}return K=7,q>>>7}function te(je){for(var We=je,He;(He=Q())!==null;){if(We=We[He],typeof We=="number")return We;if(typeof We!="object")throw new Error("invalid huffman sequence")}return null}function ce(je){for(var We=0;je>0;){var He=Q();if(He===null)return;We=We<<1|He,je--}return We}function we(je){var We=ce(je);return We>=1<<je-1?We:We+(-1<<je)+1}function be(je,We){var He=te(je.huffmanTableDC),tt=He===0?0:we(He);We[0]=je.pred+=tt;for(var Ve=1;Ve<64;){var W=te(je.huffmanTableAC),Se=W&15,Ae=W>>4;if(Se===0){if(Ae<15)break;Ve+=16;continue}Ve+=Ae;var ke=o[Ve];We[ke]=we(Se),Ve++}}function xe(je,We){var He=te(je.huffmanTableDC),tt=He===0?0:we(He)<<Y;We[0]=je.pred+=tt}function Ie(je,We){We[0]|=Q()<<Y}var me=0;function ve(je,We){if(me>0){me--;return}for(var He=V,tt=G;He<=tt;){var Ve=te(je.huffmanTableAC),W=Ve&15,Se=Ve>>4;if(W===0){if(Se<15){me=ce(Se)+(1<<Se)-1;break}He+=16;continue}He+=Se;var Ae=o[He];We[Ae]=we(W)*(1<<Y),He++}}var re=0,se;function fe(je,We){for(var He=V,tt=G,Ve=0;He<=tt;){var W=o[He],Se=We[W]<0?-1:1;switch(re){case 0:var Ae=te(je.huffmanTableAC),ke=Ae&15,Ve=Ae>>4;if(ke===0)Ve<15?(me=ce(Ve)+(1<<Ve),re=4):(Ve=16,re=1);else{if(ke!==1)throw new Error("invalid ACn encoding");se=we(ke),re=Ve?2:3}continue;case 1:case 2:We[W]?We[W]+=(Q()<<Y)*Se:(Ve--,Ve===0&&(re=re==2?3:0));break;case 3:We[W]?We[W]+=(Q()<<Y)*Se:(We[W]=se<<Y,re=0);break;case 4:We[W]&&(We[W]+=(Q()<<Y)*Se);break}He++}re===4&&(me--,me===0&&(re=0))}function J(je,We,He,tt,Ve){var W=He/le|0,Se=He%le,Ae=W*je.v+tt,ke=Se*je.h+Ve;je.blocks[Ae]===void 0&&ee.tolerantDecoding||We(je,je.blocks[Ae][ke])}function z(je,We,He){var tt=He/je.blocksPerLine|0,Ve=He%je.blocksPerLine;je.blocks[tt]===void 0&&ee.tolerantDecoding||We(je,je.blocks[tt][Ve])}var B=L.length,F,Z,D,O,ie,ge;he?V===0?ge=U===0?xe:Ie:ge=U===0?ve:fe:ge=be;var Me=0,Le,ze;B==1?ze=L[0].blocksPerLine*L[0].blocksPerColumn:ze=le*H.mcusPerColumn,j||(j=ze);for(var qe,Ge;Me<ze;){for(Z=0;Z<B;Z++)L[Z].pred=0;if(me=0,B==1)for(F=L[0],ie=0;ie<j;ie++)z(F,ge,Me),Me++;else for(ie=0;ie<j;ie++){for(Z=0;Z<B;Z++)for(F=L[Z],qe=F.h,Ge=F.v,D=0;D<Ge;D++)for(O=0;O<qe;O++)J(F,ge,Me,D,O);if(Me++,Me===ze)break}if(Me===ze)do{if(I[R]===255&&I[R+1]!==0)break;R+=1}while(R<I.length-2);if(K=0,Le=I[R]<<8|I[R+1],Le<65280)throw new Error("marker was not found");if(Le>=65488&&Le<=65495)R+=2;else break}return R-oe}function y(I,R){var H=[],L=R.blocksPerLine,j=R.blocksPerColumn,V=L<<3,G=new Int32Array(64),U=new Uint8Array(64);function Y(ce,we,be){var xe=R.quantizationTable,Ie,me,ve,re,se,fe,J,z,B,F=be,Z;for(Z=0;Z<64;Z++)F[Z]=ce[Z]*xe[Z];for(Z=0;Z<8;++Z){var D=8*Z;if(F[1+D]==0&&F[2+D]==0&&F[3+D]==0&&F[4+D]==0&&F[5+D]==0&&F[6+D]==0&&F[7+D]==0){B=n*F[0+D]+512>>10,F[0+D]=B,F[1+D]=B,F[2+D]=B,F[3+D]=B,F[4+D]=B,F[5+D]=B,F[6+D]=B,F[7+D]=B;continue}Ie=n*F[0+D]+128>>8,me=n*F[4+D]+128>>8,ve=F[2+D],re=F[6+D],se=f*(F[1+D]-F[7+D])+128>>8,z=f*(F[1+D]+F[7+D])+128>>8,fe=F[3+D]<<4,J=F[5+D]<<4,B=Ie-me+1>>1,Ie=Ie+me+1>>1,me=B,B=ve*h+re*l+128>>8,ve=ve*l-re*h+128>>8,re=B,B=se-J+1>>1,se=se+J+1>>1,J=B,B=z+fe+1>>1,fe=z-fe+1>>1,z=B,B=Ie-re+1>>1,Ie=Ie+re+1>>1,re=B,B=me-ve+1>>1,me=me+ve+1>>1,ve=B,B=se*e+z*t+2048>>12,se=se*t-z*e+2048>>12,z=B,B=fe*i+J*s+2048>>12,fe=fe*s-J*i+2048>>12,J=B,F[0+D]=Ie+z,F[7+D]=Ie-z,F[1+D]=me+J,F[6+D]=me-J,F[2+D]=ve+fe,F[5+D]=ve-fe,F[3+D]=re+se,F[4+D]=re-se}for(Z=0;Z<8;++Z){var O=Z;if(F[8+O]==0&&F[16+O]==0&&F[24+O]==0&&F[32+O]==0&&F[40+O]==0&&F[48+O]==0&&F[56+O]==0){B=n*be[Z+0]+8192>>14,F[0+O]=B,F[8+O]=B,F[16+O]=B,F[24+O]=B,F[32+O]=B,F[40+O]=B,F[48+O]=B,F[56+O]=B;continue}Ie=n*F[0+O]+2048>>12,me=n*F[32+O]+2048>>12,ve=F[16+O],re=F[48+O],se=f*(F[8+O]-F[56+O])+2048>>12,z=f*(F[8+O]+F[56+O])+2048>>12,fe=F[24+O],J=F[40+O],B=Ie-me+1>>1,Ie=Ie+me+1>>1,me=B,B=ve*h+re*l+2048>>12,ve=ve*l-re*h+2048>>12,re=B,B=se-J+1>>1,se=se+J+1>>1,J=B,B=z+fe+1>>1,fe=z-fe+1>>1,z=B,B=Ie-re+1>>1,Ie=Ie+re+1>>1,re=B,B=me-ve+1>>1,me=me+ve+1>>1,ve=B,B=se*e+z*t+2048>>12,se=se*t-z*e+2048>>12,z=B,B=fe*i+J*s+2048>>12,fe=fe*s-J*i+2048>>12,J=B,F[0+O]=Ie+z,F[56+O]=Ie-z,F[8+O]=me+J,F[48+O]=me-J,F[16+O]=ve+fe,F[40+O]=ve-fe,F[24+O]=re+se,F[32+O]=re-se}for(Z=0;Z<64;++Z){var ie=128+(F[Z]+8>>4);we[Z]=ie<0?0:ie>255?255:ie}}M(V*j*8);for(var ee,le,he=0;he<j;he++){var oe=he<<3;for(ee=0;ee<8;ee++)H.push(new Uint8Array(V));for(var q=0;q<L;q++){Y(R.blocks[he][q],U,G);var K=0,Q=q<<3;for(le=0;le<8;le++){var te=H[oe+le];for(ee=0;ee<8;ee++)te[Q+ee]=U[K++]}}}return H}function E(I){return I<0?0:I>255?255:I}a.prototype={load:function(R){var H=new XMLHttpRequest;H.open("GET",R,!0),H.responseType="arraybuffer",H.onload=function(){var L=new Uint8Array(H.response||H.mozResponseArrayBuffer);this.parse(L),this.onload&&this.onload()}.bind(this),H.send(null)},parse:function(R){var H=this.opts.maxResolutionInMP*1e3*1e3,L=0;R.length;function j(){var Ve=R[L]<<8|R[L+1];return L+=2,Ve}function V(){var Ve=j(),W=R.subarray(L,L+Ve-2);return L+=W.length,W}function G(Ve){var W=0,Se=0,Ae,ke;for(ke in Ve.components)Ve.components.hasOwnProperty(ke)&&(Ae=Ve.components[ke],W<Ae.h&&(W=Ae.h),Se<Ae.v&&(Se=Ae.v));var Pe=Math.ceil(Ve.samplesPerLine/8/W),Oe=Math.ceil(Ve.scanLines/8/Se);for(ke in Ve.components)if(Ve.components.hasOwnProperty(ke)){Ae=Ve.components[ke];var ne=Math.ceil(Math.ceil(Ve.samplesPerLine/8)*Ae.h/W),Ue=Math.ceil(Math.ceil(Ve.scanLines/8)*Ae.v/Se),et=Pe*Ae.h,w=Oe*Ae.v,Ee=w*et,Re=[];M(Ee*256);for(var X=0;X<w;X++){for(var _e=[],De=0;De<et;De++)_e.push(new Int32Array(64));Re.push(_e)}Ae.blocksPerLine=ne,Ae.blocksPerColumn=Ue,Ae.blocks=Re}Ve.maxH=W,Ve.maxV=Se,Ve.mcusPerLine=Pe,Ve.mcusPerColumn=Oe}var U=null,Y=null,ee,le,he=[],oe=[],q=[],K=[],Q=j();if(Q!=65496)throw new Error("SOI not found");for(Q=j();Q!=65497;){var te,ce;switch(Q){case 65280:break;case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var we=V();Q===65504&&we[0]===74&&we[1]===70&&we[2]===73&&we[3]===70&&we[4]===0&&(U={version:{major:we[5],minor:we[6]},densityUnits:we[7],xDensity:we[8]<<8|we[9],yDensity:we[10]<<8|we[11],thumbWidth:we[12],thumbHeight:we[13],thumbData:we.subarray(14,14+3*we[12]*we[13])}),Q===65505&&we[0]===69&&we[1]===120&&we[2]===105&&we[3]===102&&we[4]===0&&(this.exifBuffer=we.subarray(5,we.length)),Q===65518&&we[0]===65&&we[1]===100&&we[2]===111&&we[3]===98&&we[4]===101&&we[5]===0&&(Y={version:we[6],flags0:we[7]<<8|we[8],flags1:we[9]<<8|we[10],transformCode:we[11]});break;case 65499:for(var be=j(),xe=be+L-2;L<xe;){var Ie=R[L++];M(256);var me=new Int32Array(64);if(Ie>>4===0)for(ce=0;ce<64;ce++){var ve=o[ce];me[ve]=R[L++]}else if(Ie>>4===1)for(ce=0;ce<64;ce++){var ve=o[ce];me[ve]=j()}else throw new Error("DQT: invalid table spec");he[Ie&15]=me}break;case 65472:case 65473:case 65474:j(),ee={},ee.extended=Q===65473,ee.progressive=Q===65474,ee.precision=R[L++],ee.scanLines=j(),ee.samplesPerLine=j(),ee.components={},ee.componentsOrder=[];var re=ee.scanLines*ee.samplesPerLine;if(re>H){var se=Math.ceil((re-H)/1e6);throw new Error(`maxResolutionInMP limit exceeded by ${se}MP`)}var fe=R[L++],J;for(te=0;te<fe;te++){J=R[L];var z=R[L+1]>>4,B=R[L+1]&15,F=R[L+2];ee.componentsOrder.push(J),ee.components[J]={h:z,v:B,quantizationIdx:F},L+=3}G(ee),oe.push(ee);break;case 65476:var Z=j();for(te=2;te<Z;){var D=R[L++],O=new Uint8Array(16),ie=0;for(ce=0;ce<16;ce++,L++)ie+=O[ce]=R[L];M(16+ie);var ge=new Uint8Array(ie);for(ce=0;ce<ie;ce++,L++)ge[ce]=R[L];te+=17+ie,(D>>4===0?K:q)[D&15]=m(O,ge)}break;case 65501:j(),le=j();break;case 65498:j();var Me=R[L++],Le=[],ze;for(te=0;te<Me;te++){ze=ee.components[R[L++]];var qe=R[L++];ze.huffmanTableDC=K[qe>>4],ze.huffmanTableAC=q[qe&15],Le.push(ze)}var Ge=R[L++],je=R[L++],We=R[L++],He=g(R,L,ee,Le,le,Ge,je,We>>4,We&15,this.opts);L+=He;break;case 65535:R[L]!==255&&L--;break;default:if(R[L-3]==255&&R[L-2]>=192&&R[L-2]<=254){L-=3;break}throw new Error("unknown JPEG marker "+Q.toString(16))}Q=j()}if(oe.length!=1)throw new Error("only single frame JPEGs supported");for(var te=0;te<oe.length;te++){var tt=oe[te].components;for(var ce in tt)tt[ce].quantizationTable=he[tt[ce].quantizationIdx],delete tt[ce].quantizationIdx}this.width=ee.samplesPerLine,this.height=ee.scanLines,this.jfif=U,this.adobe=Y,this.components=[];for(var te=0;te<ee.componentsOrder.length;te++){var ze=ee.components[ee.componentsOrder[te]];this.components.push({lines:y(ee,ze),scaleX:ze.h/ee.maxH,scaleY:ze.v/ee.maxV})}},getData:function(R,H){var L=this.width/R,j=this.height/H,V,G,U,Y,ee,le,he,oe,q,K,Q=0,te,ce,we,be,xe,Ie,me,ve,re,se,fe,J=R*H*this.components.length;M(J);var z=new Uint8Array(J);switch(this.components.length){case 1:for(V=this.components[0],K=0;K<H;K++)for(ee=V.lines[0|K*V.scaleY*j],q=0;q<R;q++)te=ee[0|q*V.scaleX*L],z[Q++]=te;break;case 2:for(V=this.components[0],G=this.components[1],K=0;K<H;K++)for(ee=V.lines[0|K*V.scaleY*j],le=G.lines[0|K*G.scaleY*j],q=0;q<R;q++)te=ee[0|q*V.scaleX*L],z[Q++]=te,te=le[0|q*G.scaleX*L],z[Q++]=te;break;case 3:for(fe=!0,this.adobe&&this.adobe.transformCode?fe=!0:typeof this.opts.colorTransform<"u"&&(fe=!!this.opts.colorTransform),V=this.components[0],G=this.components[1],U=this.components[2],K=0;K<H;K++)for(ee=V.lines[0|K*V.scaleY*j],le=G.lines[0|K*G.scaleY*j],he=U.lines[0|K*U.scaleY*j],q=0;q<R;q++)fe?(te=ee[0|q*V.scaleX*L],ce=le[0|q*G.scaleX*L],we=he[0|q*U.scaleX*L],ve=E(te+1.402*(we-128)),re=E(te-.3441363*(ce-128)-.71413636*(we-128)),se=E(te+1.772*(ce-128))):(ve=ee[0|q*V.scaleX*L],re=le[0|q*G.scaleX*L],se=he[0|q*U.scaleX*L]),z[Q++]=ve,z[Q++]=re,z[Q++]=se;break;case 4:if(!this.adobe)throw new Error("Unsupported color mode (4 components)");for(fe=!1,this.adobe&&this.adobe.transformCode?fe=!0:typeof this.opts.colorTransform<"u"&&(fe=!!this.opts.colorTransform),V=this.components[0],G=this.components[1],U=this.components[2],Y=this.components[3],K=0;K<H;K++)for(ee=V.lines[0|K*V.scaleY*j],le=G.lines[0|K*G.scaleY*j],he=U.lines[0|K*U.scaleY*j],oe=Y.lines[0|K*Y.scaleY*j],q=0;q<R;q++)fe?(te=ee[0|q*V.scaleX*L],ce=le[0|q*G.scaleX*L],we=he[0|q*U.scaleX*L],be=oe[0|q*Y.scaleX*L],xe=255-E(te+1.402*(we-128)),Ie=255-E(te-.3441363*(ce-128)-.71413636*(we-128)),me=255-E(te+1.772*(ce-128))):(xe=ee[0|q*V.scaleX*L],Ie=le[0|q*G.scaleX*L],me=he[0|q*U.scaleX*L],be=oe[0|q*Y.scaleX*L]),z[Q++]=255-xe,z[Q++]=255-Ie,z[Q++]=255-me,z[Q++]=255-be;break;default:throw new Error("Unsupported color mode")}return z},copyToImageData:function(R,H){var L=R.width,j=R.height,V=R.data,G=this.getData(L,j),U=0,Y=0,ee,le,he,oe,q,K,Q,te,ce;switch(this.components.length){case 1:for(le=0;le<j;le++)for(ee=0;ee<L;ee++)he=G[U++],V[Y++]=he,V[Y++]=he,V[Y++]=he,H&&(V[Y++]=255);break;case 3:for(le=0;le<j;le++)for(ee=0;ee<L;ee++)Q=G[U++],te=G[U++],ce=G[U++],V[Y++]=Q,V[Y++]=te,V[Y++]=ce,H&&(V[Y++]=255);break;case 4:for(le=0;le<j;le++)for(ee=0;ee<L;ee++)q=G[U++],K=G[U++],he=G[U++],oe=G[U++],Q=255-E(q*(1-oe/255)+oe),te=255-E(K*(1-oe/255)+oe),ce=255-E(he*(1-oe/255)+oe),V[Y++]=Q,V[Y++]=te,V[Y++]=ce,H&&(V[Y++]=255);break;default:throw new Error("Unsupported color mode")}}};var S=0,A=0;function M(I=0){var R=S+I;if(R>A){var H=Math.ceil((R-A)/1024/1024);throw new Error(`maxMemoryUsageInMB limit exceeded by at least ${H}MB`)}S=R}return a.resetMaxMemoryUsage=function(I){S=0,A=I},a.getBytesAllocated=function(){return S},a.requestMemoryAllocation=M,a}();typeof T<"u"?T.exports=p:typeof C<"u"&&(C["jpeg-js"]=C["jpeg-js"]||{},C["jpeg-js"].decode=p);function p(v,o={}){var s={colorTransform:void 0,useTArray:!1,formatAsRGBA:!0,tolerantDecoding:!0,maxResolutionInMP:100,maxMemoryUsageInMB:512},i={...s,...o},t=new Uint8Array(v),e=new c;e.opts=i,c.resetMaxMemoryUsage(i.maxMemoryUsageInMB*1024*1024),e.parse(t);var l=i.formatAsRGBA?4:3,h=e.width*e.height*l;try{c.requestMemoryAllocation(h);var n={width:e.width,height:e.height,exifBuffer:e.exifBuffer,data:i.useTArray?new Uint8Array(h):new x(h)}}catch(f){throw f instanceof RangeError?new Error("Could not allocate enough memory for the image. Required: "+h):f}return e.copyToImageData(n,i.formatAsRGBA),n}}).call(this,_("buffer").Buffer)},{buffer:48}],82:[function(_,T,b){(function(x){function c(v){var o=Math.floor,s=new Array(64),i=new Array(64),t=new Array(64),e=new Array(64),l,h,n,f,a=new Array(65535),m=new Array(65535),g=new Array(64),y=new Array(64),E=[],S=0,A=7,M=new Array(64),I=new Array(64),R=new Array(64),H=new Array(256),L=new Array(2048),j,V=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],G=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],U=[0,1,2,3,4,5,6,7,8,9,10,11],Y=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ee=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],le=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],he=[0,1,2,3,4,5,6,7,8,9,10,11],oe=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],q=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function K(O){for(var ie=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ge=0;ge<64;ge++){var Me=o((ie[ge]*O+50)/100);Me<1?Me=1:Me>255&&(Me=255),s[V[ge]]=Me}for(var Le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ze=0;ze<64;ze++){var qe=o((Le[ze]*O+50)/100);qe<1?qe=1:qe>255&&(qe=255),i[V[ze]]=qe}for(var Ge=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],je=0,We=0;We<8;We++)for(var He=0;He<8;He++)t[je]=1/(s[V[je]]*Ge[We]*Ge[He]*8),e[je]=1/(i[V[je]]*Ge[We]*Ge[He]*8),je++}function Q(O,ie){for(var ge=0,Me=0,Le=new Array,ze=1;ze<=16;ze++){for(var qe=1;qe<=O[ze];qe++)Le[ie[Me]]=[],Le[ie[Me]][0]=ge,Le[ie[Me]][1]=ze,Me++,ge++;ge*=2}return Le}function te(){l=Q(G,U),h=Q(le,he),n=Q(Y,ee),f=Q(oe,q)}function ce(){for(var O=1,ie=2,ge=1;ge<=15;ge++){for(var Me=O;Me<ie;Me++)m[32767+Me]=ge,a[32767+Me]=[],a[32767+Me][1]=ge,a[32767+Me][0]=Me;for(var Le=-(ie-1);Le<=-O;Le++)m[32767+Le]=ge,a[32767+Le]=[],a[32767+Le][1]=ge,a[32767+Le][0]=ie-1+Le;O<<=1,ie<<=1}}function we(){for(var O=0;O<256;O++)L[O]=19595*O,L[O+256>>0]=38470*O,L[O+512>>0]=7471*O+32768,L[O+768>>0]=-11059*O,L[O+1024>>0]=-21709*O,L[O+1280>>0]=32768*O+8421375,L[O+1536>>0]=-27439*O,L[O+1792>>0]=-5329*O}function be(O){for(var ie=O[0],ge=O[1]-1;ge>=0;)ie&1<<ge&&(S|=1<<A),ge--,A--,A<0&&(S==255?(xe(255),xe(0)):xe(S),A=7,S=0)}function xe(O){E.push(O)}function Ie(O){xe(O>>8&255),xe(O&255)}function me(O,ie){var ge,Me,Le,ze,qe,Ge,je,We,He=0,tt,Ve=8,W=64;for(tt=0;tt<Ve;++tt){ge=O[He],Me=O[He+1],Le=O[He+2],ze=O[He+3],qe=O[He+4],Ge=O[He+5],je=O[He+6],We=O[He+7];var Se=ge+We,Ae=ge-We,ke=Me+je,Pe=Me-je,Oe=Le+Ge,ne=Le-Ge,Ue=ze+qe,et=ze-qe,w=Se+Ue,Ee=Se-Ue,Re=ke+Oe,X=ke-Oe;O[He]=w+Re,O[He+4]=w-Re;var _e=(X+Ee)*.707106781;O[He+2]=Ee+_e,O[He+6]=Ee-_e,w=et+ne,Re=ne+Pe,X=Pe+Ae;var De=(w-X)*.382683433,Ye=.5411961*w+De,Xe=1.306562965*X+De,Ke=Re*.707106781,rt=Ae+Ke,Et=Ae-Ke;O[He+5]=Et+Ye,O[He+3]=Et-Ye,O[He+1]=rt+Xe,O[He+7]=rt-Xe,He+=8}for(He=0,tt=0;tt<Ve;++tt){ge=O[He],Me=O[He+8],Le=O[He+16],ze=O[He+24],qe=O[He+32],Ge=O[He+40],je=O[He+48],We=O[He+56];var ct=ge+We,nt=ge-We,pt=Me+je,dt=Me-je,Pt=Le+Ge,ht=Le-Ge,Bt=ze+qe,mt=ze-qe,St=ct+Bt,gt=ct-Bt,Tt=pt+Pt,bt=pt-Pt;O[He]=St+Tt,O[He+32]=St-Tt;var lt=(bt+gt)*.707106781;O[He+16]=gt+lt,O[He+48]=gt-lt,St=mt+ht,Tt=ht+dt,bt=dt+nt;var Gt=(St-bt)*.382683433,er=.5411961*St+Gt,ar=1.306562965*bt+Gt,Wt=Tt*.707106781,ue=nt+Wt,pe=nt-Wt;O[He+40]=pe+er,O[He+24]=pe-er,O[He+8]=ue+ar,O[He+56]=ue-ar,He++}var Te;for(tt=0;tt<W;++tt)Te=O[tt]*ie[tt],g[tt]=Te>0?Te+.5|0:Te-.5|0;return g}function ve(){Ie(65504),Ie(16),xe(74),xe(70),xe(73),xe(70),xe(0),xe(1),xe(1),xe(0),Ie(1),Ie(1),xe(0),xe(0)}function re(O){if(!!O){Ie(65505),O[0]===69&&O[1]===120&&O[2]===105&&O[3]===102?Ie(O.length+2):(Ie(O.length+5+2),xe(69),xe(120),xe(105),xe(102),xe(0));for(var ie=0;ie<O.length;ie++)xe(O[ie])}}function se(O,ie){Ie(65472),Ie(17),xe(8),Ie(ie),Ie(O),xe(3),xe(1),xe(17),xe(0),xe(2),xe(17),xe(1),xe(3),xe(17),xe(1)}function fe(){Ie(65499),Ie(132),xe(0);for(var O=0;O<64;O++)xe(s[O]);xe(1);for(var ie=0;ie<64;ie++)xe(i[ie])}function J(){Ie(65476),Ie(418),xe(0);for(var O=0;O<16;O++)xe(G[O+1]);for(var ie=0;ie<=11;ie++)xe(U[ie]);xe(16);for(var ge=0;ge<16;ge++)xe(Y[ge+1]);for(var Me=0;Me<=161;Me++)xe(ee[Me]);xe(1);for(var Le=0;Le<16;Le++)xe(le[Le+1]);for(var ze=0;ze<=11;ze++)xe(he[ze]);xe(17);for(var qe=0;qe<16;qe++)xe(oe[qe+1]);for(var Ge=0;Ge<=161;Ge++)xe(q[Ge])}function z(){Ie(65498),Ie(12),xe(3),xe(1),xe(0),xe(2),xe(17),xe(3),xe(17),xe(0),xe(63),xe(0)}function B(O,ie,ge,Me,Le){for(var ze=Le[0],qe=Le[240],Ge,je=16,We=63,He=64,tt=me(O,ie),Ve=0;Ve<He;++Ve)y[V[Ve]]=tt[Ve];var W=y[0]-ge;ge=y[0],W==0?be(Me[0]):(Ge=32767+W,be(Me[m[Ge]]),be(a[Ge]));for(var Se=63;Se>0&&y[Se]==0;Se--);if(Se==0)return be(ze),ge;for(var Ae=1,ke;Ae<=Se;){for(var Pe=Ae;y[Ae]==0&&Ae<=Se;++Ae);var Oe=Ae-Pe;if(Oe>=je){ke=Oe>>4;for(var ne=1;ne<=ke;++ne)be(qe);Oe=Oe&15}Ge=32767+y[Ae],be(Le[(Oe<<4)+m[Ge]]),be(a[Ge]),Ae++}return Se!=We&&be(ze),ge}function F(){for(var O=String.fromCharCode,ie=0;ie<256;ie++)H[ie]=O(ie)}this.encode=function(O,ie){new Date().getTime(),ie&&Z(ie),E=new Array,S=0,A=7,Ie(65496),ve(),re(O.exifBuffer),fe(),se(O.width,O.height),J(),z();var ge=0,Me=0,Le=0;S=0,A=7,this.encode.displayName="_encode_";for(var ze=O.data,qe=O.width,Ge=O.height,je=qe*4,We,He=0,tt,Ve,W,Se,Ae,ke,Pe,Oe;He<Ge;){for(We=0;We<je;){for(Se=je*He+We,Ae=Se,ke=-1,Pe=0,Oe=0;Oe<64;Oe++)Pe=Oe>>3,ke=(Oe&7)*4,Ae=Se+Pe*je+ke,He+Pe>=Ge&&(Ae-=je*(He+1+Pe-Ge)),We+ke>=je&&(Ae-=We+ke-je+4),tt=ze[Ae++],Ve=ze[Ae++],W=ze[Ae++],M[Oe]=(L[tt]+L[Ve+256>>0]+L[W+512>>0]>>16)-128,I[Oe]=(L[tt+768>>0]+L[Ve+1024>>0]+L[W+1280>>0]>>16)-128,R[Oe]=(L[tt+1280>>0]+L[Ve+1536>>0]+L[W+1792>>0]>>16)-128;ge=B(M,t,ge,l,n),Me=B(I,e,Me,h,f),Le=B(R,e,Le,h,f),We+=32}He+=8}if(A>=0){var ne=[];ne[1]=A+1,ne[0]=(1<<A+1)-1,be(ne)}return Ie(65497),typeof T>"u"?new Uint8Array(E):new x(E)};function Z(O){if(O<=0&&(O=1),O>100&&(O=100),j!=O){var ie=0;O<50?ie=Math.floor(5e3/O):ie=Math.floor(200-O*2),K(ie),j=O}}function D(){var O=new Date().getTime();v||(v=50),F(),te(),ce(),we(),Z(v),new Date().getTime()-O}D()}typeof T<"u"?T.exports=p:typeof C<"u"&&(C["jpeg-js"]=C["jpeg-js"]||{},C["jpeg-js"].encode=p);function p(v,o){typeof o>"u"&&(o=50);var s=new c(o),i=s.encode(v,o);return{data:i,width:v.width,height:v.height}}}).call(this,_("buffer").Buffer)},{buffer:48}],83:[function(_,T,b){(function(x){var c=_("path"),p=_("fs"),v=parseInt("0777",8);T.exports=o.mkdirp=o.mkdirP=o;function o(s,i,t,e){typeof i=="function"?(t=i,i={}):(!i||typeof i!="object")&&(i={mode:i});var l=i.mode,h=i.fs||p;l===void 0&&(l=v&~x.umask()),e||(e=null);var n=t||function(){};s=c.resolve(s),h.mkdir(s,l,function(f){if(!f)return e=e||s,n(null,e);switch(f.code){case"ENOENT":o(c.dirname(s),i,function(a,m){a?n(a,m):o(s,i,n,m)});break;default:h.stat(s,function(a,m){a||!m.isDirectory()?n(f,e):n(null,e)});break}})}o.sync=function s(i,t,e){(!t||typeof t!="object")&&(t={mode:t});var l=t.mode,h=t.fs||p;l===void 0&&(l=v&~x.umask()),e||(e=null),i=c.resolve(i);try{h.mkdirSync(i,l),e=e||i}catch(f){switch(f.code){case"ENOENT":e=s(c.dirname(i),t,e),s(i,t,e);break;default:var n;try{n=h.statSync(i)}catch{throw f}if(!n.isDirectory())throw f;break}}return e}}).call(this,_("_process"))},{_process:133,fs:47,path:107}],84:[function(_,T,b){var x=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,p=Object.prototype.propertyIsEnumerable;function v(s){if(s==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(s)}function o(){try{if(!Object.assign)return!1;var s=new String("abc");if(s[5]="de",Object.getOwnPropertyNames(s)[0]==="5")return!1;for(var i={},t=0;t<10;t++)i["_"+String.fromCharCode(t)]=t;var e=Object.getOwnPropertyNames(i).map(function(h){return i[h]});if(e.join("")!=="0123456789")return!1;var l={};return"abcdefghijklmnopqrst".split("").forEach(function(h){l[h]=h}),Object.keys(Object.assign({},l)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}T.exports=o()?Object.assign:function(s,i){for(var t,e=v(s),l,h=1;h<arguments.length;h++){t=Object(arguments[h]);for(var n in t)c.call(t,n)&&(e[n]=t[n]);if(x){l=x(t);for(var f=0;f<l.length;f++)p.call(t,l[f])&&(e[l[f]]=t[l[f]])}}return e}},{}],85:[function(_,T,b){arguments[4][64][0].apply(b,arguments)},{dup:64}],86:[function(_,T,b){var x=_("./lib/utils/common").assign,c=_("./lib/deflate"),p=_("./lib/inflate"),v=_("./lib/zlib/constants"),o={};x(o,c,p,v),T.exports=o},{"./lib/deflate":87,"./lib/inflate":88,"./lib/utils/common":89,"./lib/zlib/constants":92}],87:[function(_,T,b){var x=_("./zlib/deflate"),c=_("./utils/common"),p=_("./utils/strings"),v=_("./zlib/messages"),o=_("./zlib/zstream"),s=Object.prototype.toString,i=0,t=4,e=0,l=1,h=2,n=-1,f=0,a=8;function m(S){if(!(this instanceof m))return new m(S);this.options=c.assign({level:n,method:a,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},S||{});var A=this.options;A.raw&&A.windowBits>0?A.windowBits=-A.windowBits:A.gzip&&A.windowBits>0&&A.windowBits<16&&(A.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var M=x.deflateInit2(this.strm,A.level,A.method,A.windowBits,A.memLevel,A.strategy);if(M!==e)throw new Error(v[M]);if(A.header&&x.deflateSetHeader(this.strm,A.header),A.dictionary){var I;if(typeof A.dictionary=="string"?I=p.string2buf(A.dictionary):s.call(A.dictionary)==="[object ArrayBuffer]"?I=new Uint8Array(A.dictionary):I=A.dictionary,M=x.deflateSetDictionary(this.strm,I),M!==e)throw new Error(v[M]);this._dict_set=!0}}m.prototype.push=function(S,A){var M=this.strm,I=this.options.chunkSize,R,H;if(this.ended)return!1;H=A===~~A?A:A===!0?t:i,typeof S=="string"?M.input=p.string2buf(S):s.call(S)==="[object ArrayBuffer]"?M.input=new Uint8Array(S):M.input=S,M.next_in=0,M.avail_in=M.input.length;do{if(M.avail_out===0&&(M.output=new c.Buf8(I),M.next_out=0,M.avail_out=I),R=x.deflate(M,H),R!==l&&R!==e)return this.onEnd(R),this.ended=!0,!1;(M.avail_out===0||M.avail_in===0&&(H===t||H===h))&&(this.options.to==="string"?this.onData(p.buf2binstring(c.shrinkBuf(M.output,M.next_out))):this.onData(c.shrinkBuf(M.output,M.next_out)))}while((M.avail_in>0||M.avail_out===0)&&R!==l);return H===t?(R=x.deflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===e):(H===h&&(this.onEnd(e),M.avail_out=0),!0)},m.prototype.onData=function(S){this.chunks.push(S)},m.prototype.onEnd=function(S){S===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=S,this.msg=this.strm.msg};function g(S,A){var M=new m(A);if(M.push(S,!0),M.err)throw M.msg||v[M.err];return M.result}function y(S,A){return A=A||{},A.raw=!0,g(S,A)}function E(S,A){return A=A||{},A.gzip=!0,g(S,A)}b.Deflate=m,b.deflate=g,b.deflateRaw=y,b.gzip=E},{"./utils/common":89,"./utils/strings":90,"./zlib/deflate":94,"./zlib/messages":99,"./zlib/zstream":101}],88:[function(_,T,b){var x=_("./zlib/inflate"),c=_("./utils/common"),p=_("./utils/strings"),v=_("./zlib/constants"),o=_("./zlib/messages"),s=_("./zlib/zstream"),i=_("./zlib/gzheader"),t=Object.prototype.toString;function e(n){if(!(this instanceof e))return new e(n);this.options=c.assign({chunkSize:16384,windowBits:0,to:""},n||{});var f=this.options;f.raw&&f.windowBits>=0&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),f.windowBits>=0&&f.windowBits<16&&!(n&&n.windowBits)&&(f.windowBits+=32),f.windowBits>15&&f.windowBits<48&&(f.windowBits&15)===0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var a=x.inflateInit2(this.strm,f.windowBits);if(a!==v.Z_OK)throw new Error(o[a]);this.header=new i,x.inflateGetHeader(this.strm,this.header)}e.prototype.push=function(n,f){var a=this.strm,m=this.options.chunkSize,g=this.options.dictionary,y,E,S,A,M,I,R=!1;if(this.ended)return!1;E=f===~~f?f:f===!0?v.Z_FINISH:v.Z_NO_FLUSH,typeof n=="string"?a.input=p.binstring2buf(n):t.call(n)==="[object ArrayBuffer]"?a.input=new Uint8Array(n):a.input=n,a.next_in=0,a.avail_in=a.input.length;do{if(a.avail_out===0&&(a.output=new c.Buf8(m),a.next_out=0,a.avail_out=m),y=x.inflate(a,v.Z_NO_FLUSH),y===v.Z_NEED_DICT&&g&&(typeof g=="string"?I=p.string2buf(g):t.call(g)==="[object ArrayBuffer]"?I=new Uint8Array(g):I=g,y=x.inflateSetDictionary(this.strm,I)),y===v.Z_BUF_ERROR&&R===!0&&(y=v.Z_OK,R=!1),y!==v.Z_STREAM_END&&y!==v.Z_OK)return this.onEnd(y),this.ended=!0,!1;a.next_out&&(a.avail_out===0||y===v.Z_STREAM_END||a.avail_in===0&&(E===v.Z_FINISH||E===v.Z_SYNC_FLUSH))&&(this.options.to==="string"?(S=p.utf8border(a.output,a.next_out),A=a.next_out-S,M=p.buf2string(a.output,S),a.next_out=A,a.avail_out=m-A,A&&c.arraySet(a.output,a.output,S,A,0),this.onData(M)):this.onData(c.shrinkBuf(a.output,a.next_out))),a.avail_in===0&&a.avail_out===0&&(R=!0)}while((a.avail_in>0||a.avail_out===0)&&y!==v.Z_STREAM_END);return y===v.Z_STREAM_END&&(E=v.Z_FINISH),E===v.Z_FINISH?(y=x.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===v.Z_OK):(E===v.Z_SYNC_FLUSH&&(this.onEnd(v.Z_OK),a.avail_out=0),!0)},e.prototype.onData=function(n){this.chunks.push(n)},e.prototype.onEnd=function(n){n===v.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=c.flattenChunks(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg};function l(n,f){var a=new e(f);if(a.push(n,!0),a.err)throw a.msg||o[a.err];return a.result}function h(n,f){return f=f||{},f.raw=!0,l(n,f)}b.Inflate=e,b.inflate=l,b.inflateRaw=h,b.ungzip=l},{"./utils/common":89,"./utils/strings":90,"./zlib/constants":92,"./zlib/gzheader":95,"./zlib/inflate":97,"./zlib/messages":99,"./zlib/zstream":101}],89:[function(_,T,b){arguments[4][36][0].apply(b,arguments)},{dup:36}],90:[function(_,T,b){var x=_("./common"),c=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{c=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var v=new x.Buf8(256),o=0;o<256;o++)v[o]=o>=252?6:o>=248?5:o>=240?4:o>=224?3:o>=192?2:1;v[254]=v[254]=1,b.string2buf=function(i){var t,e,l,h,n,f=i.length,a=0;for(h=0;h<f;h++)e=i.charCodeAt(h),(e&64512)===55296&&h+1<f&&(l=i.charCodeAt(h+1),(l&64512)===56320&&(e=65536+(e-55296<<10)+(l-56320),h++)),a+=e<128?1:e<2048?2:e<65536?3:4;for(t=new x.Buf8(a),n=0,h=0;n<a;h++)e=i.charCodeAt(h),(e&64512)===55296&&h+1<f&&(l=i.charCodeAt(h+1),(l&64512)===56320&&(e=65536+(e-55296<<10)+(l-56320),h++)),e<128?t[n++]=e:e<2048?(t[n++]=192|e>>>6,t[n++]=128|e&63):e<65536?(t[n++]=224|e>>>12,t[n++]=128|e>>>6&63,t[n++]=128|e&63):(t[n++]=240|e>>>18,t[n++]=128|e>>>12&63,t[n++]=128|e>>>6&63,t[n++]=128|e&63);return t};function s(i,t){if(t<65537&&(i.subarray&&p||!i.subarray&&c))return String.fromCharCode.apply(null,x.shrinkBuf(i,t));for(var e="",l=0;l<t;l++)e+=String.fromCharCode(i[l]);return e}b.buf2binstring=function(i){return s(i,i.length)},b.binstring2buf=function(i){for(var t=new x.Buf8(i.length),e=0,l=t.length;e<l;e++)t[e]=i.charCodeAt(e);return t},b.buf2string=function(i,t){var e,l,h,n,f=t||i.length,a=new Array(f*2);for(l=0,e=0;e<f;){if(h=i[e++],h<128){a[l++]=h;continue}if(n=v[h],n>4){a[l++]=65533,e+=n-1;continue}for(h&=n===2?31:n===3?15:7;n>1&&e<f;)h=h<<6|i[e++]&63,n--;if(n>1){a[l++]=65533;continue}h<65536?a[l++]=h:(h-=65536,a[l++]=55296|h>>10&1023,a[l++]=56320|h&1023)}return s(a,l)},b.utf8border=function(i,t){var e;for(t=t||i.length,t>i.length&&(t=i.length),e=t-1;e>=0&&(i[e]&192)===128;)e--;return e<0||e===0?t:e+v[i[e]]>t?e:t}},{"./common":89}],91:[function(_,T,b){arguments[4][37][0].apply(b,arguments)},{dup:37}],92:[function(_,T,b){arguments[4][38][0].apply(b,arguments)},{dup:38}],93:[function(_,T,b){arguments[4][39][0].apply(b,arguments)},{dup:39}],94:[function(_,T,b){var x=_("../utils/common"),c=_("./trees"),p=_("./adler32"),v=_("./crc32"),o=_("./messages"),s=0,i=1,t=3,e=4,l=5,h=0,n=1,f=-2,a=-3,m=-5,g=-1,y=1,E=2,S=3,A=4,M=0,I=2,R=8,H=9,L=15,j=8,V=29,G=256,U=G+1+V,Y=30,ee=19,le=2*U+1,he=15,oe=3,q=258,K=q+oe+1,Q=32,te=42,ce=69,we=73,be=91,xe=103,Ie=113,me=666,ve=1,re=2,se=3,fe=4,J=3;function z(w,Ee){return w.msg=o[Ee],Ee}function B(w){return(w<<1)-(w>4?9:0)}function F(w){for(var Ee=w.length;--Ee>=0;)w[Ee]=0}function Z(w){var Ee=w.state,Re=Ee.pending;Re>w.avail_out&&(Re=w.avail_out),Re!==0&&(x.arraySet(w.output,Ee.pending_buf,Ee.pending_out,Re,w.next_out),w.next_out+=Re,Ee.pending_out+=Re,w.total_out+=Re,w.avail_out-=Re,Ee.pending-=Re,Ee.pending===0&&(Ee.pending_out=0))}function D(w,Ee){c._tr_flush_block(w,w.block_start>=0?w.block_start:-1,w.strstart-w.block_start,Ee),w.block_start=w.strstart,Z(w.strm)}function O(w,Ee){w.pending_buf[w.pending++]=Ee}function ie(w,Ee){w.pending_buf[w.pending++]=Ee>>>8&255,w.pending_buf[w.pending++]=Ee&255}function ge(w,Ee,Re,X){var _e=w.avail_in;return _e>X&&(_e=X),_e===0?0:(w.avail_in-=_e,x.arraySet(Ee,w.input,w.next_in,_e,Re),w.state.wrap===1?w.adler=p(w.adler,Ee,_e,Re):w.state.wrap===2&&(w.adler=v(w.adler,Ee,_e,Re)),w.next_in+=_e,w.total_in+=_e,_e)}function Me(w,Ee){var Re=w.max_chain_length,X=w.strstart,_e,De,Ye=w.prev_length,Xe=w.nice_match,Ke=w.strstart>w.w_size-K?w.strstart-(w.w_size-K):0,rt=w.window,Et=w.w_mask,ct=w.prev,nt=w.strstart+q,pt=rt[X+Ye-1],dt=rt[X+Ye];w.prev_length>=w.good_match&&(Re>>=2),Xe>w.lookahead&&(Xe=w.lookahead);do if(_e=Ee,!(rt[_e+Ye]!==dt||rt[_e+Ye-1]!==pt||rt[_e]!==rt[X]||rt[++_e]!==rt[X+1])){X+=2,_e++;do;while(rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&rt[++X]===rt[++_e]&&X<nt);if(De=q-(nt-X),X=nt-q,De>Ye){if(w.match_start=Ee,Ye=De,De>=Xe)break;pt=rt[X+Ye-1],dt=rt[X+Ye]}}while((Ee=ct[Ee&Et])>Ke&&--Re!==0);return Ye<=w.lookahead?Ye:w.lookahead}function Le(w){var Ee=w.w_size,Re,X,_e,De,Ye;do{if(De=w.window_size-w.lookahead-w.strstart,w.strstart>=Ee+(Ee-K)){x.arraySet(w.window,w.window,Ee,Ee,0),w.match_start-=Ee,w.strstart-=Ee,w.block_start-=Ee,X=w.hash_size,Re=X;do _e=w.head[--Re],w.head[Re]=_e>=Ee?_e-Ee:0;while(--X);X=Ee,Re=X;do _e=w.prev[--Re],w.prev[Re]=_e>=Ee?_e-Ee:0;while(--X);De+=Ee}if(w.strm.avail_in===0)break;if(X=ge(w.strm,w.window,w.strstart+w.lookahead,De),w.lookahead+=X,w.lookahead+w.insert>=oe)for(Ye=w.strstart-w.insert,w.ins_h=w.window[Ye],w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ye+1])&w.hash_mask;w.insert&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[Ye+oe-1])&w.hash_mask,w.prev[Ye&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=Ye,Ye++,w.insert--,!(w.lookahead+w.insert<oe)););}while(w.lookahead<K&&w.strm.avail_in!==0)}function ze(w,Ee){var Re=65535;for(Re>w.pending_buf_size-5&&(Re=w.pending_buf_size-5);;){if(w.lookahead<=1){if(Le(w),w.lookahead===0&&Ee===s)return ve;if(w.lookahead===0)break}w.strstart+=w.lookahead,w.lookahead=0;var X=w.block_start+Re;if((w.strstart===0||w.strstart>=X)&&(w.lookahead=w.strstart-X,w.strstart=X,D(w,!1),w.strm.avail_out===0)||w.strstart-w.block_start>=w.w_size-K&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=0,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):(w.strstart>w.block_start&&(D(w,!1),w.strm.avail_out===0),ve)}function qe(w,Ee){for(var Re,X;;){if(w.lookahead<K){if(Le(w),w.lookahead<K&&Ee===s)return ve;if(w.lookahead===0)break}if(Re=0,w.lookahead>=oe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),Re!==0&&w.strstart-Re<=w.w_size-K&&(w.match_length=Me(w,Re)),w.match_length>=oe)if(X=c._tr_tally(w,w.strstart-w.match_start,w.match_length-oe),w.lookahead-=w.match_length,w.match_length<=w.max_lazy_match&&w.lookahead>=oe){w.match_length--;do w.strstart++,w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart;while(--w.match_length!==0);w.strstart++}else w.strstart+=w.match_length,w.match_length=0,w.ins_h=w.window[w.strstart],w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+1])&w.hash_mask;else X=c._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++;if(X&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=w.strstart<oe-1?w.strstart:oe-1,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function Ge(w,Ee){for(var Re,X,_e;;){if(w.lookahead<K){if(Le(w),w.lookahead<K&&Ee===s)return ve;if(w.lookahead===0)break}if(Re=0,w.lookahead>=oe&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart),w.prev_length=w.match_length,w.prev_match=w.match_start,w.match_length=oe-1,Re!==0&&w.prev_length<w.max_lazy_match&&w.strstart-Re<=w.w_size-K&&(w.match_length=Me(w,Re),w.match_length<=5&&(w.strategy===y||w.match_length===oe&&w.strstart-w.match_start>4096)&&(w.match_length=oe-1)),w.prev_length>=oe&&w.match_length<=w.prev_length){_e=w.strstart+w.lookahead-oe,X=c._tr_tally(w,w.strstart-1-w.prev_match,w.prev_length-oe),w.lookahead-=w.prev_length-1,w.prev_length-=2;do++w.strstart<=_e&&(w.ins_h=(w.ins_h<<w.hash_shift^w.window[w.strstart+oe-1])&w.hash_mask,Re=w.prev[w.strstart&w.w_mask]=w.head[w.ins_h],w.head[w.ins_h]=w.strstart);while(--w.prev_length!==0);if(w.match_available=0,w.match_length=oe-1,w.strstart++,X&&(D(w,!1),w.strm.avail_out===0))return ve}else if(w.match_available){if(X=c._tr_tally(w,0,w.window[w.strstart-1]),X&&D(w,!1),w.strstart++,w.lookahead--,w.strm.avail_out===0)return ve}else w.match_available=1,w.strstart++,w.lookahead--}return w.match_available&&(X=c._tr_tally(w,0,w.window[w.strstart-1]),w.match_available=0),w.insert=w.strstart<oe-1?w.strstart:oe-1,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function je(w,Ee){for(var Re,X,_e,De,Ye=w.window;;){if(w.lookahead<=q){if(Le(w),w.lookahead<=q&&Ee===s)return ve;if(w.lookahead===0)break}if(w.match_length=0,w.lookahead>=oe&&w.strstart>0&&(_e=w.strstart-1,X=Ye[_e],X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e])){De=w.strstart+q;do;while(X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&X===Ye[++_e]&&_e<De);w.match_length=q-(De-_e),w.match_length>w.lookahead&&(w.match_length=w.lookahead)}if(w.match_length>=oe?(Re=c._tr_tally(w,1,w.match_length-oe),w.lookahead-=w.match_length,w.strstart+=w.match_length,w.match_length=0):(Re=c._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++),Re&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=0,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function We(w,Ee){for(var Re;;){if(w.lookahead===0&&(Le(w),w.lookahead===0)){if(Ee===s)return ve;break}if(w.match_length=0,Re=c._tr_tally(w,0,w.window[w.strstart]),w.lookahead--,w.strstart++,Re&&(D(w,!1),w.strm.avail_out===0))return ve}return w.insert=0,Ee===e?(D(w,!0),w.strm.avail_out===0?se:fe):w.last_lit&&(D(w,!1),w.strm.avail_out===0)?ve:re}function He(w,Ee,Re,X,_e){this.good_length=w,this.max_lazy=Ee,this.nice_length=Re,this.max_chain=X,this.func=_e}var tt;tt=[new He(0,0,0,0,ze),new He(4,4,8,4,qe),new He(4,5,16,8,qe),new He(4,6,32,32,qe),new He(4,4,16,16,Ge),new He(8,16,32,32,Ge),new He(8,16,128,128,Ge),new He(8,32,128,256,Ge),new He(32,128,258,1024,Ge),new He(32,258,258,4096,Ge)];function Ve(w){w.window_size=2*w.w_size,F(w.head),w.max_lazy_match=tt[w.level].max_lazy,w.good_match=tt[w.level].good_length,w.nice_match=tt[w.level].nice_length,w.max_chain_length=tt[w.level].max_chain,w.strstart=0,w.block_start=0,w.lookahead=0,w.insert=0,w.match_length=w.prev_length=oe-1,w.match_available=0,w.ins_h=0}function W(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=R,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new x.Buf16(le*2),this.dyn_dtree=new x.Buf16((2*Y+1)*2),this.bl_tree=new x.Buf16((2*ee+1)*2),F(this.dyn_ltree),F(this.dyn_dtree),F(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new x.Buf16(he+1),this.heap=new x.Buf16(2*U+1),F(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new x.Buf16(2*U+1),F(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Se(w){var Ee;return!w||!w.state?z(w,f):(w.total_in=w.total_out=0,w.data_type=I,Ee=w.state,Ee.pending=0,Ee.pending_out=0,Ee.wrap<0&&(Ee.wrap=-Ee.wrap),Ee.status=Ee.wrap?te:Ie,w.adler=Ee.wrap===2?0:1,Ee.last_flush=s,c._tr_init(Ee),h)}function Ae(w){var Ee=Se(w);return Ee===h&&Ve(w.state),Ee}function ke(w,Ee){return!w||!w.state||w.state.wrap!==2?f:(w.state.gzhead=Ee,h)}function Pe(w,Ee,Re,X,_e,De){if(!w)return f;var Ye=1;if(Ee===g&&(Ee=6),X<0?(Ye=0,X=-X):X>15&&(Ye=2,X-=16),_e<1||_e>H||Re!==R||X<8||X>15||Ee<0||Ee>9||De<0||De>A)return z(w,f);X===8&&(X=9);var Xe=new W;return w.state=Xe,Xe.strm=w,Xe.wrap=Ye,Xe.gzhead=null,Xe.w_bits=X,Xe.w_size=1<<Xe.w_bits,Xe.w_mask=Xe.w_size-1,Xe.hash_bits=_e+7,Xe.hash_size=1<<Xe.hash_bits,Xe.hash_mask=Xe.hash_size-1,Xe.hash_shift=~~((Xe.hash_bits+oe-1)/oe),Xe.window=new x.Buf8(Xe.w_size*2),Xe.head=new x.Buf16(Xe.hash_size),Xe.prev=new x.Buf16(Xe.w_size),Xe.lit_bufsize=1<<_e+6,Xe.pending_buf_size=Xe.lit_bufsize*4,Xe.pending_buf=new x.Buf8(Xe.pending_buf_size),Xe.d_buf=1*Xe.lit_bufsize,Xe.l_buf=(1+2)*Xe.lit_bufsize,Xe.level=Ee,Xe.strategy=De,Xe.method=Re,Ae(w)}function Oe(w,Ee){return Pe(w,Ee,R,L,j,M)}function ne(w,Ee){var Re,X,_e,De;if(!w||!w.state||Ee>l||Ee<0)return w?z(w,f):f;if(X=w.state,!w.output||!w.input&&w.avail_in!==0||X.status===me&&Ee!==e)return z(w,w.avail_out===0?m:f);if(X.strm=w,Re=X.last_flush,X.last_flush=Ee,X.status===te)if(X.wrap===2)w.adler=0,O(X,31),O(X,139),O(X,8),X.gzhead?(O(X,(X.gzhead.text?1:0)+(X.gzhead.hcrc?2:0)+(X.gzhead.extra?4:0)+(X.gzhead.name?8:0)+(X.gzhead.comment?16:0)),O(X,X.gzhead.time&255),O(X,X.gzhead.time>>8&255),O(X,X.gzhead.time>>16&255),O(X,X.gzhead.time>>24&255),O(X,X.level===9?2:X.strategy>=E||X.level<2?4:0),O(X,X.gzhead.os&255),X.gzhead.extra&&X.gzhead.extra.length&&(O(X,X.gzhead.extra.length&255),O(X,X.gzhead.extra.length>>8&255)),X.gzhead.hcrc&&(w.adler=v(w.adler,X.pending_buf,X.pending,0)),X.gzindex=0,X.status=ce):(O(X,0),O(X,0),O(X,0),O(X,0),O(X,0),O(X,X.level===9?2:X.strategy>=E||X.level<2?4:0),O(X,J),X.status=Ie);else{var Ye=R+(X.w_bits-8<<4)<<8,Xe=-1;X.strategy>=E||X.level<2?Xe=0:X.level<6?Xe=1:X.level===6?Xe=2:Xe=3,Ye|=Xe<<6,X.strstart!==0&&(Ye|=Q),Ye+=31-Ye%31,X.status=Ie,ie(X,Ye),X.strstart!==0&&(ie(X,w.adler>>>16),ie(X,w.adler&65535)),w.adler=1}if(X.status===ce)if(X.gzhead.extra){for(_e=X.pending;X.gzindex<(X.gzhead.extra.length&65535)&&!(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),Z(w),_e=X.pending,X.pending===X.pending_buf_size));)O(X,X.gzhead.extra[X.gzindex]&255),X.gzindex++;X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),X.gzindex===X.gzhead.extra.length&&(X.gzindex=0,X.status=we)}else X.status=we;if(X.status===we)if(X.gzhead.name){_e=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),Z(w),_e=X.pending,X.pending===X.pending_buf_size)){De=1;break}X.gzindex<X.gzhead.name.length?De=X.gzhead.name.charCodeAt(X.gzindex++)&255:De=0,O(X,De)}while(De!==0);X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),De===0&&(X.gzindex=0,X.status=be)}else X.status=be;if(X.status===be)if(X.gzhead.comment){_e=X.pending;do{if(X.pending===X.pending_buf_size&&(X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),Z(w),_e=X.pending,X.pending===X.pending_buf_size)){De=1;break}X.gzindex<X.gzhead.comment.length?De=X.gzhead.comment.charCodeAt(X.gzindex++)&255:De=0,O(X,De)}while(De!==0);X.gzhead.hcrc&&X.pending>_e&&(w.adler=v(w.adler,X.pending_buf,X.pending-_e,_e)),De===0&&(X.status=xe)}else X.status=xe;if(X.status===xe&&(X.gzhead.hcrc?(X.pending+2>X.pending_buf_size&&Z(w),X.pending+2<=X.pending_buf_size&&(O(X,w.adler&255),O(X,w.adler>>8&255),w.adler=0,X.status=Ie)):X.status=Ie),X.pending!==0){if(Z(w),w.avail_out===0)return X.last_flush=-1,h}else if(w.avail_in===0&&B(Ee)<=B(Re)&&Ee!==e)return z(w,m);if(X.status===me&&w.avail_in!==0)return z(w,m);if(w.avail_in!==0||X.lookahead!==0||Ee!==s&&X.status!==me){var Ke=X.strategy===E?We(X,Ee):X.strategy===S?je(X,Ee):tt[X.level].func(X,Ee);if((Ke===se||Ke===fe)&&(X.status=me),Ke===ve||Ke===se)return w.avail_out===0&&(X.last_flush=-1),h;if(Ke===re&&(Ee===i?c._tr_align(X):Ee!==l&&(c._tr_stored_block(X,0,0,!1),Ee===t&&(F(X.head),X.lookahead===0&&(X.strstart=0,X.block_start=0,X.insert=0))),Z(w),w.avail_out===0))return X.last_flush=-1,h}return Ee!==e?h:X.wrap<=0?n:(X.wrap===2?(O(X,w.adler&255),O(X,w.adler>>8&255),O(X,w.adler>>16&255),O(X,w.adler>>24&255),O(X,w.total_in&255),O(X,w.total_in>>8&255),O(X,w.total_in>>16&255),O(X,w.total_in>>24&255)):(ie(X,w.adler>>>16),ie(X,w.adler&65535)),Z(w),X.wrap>0&&(X.wrap=-X.wrap),X.pending!==0?h:n)}function Ue(w){var Ee;return!w||!w.state?f:(Ee=w.state.status,Ee!==te&&Ee!==ce&&Ee!==we&&Ee!==be&&Ee!==xe&&Ee!==Ie&&Ee!==me?z(w,f):(w.state=null,Ee===Ie?z(w,a):h))}function et(w,Ee){var Re=Ee.length,X,_e,De,Ye,Xe,Ke,rt,Et;if(!w||!w.state||(X=w.state,Ye=X.wrap,Ye===2||Ye===1&&X.status!==te||X.lookahead))return f;for(Ye===1&&(w.adler=p(w.adler,Ee,Re,0)),X.wrap=0,Re>=X.w_size&&(Ye===0&&(F(X.head),X.strstart=0,X.block_start=0,X.insert=0),Et=new x.Buf8(X.w_size),x.arraySet(Et,Ee,Re-X.w_size,X.w_size,0),Ee=Et,Re=X.w_size),Xe=w.avail_in,Ke=w.next_in,rt=w.input,w.avail_in=Re,w.next_in=0,w.input=Ee,Le(X);X.lookahead>=oe;){_e=X.strstart,De=X.lookahead-(oe-1);do X.ins_h=(X.ins_h<<X.hash_shift^X.window[_e+oe-1])&X.hash_mask,X.prev[_e&X.w_mask]=X.head[X.ins_h],X.head[X.ins_h]=_e,_e++;while(--De);X.strstart=_e,X.lookahead=oe-1,Le(X)}return X.strstart+=X.lookahead,X.block_start=X.strstart,X.insert=X.lookahead,X.lookahead=0,X.match_length=X.prev_length=oe-1,X.match_available=0,w.next_in=Ke,w.input=rt,w.avail_in=Xe,X.wrap=Ye,h}b.deflateInit=Oe,b.deflateInit2=Pe,b.deflateReset=Ae,b.deflateResetKeep=Se,b.deflateSetHeader=ke,b.deflate=ne,b.deflateEnd=Ue,b.deflateSetDictionary=et,b.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":89,"./adler32":91,"./crc32":93,"./messages":99,"./trees":100}],95:[function(_,T,b){function x(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}T.exports=x},{}],96:[function(_,T,b){arguments[4][41][0].apply(b,arguments)},{dup:41}],97:[function(_,T,b){arguments[4][42][0].apply(b,arguments)},{"../utils/common":89,"./adler32":91,"./crc32":93,"./inffast":96,"./inftrees":98,dup:42}],98:[function(_,T,b){arguments[4][43][0].apply(b,arguments)},{"../utils/common":89,dup:43}],99:[function(_,T,b){arguments[4][44][0].apply(b,arguments)},{dup:44}],100:[function(_,T,b){var x=_("../utils/common"),c=4,p=0,v=1,o=2;function s(W){for(var Se=W.length;--Se>=0;)W[Se]=0}var i=0,t=1,e=2,l=3,h=258,n=29,f=256,a=f+1+n,m=30,g=19,y=2*a+1,E=15,S=16,A=7,M=256,I=16,R=17,H=18,L=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],j=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],V=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=512,Y=new Array((a+2)*2);s(Y);var ee=new Array(m*2);s(ee);var le=new Array(U);s(le);var he=new Array(h-l+1);s(he);var oe=new Array(n);s(oe);var q=new Array(m);s(q);function K(W,Se,Ae,ke,Pe){this.static_tree=W,this.extra_bits=Se,this.extra_base=Ae,this.elems=ke,this.max_length=Pe,this.has_stree=W&&W.length}var Q,te,ce;function we(W,Se){this.dyn_tree=W,this.max_code=0,this.stat_desc=Se}function be(W){return W<256?le[W]:le[256+(W>>>7)]}function xe(W,Se){W.pending_buf[W.pending++]=Se&255,W.pending_buf[W.pending++]=Se>>>8&255}function Ie(W,Se,Ae){W.bi_valid>S-Ae?(W.bi_buf|=Se<<W.bi_valid&65535,xe(W,W.bi_buf),W.bi_buf=Se>>S-W.bi_valid,W.bi_valid+=Ae-S):(W.bi_buf|=Se<<W.bi_valid&65535,W.bi_valid+=Ae)}function me(W,Se,Ae){Ie(W,Ae[Se*2],Ae[Se*2+1])}function ve(W,Se){var Ae=0;do Ae|=W&1,W>>>=1,Ae<<=1;while(--Se>0);return Ae>>>1}function re(W){W.bi_valid===16?(xe(W,W.bi_buf),W.bi_buf=0,W.bi_valid=0):W.bi_valid>=8&&(W.pending_buf[W.pending++]=W.bi_buf&255,W.bi_buf>>=8,W.bi_valid-=8)}function se(W,Se){var Ae=Se.dyn_tree,ke=Se.max_code,Pe=Se.stat_desc.static_tree,Oe=Se.stat_desc.has_stree,ne=Se.stat_desc.extra_bits,Ue=Se.stat_desc.extra_base,et=Se.stat_desc.max_length,w,Ee,Re,X,_e,De,Ye=0;for(X=0;X<=E;X++)W.bl_count[X]=0;for(Ae[W.heap[W.heap_max]*2+1]=0,w=W.heap_max+1;w<y;w++)Ee=W.heap[w],X=Ae[Ae[Ee*2+1]*2+1]+1,X>et&&(X=et,Ye++),Ae[Ee*2+1]=X,!(Ee>ke)&&(W.bl_count[X]++,_e=0,Ee>=Ue&&(_e=ne[Ee-Ue]),De=Ae[Ee*2],W.opt_len+=De*(X+_e),Oe&&(W.static_len+=De*(Pe[Ee*2+1]+_e)));if(Ye!==0){do{for(X=et-1;W.bl_count[X]===0;)X--;W.bl_count[X]--,W.bl_count[X+1]+=2,W.bl_count[et]--,Ye-=2}while(Ye>0);for(X=et;X!==0;X--)for(Ee=W.bl_count[X];Ee!==0;)Re=W.heap[--w],!(Re>ke)&&(Ae[Re*2+1]!==X&&(W.opt_len+=(X-Ae[Re*2+1])*Ae[Re*2],Ae[Re*2+1]=X),Ee--)}}function fe(W,Se,Ae){var ke=new Array(E+1),Pe=0,Oe,ne;for(Oe=1;Oe<=E;Oe++)ke[Oe]=Pe=Pe+Ae[Oe-1]<<1;for(ne=0;ne<=Se;ne++){var Ue=W[ne*2+1];Ue!==0&&(W[ne*2]=ve(ke[Ue]++,Ue))}}function J(){var W,Se,Ae,ke,Pe,Oe=new Array(E+1);for(Ae=0,ke=0;ke<n-1;ke++)for(oe[ke]=Ae,W=0;W<1<<L[ke];W++)he[Ae++]=ke;for(he[Ae-1]=ke,Pe=0,ke=0;ke<16;ke++)for(q[ke]=Pe,W=0;W<1<<j[ke];W++)le[Pe++]=ke;for(Pe>>=7;ke<m;ke++)for(q[ke]=Pe<<7,W=0;W<1<<j[ke]-7;W++)le[256+Pe++]=ke;for(Se=0;Se<=E;Se++)Oe[Se]=0;for(W=0;W<=143;)Y[W*2+1]=8,W++,Oe[8]++;for(;W<=255;)Y[W*2+1]=9,W++,Oe[9]++;for(;W<=279;)Y[W*2+1]=7,W++,Oe[7]++;for(;W<=287;)Y[W*2+1]=8,W++,Oe[8]++;for(fe(Y,a+1,Oe),W=0;W<m;W++)ee[W*2+1]=5,ee[W*2]=ve(W,5);Q=new K(Y,L,f+1,a,E),te=new K(ee,j,0,m,E),ce=new K(new Array(0),V,0,g,A)}function z(W){var Se;for(Se=0;Se<a;Se++)W.dyn_ltree[Se*2]=0;for(Se=0;Se<m;Se++)W.dyn_dtree[Se*2]=0;for(Se=0;Se<g;Se++)W.bl_tree[Se*2]=0;W.dyn_ltree[M*2]=1,W.opt_len=W.static_len=0,W.last_lit=W.matches=0}function B(W){W.bi_valid>8?xe(W,W.bi_buf):W.bi_valid>0&&(W.pending_buf[W.pending++]=W.bi_buf),W.bi_buf=0,W.bi_valid=0}function F(W,Se,Ae,ke){B(W),ke&&(xe(W,Ae),xe(W,~Ae)),x.arraySet(W.pending_buf,W.window,Se,Ae,W.pending),W.pending+=Ae}function Z(W,Se,Ae,ke){var Pe=Se*2,Oe=Ae*2;return W[Pe]<W[Oe]||W[Pe]===W[Oe]&&ke[Se]<=ke[Ae]}function D(W,Se,Ae){for(var ke=W.heap[Ae],Pe=Ae<<1;Pe<=W.heap_len&&(Pe<W.heap_len&&Z(Se,W.heap[Pe+1],W.heap[Pe],W.depth)&&Pe++,!Z(Se,ke,W.heap[Pe],W.depth));)W.heap[Ae]=W.heap[Pe],Ae=Pe,Pe<<=1;W.heap[Ae]=ke}function O(W,Se,Ae){var ke,Pe,Oe=0,ne,Ue;if(W.last_lit!==0)do ke=W.pending_buf[W.d_buf+Oe*2]<<8|W.pending_buf[W.d_buf+Oe*2+1],Pe=W.pending_buf[W.l_buf+Oe],Oe++,ke===0?me(W,Pe,Se):(ne=he[Pe],me(W,ne+f+1,Se),Ue=L[ne],Ue!==0&&(Pe-=oe[ne],Ie(W,Pe,Ue)),ke--,ne=be(ke),me(W,ne,Ae),Ue=j[ne],Ue!==0&&(ke-=q[ne],Ie(W,ke,Ue)));while(Oe<W.last_lit);me(W,M,Se)}function ie(W,Se){var Ae=Se.dyn_tree,ke=Se.stat_desc.static_tree,Pe=Se.stat_desc.has_stree,Oe=Se.stat_desc.elems,ne,Ue,et=-1,w;for(W.heap_len=0,W.heap_max=y,ne=0;ne<Oe;ne++)Ae[ne*2]!==0?(W.heap[++W.heap_len]=et=ne,W.depth[ne]=0):Ae[ne*2+1]=0;for(;W.heap_len<2;)w=W.heap[++W.heap_len]=et<2?++et:0,Ae[w*2]=1,W.depth[w]=0,W.opt_len--,Pe&&(W.static_len-=ke[w*2+1]);for(Se.max_code=et,ne=W.heap_len>>1;ne>=1;ne--)D(W,Ae,ne);w=Oe;do ne=W.heap[1],W.heap[1]=W.heap[W.heap_len--],D(W,Ae,1),Ue=W.heap[1],W.heap[--W.heap_max]=ne,W.heap[--W.heap_max]=Ue,Ae[w*2]=Ae[ne*2]+Ae[Ue*2],W.depth[w]=(W.depth[ne]>=W.depth[Ue]?W.depth[ne]:W.depth[Ue])+1,Ae[ne*2+1]=Ae[Ue*2+1]=w,W.heap[1]=w++,D(W,Ae,1);while(W.heap_len>=2);W.heap[--W.heap_max]=W.heap[1],se(W,Se),fe(Ae,et,W.bl_count)}function ge(W,Se,Ae){var ke,Pe=-1,Oe,ne=Se[0*2+1],Ue=0,et=7,w=4;for(ne===0&&(et=138,w=3),Se[(Ae+1)*2+1]=65535,ke=0;ke<=Ae;ke++)Oe=ne,ne=Se[(ke+1)*2+1],!(++Ue<et&&Oe===ne)&&(Ue<w?W.bl_tree[Oe*2]+=Ue:Oe!==0?(Oe!==Pe&&W.bl_tree[Oe*2]++,W.bl_tree[I*2]++):Ue<=10?W.bl_tree[R*2]++:W.bl_tree[H*2]++,Ue=0,Pe=Oe,ne===0?(et=138,w=3):Oe===ne?(et=6,w=3):(et=7,w=4))}function Me(W,Se,Ae){var ke,Pe=-1,Oe,ne=Se[0*2+1],Ue=0,et=7,w=4;for(ne===0&&(et=138,w=3),ke=0;ke<=Ae;ke++)if(Oe=ne,ne=Se[(ke+1)*2+1],!(++Ue<et&&Oe===ne)){if(Ue<w)do me(W,Oe,W.bl_tree);while(--Ue!==0);else Oe!==0?(Oe!==Pe&&(me(W,Oe,W.bl_tree),Ue--),me(W,I,W.bl_tree),Ie(W,Ue-3,2)):Ue<=10?(me(W,R,W.bl_tree),Ie(W,Ue-3,3)):(me(W,H,W.bl_tree),Ie(W,Ue-11,7));Ue=0,Pe=Oe,ne===0?(et=138,w=3):Oe===ne?(et=6,w=3):(et=7,w=4)}}function Le(W){var Se;for(ge(W,W.dyn_ltree,W.l_desc.max_code),ge(W,W.dyn_dtree,W.d_desc.max_code),ie(W,W.bl_desc),Se=g-1;Se>=3&&W.bl_tree[G[Se]*2+1]===0;Se--);return W.opt_len+=3*(Se+1)+5+5+4,Se}function ze(W,Se,Ae,ke){var Pe;for(Ie(W,Se-257,5),Ie(W,Ae-1,5),Ie(W,ke-4,4),Pe=0;Pe<ke;Pe++)Ie(W,W.bl_tree[G[Pe]*2+1],3);Me(W,W.dyn_ltree,Se-1),Me(W,W.dyn_dtree,Ae-1)}function qe(W){var Se=4093624447,Ae;for(Ae=0;Ae<=31;Ae++,Se>>>=1)if(Se&1&&W.dyn_ltree[Ae*2]!==0)return p;if(W.dyn_ltree[9*2]!==0||W.dyn_ltree[10*2]!==0||W.dyn_ltree[13*2]!==0)return v;for(Ae=32;Ae<f;Ae++)if(W.dyn_ltree[Ae*2]!==0)return v;return p}var Ge=!1;function je(W){Ge||(J(),Ge=!0),W.l_desc=new we(W.dyn_ltree,Q),W.d_desc=new we(W.dyn_dtree,te),W.bl_desc=new we(W.bl_tree,ce),W.bi_buf=0,W.bi_valid=0,z(W)}function We(W,Se,Ae,ke){Ie(W,(i<<1)+(ke?1:0),3),F(W,Se,Ae,!0)}function He(W){Ie(W,t<<1,3),me(W,M,Y),re(W)}function tt(W,Se,Ae,ke){var Pe,Oe,ne=0;W.level>0?(W.strm.data_type===o&&(W.strm.data_type=qe(W)),ie(W,W.l_desc),ie(W,W.d_desc),ne=Le(W),Pe=W.opt_len+3+7>>>3,Oe=W.static_len+3+7>>>3,Oe<=Pe&&(Pe=Oe)):Pe=Oe=Ae+5,Ae+4<=Pe&&Se!==-1?We(W,Se,Ae,ke):W.strategy===c||Oe===Pe?(Ie(W,(t<<1)+(ke?1:0),3),O(W,Y,ee)):(Ie(W,(e<<1)+(ke?1:0),3),ze(W,W.l_desc.max_code+1,W.d_desc.max_code+1,ne+1),O(W,W.dyn_ltree,W.dyn_dtree)),z(W),ke&&B(W)}function Ve(W,Se,Ae){return W.pending_buf[W.d_buf+W.last_lit*2]=Se>>>8&255,W.pending_buf[W.d_buf+W.last_lit*2+1]=Se&255,W.pending_buf[W.l_buf+W.last_lit]=Ae&255,W.last_lit++,Se===0?W.dyn_ltree[Ae*2]++:(W.matches++,Se--,W.dyn_ltree[(he[Ae]+f+1)*2]++,W.dyn_dtree[be(Se)*2]++),W.last_lit===W.lit_bufsize-1}b._tr_init=je,b._tr_stored_block=We,b._tr_flush_block=tt,b._tr_tally=Ve,b._tr_align=He},{"../utils/common":89}],101:[function(_,T,b){arguments[4][46][0].apply(b,arguments)},{dup:46}],102:[function(_,T,b){T.exports=function(o){if(!o)throw new Error("no data provided");o=o.toString().trim();var s={pages:[],chars:[],kernings:[]},i=o.split(/\r\n?|\n/g);if(i.length===0)throw new Error("no data in BMFont file");for(var t=0;t<i.length;t++){var e=x(i[t],t);if(!!e)if(e.key==="page"){if(typeof e.data.id!="number")throw new Error("malformed file at line "+t+" -- needs page id=N");if(typeof e.data.file!="string")throw new Error("malformed file at line "+t+' -- needs page file="path"');s.pages[e.data.id]=e.data.file}else e.key==="chars"||e.key==="kernings"||(e.key==="char"?s.chars.push(e.data):e.key==="kerning"?s.kernings.push(e.data):s[e.key]=e.data)}return s};function x(v,o){if(v=v.replace(/\t+/g," ").trim(),!v)return null;var s=v.indexOf(" ");if(s===-1)throw new Error("no named row at line "+o);var i=v.substring(0,s);v=v.substring(s+1),v=v.replace(/letter=[\'\"]\S+[\'\"]/gi,""),v=v.split("="),v=v.map(function(n){return n.trim().match(/(".*?"|[^"\s]+)+(?=\s*|\s*$)/g)});for(var t=[],e=0;e<v.length;e++){var l=v[e];e===0?t.push({key:l[0],data:""}):e===v.length-1?t[t.length-1].data=c(l[0]):(t[t.length-1].data=c(l[0]),t.push({key:l[1],data:""}))}var h={key:i,data:{}};return t.forEach(function(n){h.data[n.key]=n.data}),h}function c(v){return!v||v.length===0?"":v.indexOf('"')===0||v.indexOf("'")===0?v.substring(1,v.length-1):v.indexOf(",")!==-1?p(v):parseInt(v,10)}function p(v){return v.split(",").map(function(o){return parseInt(o,10)})}},{}],103:[function(_,T,b){var x=[66,77,70];T.exports=function(h){if(h.length<6)throw new Error("invalid buffer length for BMFont");var n=x.every(function(y,E){return h.readUInt8(E)===y});if(!n)throw new Error("BMFont missing BMF byte header");var f=3,a=h.readUInt8(f++);if(a>3)throw new Error("Only supports BMFont Binary v3 (BMFont App v1.10)");for(var m={kernings:[],chars:[]},g=0;g<5;g++)f+=c(m,h,f);return m};function c(l,h,n){if(n>h.length-1)return 0;var f=h.readUInt8(n++),a=h.readInt32LE(n);switch(n+=4,f){case 1:l.info=p(h,n);break;case 2:l.common=v(h,n);break;case 3:l.pages=o(h,n,a);break;case 4:l.chars=s(h,n,a);break;case 5:l.kernings=i(h,n,a);break}return 5+a}function p(l,h){var n={};n.size=l.readInt16LE(h);var f=l.readUInt8(h+2);return n.smooth=f>>7&1,n.unicode=f>>6&1,n.italic=f>>5&1,n.bold=f>>4&1,f>>3&1&&(n.fixedHeight=1),n.charset=l.readUInt8(h+3)||"",n.stretchH=l.readUInt16LE(h+4),n.aa=l.readUInt8(h+6),n.padding=[l.readInt8(h+7),l.readInt8(h+8),l.readInt8(h+9),l.readInt8(h+10)],n.spacing=[l.readInt8(h+11),l.readInt8(h+12)],n.outline=l.readUInt8(h+13),n.face=e(l,h+14),n}function v(l,h){var n={};return n.lineHeight=l.readUInt16LE(h),n.base=l.readUInt16LE(h+2),n.scaleW=l.readUInt16LE(h+4),n.scaleH=l.readUInt16LE(h+6),n.pages=l.readUInt16LE(h+8),l.readUInt8(h+10),n.packed=0,n.alphaChnl=l.readUInt8(h+11),n.redChnl=l.readUInt8(h+12),n.greenChnl=l.readUInt8(h+13),n.blueChnl=l.readUInt8(h+14),n}function o(l,h,n){for(var f=[],a=t(l,h),m=a.length+1,g=n/m,y=0;y<g;y++)f[y]=l.slice(h,h+a.length).toString("utf8"),h+=m;return f}function s(l,h,n){for(var f=[],a=n/20,m=0;m<a;m++){var g={},y=m*20;g.id=l.readUInt32LE(h+0+y),g.x=l.readUInt16LE(h+4+y),g.y=l.readUInt16LE(h+6+y),g.width=l.readUInt16LE(h+8+y),g.height=l.readUInt16LE(h+10+y),g.xoffset=l.readInt16LE(h+12+y),g.yoffset=l.readInt16LE(h+14+y),g.xadvance=l.readInt16LE(h+16+y),g.page=l.readUInt8(h+18+y),g.chnl=l.readUInt8(h+19+y),f[m]=g}return f}function i(l,h,n){for(var f=[],a=n/10,m=0;m<a;m++){var g={},y=m*10;g.first=l.readUInt32LE(h+0+y),g.second=l.readUInt32LE(h+4+y),g.amount=l.readInt16LE(h+8+y),f[m]=g}return f}function t(l,h){for(var n=h;n<l.length&&l[n]!==0;n++);return l.slice(h,n)}function e(l,h){return t(l,h).toString("utf8")}},{}],104:[function(_,T,b){var x=_("./parse-attribs"),c=_("xml-parse-from-string"),p={scaleh:"scaleH",scalew:"scaleW",stretchh:"stretchH",lineheight:"lineHeight",alphachnl:"alphaChnl",redchnl:"redChnl",greenchnl:"greenChnl",bluechnl:"blueChnl"};T.exports=function(t){t=t.toString();var e=c(t),l={pages:[],chars:[],kernings:[]};["info","common"].forEach(function(y){var E=e.getElementsByTagName(y)[0];E&&(l[y]=x(v(E)))});var h=e.getElementsByTagName("pages")[0];if(!h)throw new Error("malformed file -- no <pages> element");for(var n=h.getElementsByTagName("page"),f=0;f<n.length;f++){var a=n[f],m=parseInt(a.getAttribute("id"),10),g=a.getAttribute("file");if(isNaN(m))throw new Error('malformed file -- page "id" attribute is NaN');if(!g)throw new Error('malformed file -- needs page "file" attribute');l.pages[parseInt(m,10)]=g}return["chars","kernings"].forEach(function(y){var E=e.getElementsByTagName(y)[0];if(!!E)for(var S=y.substring(0,y.length-1),A=E.getElementsByTagName(S),M=0;M<A.length;M++){var I=A[M];l[y].push(x(v(I)))}}),l};function v(i){var t=o(i);return t.reduce(function(e,l){var h=s(l.nodeName);return e[h]=l.nodeValue,e},{})}function o(i){for(var t=[],e=0;e<i.attributes.length;e++)t.push(i.attributes[e]);return t}function s(i){return p[i.toLowerCase()]||i}},{"./parse-attribs":105,"xml-parse-from-string":188}],105:[function(_,T,b){var x="chasrset";T.exports=function(v){x in v&&(v.charset=v[x],delete v[x]);for(var o in v)o==="face"||o==="charset"||(o==="padding"||o==="spacing"?v[o]=c(v[o]):v[o]=parseInt(v[o],10));return v};function c(p){return p.split(",").map(function(v){return parseInt(v,10)})}},{}],106:[function(_,T,b){var x=_("trim"),c=_("for-each"),p=function(v){return Object.prototype.toString.call(v)==="[object Array]"};T.exports=function(v){if(!v)return{};var o={};return c(x(v).split(`
`),function(s){var i=s.indexOf(":"),t=x(s.slice(0,i)).toLowerCase(),e=x(s.slice(i+1));typeof o[t]>"u"?o[t]=e:p(o[t])?o[t].push(e):o[t]=[o[t],e]}),o}},{"for-each":63,trim:179}],107:[function(_,T,b){(function(x){function c(s,i){for(var t=0,e=s.length-1;e>=0;e--){var l=s[e];l==="."?s.splice(e,1):l===".."?(s.splice(e,1),t++):t&&(s.splice(e,1),t--)}if(i)for(;t--;t)s.unshift("..");return s}b.resolve=function(){for(var s="",i=!1,t=arguments.length-1;t>=-1&&!i;t--){var e=t>=0?arguments[t]:x.cwd();if(typeof e!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!e)continue;s=e+"/"+s,i=e.charAt(0)==="/"}return s=c(v(s.split("/"),function(l){return!!l}),!i).join("/"),(i?"/":"")+s||"."},b.normalize=function(s){var i=b.isAbsolute(s),t=o(s,-1)==="/";return s=c(v(s.split("/"),function(e){return!!e}),!i).join("/"),!s&&!i&&(s="."),s&&t&&(s+="/"),(i?"/":"")+s},b.isAbsolute=function(s){return s.charAt(0)==="/"},b.join=function(){var s=Array.prototype.slice.call(arguments,0);return b.normalize(v(s,function(i,t){if(typeof i!="string")throw new TypeError("Arguments to path.join must be strings");return i}).join("/"))},b.relative=function(s,i){s=b.resolve(s).substr(1),i=b.resolve(i).substr(1);function t(m){for(var g=0;g<m.length&&m[g]==="";g++);for(var y=m.length-1;y>=0&&m[y]==="";y--);return g>y?[]:m.slice(g,y-g+1)}for(var e=t(s.split("/")),l=t(i.split("/")),h=Math.min(e.length,l.length),n=h,f=0;f<h;f++)if(e[f]!==l[f]){n=f;break}for(var a=[],f=n;f<e.length;f++)a.push("..");return a=a.concat(l.slice(n)),a.join("/")},b.sep="/",b.delimiter=":",b.dirname=function(s){if(typeof s!="string"&&(s=s+""),s.length===0)return".";for(var i=s.charCodeAt(0),t=i===47,e=-1,l=!0,h=s.length-1;h>=1;--h)if(i=s.charCodeAt(h),i===47){if(!l){e=h;break}}else l=!1;return e===-1?t?"/":".":t&&e===1?"/":s.slice(0,e)};function p(s){typeof s!="string"&&(s=s+"");var i=0,t=-1,e=!0,l;for(l=s.length-1;l>=0;--l)if(s.charCodeAt(l)===47){if(!e){i=l+1;break}}else t===-1&&(e=!1,t=l+1);return t===-1?"":s.slice(i,t)}b.basename=function(s,i){var t=p(s);return i&&t.substr(-1*i.length)===i&&(t=t.substr(0,t.length-i.length)),t},b.extname=function(s){typeof s!="string"&&(s=s+"");for(var i=-1,t=0,e=-1,l=!0,h=0,n=s.length-1;n>=0;--n){var f=s.charCodeAt(n);if(f===47){if(!l){t=n+1;break}continue}e===-1&&(l=!1,e=n+1),f===46?i===-1?i=n:h!==1&&(h=1):i!==-1&&(h=-1)}return i===-1||e===-1||h===0||h===1&&i===e-1&&i===t+1?"":s.slice(i,e)};function v(s,i){if(s.filter)return s.filter(i);for(var t=[],e=0;e<s.length;e++)i(s[e],e,s)&&t.push(s[e]);return t}var o="ab".substr(-1)==="b"?function(s,i,t){return s.substr(i,t)}:function(s,i,t){return i<0&&(i=s.length+i),s.substr(i,t)}}).call(this,_("_process"))},{_process:133}],108:[function(_,T,b){(function(x){var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},p=_("http"),v=_("https"),o=_("url"),s=_("querystring"),i=_("zlib"),t=_("util"),e=function(h,n){if(typeof h!="string"&&!h.hasOwnProperty("url"))throw new Error("Missing url option from options for request method.");var f=(typeof h>"u"?"undefined":c(h))==="object"?o.parse(h.url):o.parse(h),a={hostname:f.hostname,port:f.port||(f.protocol.toLowerCase()==="http:"?80:443),path:f.path,method:"GET",headers:{},auth:f.auth||null,parse:"none",stream:!1};if((typeof h>"u"?"undefined":c(h))==="object"&&(a=Object.assign(a,h)),a.port=Number(a.port),a.hasOwnProperty("timeout")&&delete a.timeout,a.compressed===!0&&(a.headers["accept-encoding"]="gzip, deflate"),h.hasOwnProperty("form")){if(c(h.form)!=="object")throw new Error("phin 'form' option must be of type Object if present.");var m=s.stringify(h.form);a.headers["Content-Type"]="application/x-www-form-urlencoded",a.headers["Content-Length"]=x.byteLength(m),h.data=m}var g=void 0,y=function(M){var I=M;a.compressed===!0&&(M.headers["content-encoding"]==="gzip"?I=M.pipe(i.createGunzip()):M.headers["content-encoding"]==="deflate"&&(I=M.pipe(i.createInflate()))),a.stream===!0?(M.stream=I,n(null,M)):(M.body=new x([]),I.on("data",function(R){M.body=x.concat([M.body,R])}),I.on("end",function(){if(n){if(a.parse==="json")try{M.body=JSON.parse(M.body.toString())}catch{n("Invalid JSON received.",M);return}n(null,M)}}))};switch(f.protocol.toLowerCase()){case"http:":g=p.request(a,y);break;case"https:":g=v.request(a,y);break;default:n&&n(new Error("Invalid / unknown URL protocol. Expected HTTP or HTTPS."),null);return}if(typeof h.timeout=="number"&&g.setTimeout(h.timeout,function(){g.abort(),n(new Error("Timeout has been reached."),null),n=null}),g.on("error",function(A){n&&n(A,null)}),h.hasOwnProperty("data")){var E=h.data;if(!(h.data instanceof x)&&c(h.data)==="object"){var S=a.headers["content-type"]||a.headers["Content-Type"];if(S==="application/x-www-form-urlencoded")E=s.stringify(h.data);else try{E=JSON.stringify(h.data)}catch{n(new Error("Couldn't stringify object. (Likely due to a circular reference.)"),null)}}g.write(E)}g.end()};e.promisified=function(l,h){return new Promise(function(n,f){e(l,function(a,m){a?f(a):n(m)})})},t.promisify&&(e[t.promisify.custom]=e.promisified),T.exports=e}).call(this,_("buffer").Buffer)},{buffer:48,http:156,https:72,querystring:137,url:180,util:186,zlib:35}],109:[function(_,T,b){T.exports=x;function x(l,h,n,f,a,m){m||(m={});for(var g=m.threshold===void 0?.1:m.threshold,y=35215*g*g,E=0,S=0;S<a;S++)for(var A=0;A<f;A++){var M=(S*f+A)*4,I=p(l,h,M,M);if(I>y)!m.includeAA&&(c(l,A,S,f,a,h)||c(h,A,S,f,a,l))?n&&t(n,M,255,255,0):(n&&t(n,M,255,0,0),E++);else if(n){var R=i(e(l,M),.1);t(n,M,R,R,R)}}return E}function c(l,h,n,f,a,m){for(var g=Math.max(h-1,0),y=Math.max(n-1,0),E=Math.min(h+1,f-1),S=Math.min(n+1,a-1),A=(n*f+h)*4,M=0,I=0,R=0,H=0,L=0,j,V,G,U,Y=g;Y<=E;Y++)for(var ee=y;ee<=S;ee++)if(!(Y===h&&ee===n)){var le=p(l,l,A,(ee*f+Y)*4,!0);if(le===0?M++:le<0?R++:le>0&&I++,M>2)return!1;!m||(le<H&&(H=le,j=Y,V=ee),le>L&&(L=le,G=Y,U=ee))}return m?R===0||I===0?!1:!c(l,j,V,f,a)&&!c(m,j,V,f,a)||!c(l,G,U,f,a)&&!c(m,G,U,f,a):!0}function p(l,h,n,f,a){var m=l[n+3]/255,g=h[f+3]/255,y=i(l[n+0],m),E=i(l[n+1],m),S=i(l[n+2],m),A=i(h[f+0],g),M=i(h[f+1],g),I=i(h[f+2],g),R=v(y,E,S)-v(A,M,I);if(a)return R;var H=o(y,E,S)-o(A,M,I),L=s(y,E,S)-s(A,M,I);return .5053*R*R+.299*H*H+.1957*L*L}function v(l,h,n){return l*.29889531+h*.58662247+n*.11448223}function o(l,h,n){return l*.59597799-h*.2741761-n*.32180189}function s(l,h,n){return l*.21147017-h*.52261711+n*.31114694}function i(l,h){return 255+(l-255)*h}function t(l,h,n,f,a){l[h+0]=n,l[h+1]=f,l[h+2]=a,l[h+3]=255}function e(l,h){var n=l[h+3]/255,f=i(l[h+0],n),a=i(l[h+1],n),m=i(l[h+2],n);return v(f,a,m)}},{}],110:[function(_,T,b){(function(x){var c=_("./interlace"),p={1:{0:0,1:0,2:0,3:255},2:{0:0,1:0,2:0,3:1},3:{0:0,1:1,2:2,3:255},4:{0:0,1:1,2:2,3:3}};function v(i,t){var e=[],l=0;function h(){if(l===i.length)throw new Error("Ran out of data");var n=i[l];l++;var f,a,m,g,y,E,S,A;switch(t){default:throw new Error("unrecognised depth");case 16:S=i[l],l++,e.push((n<<8)+S);break;case 4:S=n&15,A=n>>4,e.push(A,S);break;case 2:y=n&3,E=n>>2&3,S=n>>4&3,A=n>>6&3,e.push(A,S,E,y);break;case 1:f=n&1,a=n>>1&1,m=n>>2&1,g=n>>3&1,y=n>>4&1,E=n>>5&1,S=n>>6&1,A=n>>7&1,e.push(A,S,E,y,g,m,a,f);break}}return{get:function(n){for(;e.length<n;)h();var f=e.slice(0,n);return e=e.slice(n),f},resetAfterLine:function(){e.length=0},end:function(){if(l!==i.length)throw new Error("extra data found")}}}function o(i,t,e,l,h,n){for(var f=i.width,a=i.height,m=i.index,g=0;g<a;g++)for(var y=0;y<f;y++){for(var E=e(y,g,m),S=0;S<4;S++){var A=p[l][S];if(A===255)t[E+S]=255;else{var M=A+n;if(M===h.length)throw new Error("Ran out of data");t[E+S]=h[M]}}n+=l}return n}function s(i,t,e,l,h,n){for(var f=i.width,a=i.height,m=i.index,g=0;g<a;g++){for(var y=0;y<f;y++)for(var E=h.get(l),S=e(y,g,m),A=0;A<4;A++){var M=p[l][A];t[S+A]=M!==255?E[M]:n}h.resetAfterLine()}}b.dataToBitMap=function(i,t){var e=t.width,l=t.height,h=t.depth,n=t.bpp,f=t.interlace;if(h!==8)var a=v(i,h);var m;h<=8?m=new x(e*l*4):m=new Uint16Array(e*l*4);var g=Math.pow(2,h)-1,y=0,E,S;if(f)E=c.getImagePasses(e,l),S=c.getInterlaceIterator(e,l);else{var A=0;S=function(){var I=A;return A+=4,I},E=[{width:e,height:l}]}for(var M=0;M<E.length;M++)h===8?y=o(E[M],m,S,n,i,y):s(E[M],m,S,n,a,g);if(h===8){if(y!==i.length)throw new Error("extra data found")}else a.end();return m}}).call(this,_("buffer").Buffer)},{"./interlace":120,buffer:48}],111:[function(_,T,b){(function(x){var c=_("./constants");T.exports=function(p,v,o,s){var i=[c.COLORTYPE_COLOR_ALPHA,c.COLORTYPE_ALPHA].indexOf(s.colorType)!==-1;if(s.colorType===s.inputColorType){var t=function(){var I=new ArrayBuffer(2);return new DataView(I).setInt16(0,256,!0),new Int16Array(I)[0]!==256}();if(s.bitDepth===8||s.bitDepth===16&&t)return p}var e=s.bitDepth!==16?p:new Uint16Array(p.buffer),l=255,h=c.COLORTYPE_TO_BPP_MAP[s.inputColorType];h==4&&!s.inputHasAlpha&&(h=3);var n=c.COLORTYPE_TO_BPP_MAP[s.colorType];s.bitDepth===16&&(l=65535,n*=2);var f=new x(v*o*n),a=0,m=0,g=s.bgColor||{};g.red===void 0&&(g.red=l),g.green===void 0&&(g.green=l),g.blue===void 0&&(g.blue=l);function y(I,R){var H,L,j,V=l;switch(s.inputColorType){case c.COLORTYPE_COLOR_ALPHA:V=I[R+3],H=I[R],L=I[R+1],j=I[R+2];break;case c.COLORTYPE_COLOR:H=I[R],L=I[R+1],j=I[R+2];break;case c.COLORTYPE_ALPHA:V=I[R+1],H=I[R],L=H,j=H;break;case c.COLORTYPE_GRAYSCALE:H=I[R],L=H,j=H;break;default:throw new Error("input color type:"+s.inputColorType+" is not supported at present")}return s.inputHasAlpha&&(i||(V/=l,H=Math.min(Math.max(Math.round((1-V)*g.red+V*H),0),l),L=Math.min(Math.max(Math.round((1-V)*g.green+V*L),0),l),j=Math.min(Math.max(Math.round((1-V)*g.blue+V*j),0),l))),{red:H,green:L,blue:j,alpha:V}}for(var E=0;E<o;E++)for(var S=0;S<v;S++){var A=y(e,a);switch(s.colorType){case c.COLORTYPE_COLOR_ALPHA:case c.COLORTYPE_COLOR:s.bitDepth===8?(f[m]=A.red,f[m+1]=A.green,f[m+2]=A.blue,i&&(f[m+3]=A.alpha)):(f.writeUInt16BE(A.red,m),f.writeUInt16BE(A.green,m+2),f.writeUInt16BE(A.blue,m+4),i&&f.writeUInt16BE(A.alpha,m+6));break;case c.COLORTYPE_ALPHA:case c.COLORTYPE_GRAYSCALE:var M=(A.red+A.green+A.blue)/3;s.bitDepth===8?(f[m]=M,i&&(f[m+1]=A.alpha)):(f.writeUInt16BE(M,m),i&&f.writeUInt16BE(A.alpha,m+2));break}a+=h,m+=n}return f}}).call(this,_("buffer").Buffer)},{"./constants":113,buffer:48}],112:[function(_,T,b){(function(x,c){var p=_("util"),v=_("stream"),o=T.exports=function(){v.call(this),this._buffers=[],this._buffered=0,this._reads=[],this._paused=!1,this._encoding="utf8",this.writable=!0};p.inherits(o,v),o.prototype.read=function(s,i){this._reads.push({length:Math.abs(s),allowLess:s<0,func:i}),x.nextTick(function(){this._process(),this._paused&&this._reads.length>0&&(this._paused=!1,this.emit("drain"))}.bind(this))},o.prototype.write=function(s,i){if(!this.writable)return this.emit("error",new Error("Stream not writable")),!1;var t;return c.isBuffer(s)?t=s:t=new c(s,i||this._encoding),this._buffers.push(t),this._buffered+=t.length,this._process(),this._reads&&this._reads.length===0&&(this._paused=!0),this.writable&&!this._paused},o.prototype.end=function(s,i){s&&this.write(s,i),this.writable=!1,this._buffers&&(this._buffers.length===0?this._end():(this._buffers.push(null),this._process()))},o.prototype.destroySoon=o.prototype.end,o.prototype._end=function(){this._reads.length>0&&this.emit("error",new Error("There are some read requests waiting on finished stream")),this.destroy()},o.prototype.destroy=function(){!this._buffers||(this.writable=!1,this._reads=null,this._buffers=null,this.emit("close"))},o.prototype._processReadAllowingLess=function(s){this._reads.shift();var i=this._buffers[0];i.length>s.length?(this._buffered-=s.length,this._buffers[0]=i.slice(s.length),s.func.call(this,i.slice(0,s.length))):(this._buffered-=i.length,this._buffers.shift(),s.func.call(this,i))},o.prototype._processRead=function(s){this._reads.shift();for(var i=0,t=0,e=new c(s.length);i<s.length;){var l=this._buffers[t++],h=Math.min(l.length,s.length-i);l.copy(e,i,0,h),i+=h,h!==l.length&&(this._buffers[--t]=l.slice(h))}t>0&&this._buffers.splice(0,t),this._buffered-=s.length,s.func.call(this,e)},o.prototype._process=function(){try{for(;this._buffered>0&&this._reads&&this._reads.length>0;){var s=this._reads[0];if(s.allowLess)this._processReadAllowingLess(s);else if(this._buffered>=s.length)this._processRead(s);else break}this._buffers&&this._buffers.length>0&&this._buffers[0]===null&&this._end()}catch(i){this.emit("error",i)}}}).call(this,_("_process"),_("buffer").Buffer)},{_process:133,buffer:48,stream:155,util:186}],113:[function(_,T,b){T.exports={PNG_SIGNATURE:[137,80,78,71,13,10,26,10],TYPE_IHDR:1229472850,TYPE_IEND:1229278788,TYPE_IDAT:1229209940,TYPE_PLTE:1347179589,TYPE_tRNS:1951551059,TYPE_gAMA:1732332865,COLORTYPE_GRAYSCALE:0,COLORTYPE_PALETTE:1,COLORTYPE_COLOR:2,COLORTYPE_ALPHA:4,COLORTYPE_PALETTE_COLOR:3,COLORTYPE_COLOR_ALPHA:6,COLORTYPE_TO_BPP_MAP:{0:1,2:3,3:1,4:2,6:4},GAMMA_DIVISION:1e5}},{}],114:[function(_,T,b){var x=[];(function(){for(var p=0;p<256;p++){for(var v=p,o=0;o<8;o++)v&1?v=3988292384^v>>>1:v=v>>>1;x[p]=v}})();var c=T.exports=function(){this._crc=-1};c.prototype.write=function(p){for(var v=0;v<p.length;v++)this._crc=x[(this._crc^p[v])&255]^this._crc>>>8;return!0},c.prototype.crc32=function(){return this._crc^-1},c.crc32=function(p){for(var v=-1,o=0;o<p.length;o++)v=x[(v^p[o])&255]^v>>>8;return v^-1}},{}],115:[function(_,T,b){(function(x){var c=_("./paeth-predictor");function p(m,g,y,E,S){for(var A=0;A<y;A++)E[S+A]=m[g+A]}function v(m,g,y){for(var E=0,S=g+y,A=g;A<S;A++)E+=Math.abs(m[A]);return E}function o(m,g,y,E,S,A){for(var M=0;M<y;M++){var I=M>=A?m[g+M-A]:0,R=m[g+M]-I;E[S+M]=R}}function s(m,g,y,E){for(var S=0,A=0;A<y;A++){var M=A>=E?m[g+A-E]:0,I=m[g+A]-M;S+=Math.abs(I)}return S}function i(m,g,y,E,S){for(var A=0;A<y;A++){var M=g>0?m[g+A-y]:0,I=m[g+A]-M;E[S+A]=I}}function t(m,g,y){for(var E=0,S=g+y,A=g;A<S;A++){var M=g>0?m[A-y]:0,I=m[A]-M;E+=Math.abs(I)}return E}function e(m,g,y,E,S,A){for(var M=0;M<y;M++){var I=M>=A?m[g+M-A]:0,R=g>0?m[g+M-y]:0,H=m[g+M]-(I+R>>1);E[S+M]=H}}function l(m,g,y,E){for(var S=0,A=0;A<y;A++){var M=A>=E?m[g+A-E]:0,I=g>0?m[g+A-y]:0,R=m[g+A]-(M+I>>1);S+=Math.abs(R)}return S}function h(m,g,y,E,S,A){for(var M=0;M<y;M++){var I=M>=A?m[g+M-A]:0,R=g>0?m[g+M-y]:0,H=g>0&&M>=A?m[g+M-(y+A)]:0,L=m[g+M]-c(I,R,H);E[S+M]=L}}function n(m,g,y,E){for(var S=0,A=0;A<y;A++){var M=A>=E?m[g+A-E]:0,I=g>0?m[g+A-y]:0,R=g>0&&A>=E?m[g+A-(y+E)]:0,H=m[g+A]-c(M,I,R);S+=Math.abs(H)}return S}var f={0:p,1:o,2:i,3:e,4:h},a={0:v,1:s,2:t,3:l,4:n};T.exports=function(m,g,y,E,S){var A;if(!("filterType"in E)||E.filterType===-1)A=[0,1,2,3,4];else if(typeof E.filterType=="number")A=[E.filterType];else throw new Error("unrecognised filter types");E.bitDepth===16&&(S*=2);for(var M=g*S,I=0,R=0,H=new x((M+1)*y),L=A[0],j=0;j<y;j++){if(A.length>1)for(var V=1/0,G=0;G<A.length;G++){var U=a[A[G]](m,R,M,S);U<V&&(L=A[G],V=U)}H[I]=L,I++,f[L](m,R,M,H,I,S),I+=M,R+=M}return H}}).call(this,_("buffer").Buffer)},{"./paeth-predictor":124,buffer:48}],116:[function(_,T,b){(function(x){var c=_("util"),p=_("./chunkstream"),v=_("./filter-parse"),o=T.exports=function(s){p.call(this);var i=[],t=this;this._filter=new v(s,{read:this.read.bind(this),write:function(e){i.push(e)},complete:function(){t.emit("complete",x.concat(i))}}),this._filter.start()};c.inherits(o,p)}).call(this,_("buffer").Buffer)},{"./chunkstream":112,"./filter-parse":118,buffer:48,util:186}],117:[function(_,T,b){(function(x){var c=_("./sync-reader"),p=_("./filter-parse");b.process=function(v,o){var s=[],i=new c(v),t=new p(o,{read:i.read.bind(i),write:function(e){s.push(e)},complete:function(){}});return t.start(),i.process(),x.concat(s)}}).call(this,_("buffer").Buffer)},{"./filter-parse":118,"./sync-reader":131,buffer:48}],118:[function(_,T,b){(function(x){var c=_("./interlace"),p=_("./paeth-predictor");function v(s,i,t){var e=s*i;return t!==8&&(e=Math.ceil(e/(8/t))),e}var o=T.exports=function(s,i){var t=s.width,e=s.height,l=s.interlace,h=s.bpp,n=s.depth;if(this.read=i.read,this.write=i.write,this.complete=i.complete,this._imageIndex=0,this._images=[],l)for(var f=c.getImagePasses(t,e),a=0;a<f.length;a++)this._images.push({byteWidth:v(f[a].width,h,n),height:f[a].height,lineIndex:0});else this._images.push({byteWidth:v(t,h,n),height:e,lineIndex:0});n===8?this._xComparison=h:n===16?this._xComparison=h*2:this._xComparison=1};o.prototype.start=function(){this.read(this._images[this._imageIndex].byteWidth+1,this._reverseFilterLine.bind(this))},o.prototype._unFilterType1=function(s,i,t){for(var e=this._xComparison,l=e-1,h=0;h<t;h++){var n=s[1+h],f=h>l?i[h-e]:0;i[h]=n+f}},o.prototype._unFilterType2=function(s,i,t){for(var e=this._lastLine,l=0;l<t;l++){var h=s[1+l],n=e?e[l]:0;i[l]=h+n}},o.prototype._unFilterType3=function(s,i,t){for(var e=this._xComparison,l=e-1,h=this._lastLine,n=0;n<t;n++){var f=s[1+n],a=h?h[n]:0,m=n>l?i[n-e]:0,g=Math.floor((m+a)/2);i[n]=f+g}},o.prototype._unFilterType4=function(s,i,t){for(var e=this._xComparison,l=e-1,h=this._lastLine,n=0;n<t;n++){var f=s[1+n],a=h?h[n]:0,m=n>l?i[n-e]:0,g=n>l&&h?h[n-e]:0,y=p(m,a,g);i[n]=f+y}},o.prototype._reverseFilterLine=function(s){var i=s[0],t,e=this._images[this._imageIndex],l=e.byteWidth;if(i===0)t=s.slice(1,l+1);else switch(t=new x(l),i){case 1:this._unFilterType1(s,t,l);break;case 2:this._unFilterType2(s,t,l);break;case 3:this._unFilterType3(s,t,l);break;case 4:this._unFilterType4(s,t,l);break;default:throw new Error("Unrecognised filter type - "+i)}this.write(t),e.lineIndex++,e.lineIndex>=e.height?(this._lastLine=null,this._imageIndex++,e=this._images[this._imageIndex]):this._lastLine=t,e?this.read(e.byteWidth+1,this._reverseFilterLine.bind(this)):(this._lastLine=null,this.complete())}}).call(this,_("buffer").Buffer)},{"./interlace":120,"./paeth-predictor":124,buffer:48}],119:[function(_,T,b){(function(x){function c(o,s,i,t,e){for(var l=0,h=0;h<t;h++)for(var n=0;n<i;n++){var f=e[o[l]];if(!f)throw new Error("index "+o[l]+" not in palette");for(var a=0;a<4;a++)s[l+a]=f[a];l+=4}}function p(o,s,i,t,e){for(var l=0,h=0;h<t;h++)for(var n=0;n<i;n++){var f=!1;if(e.length===1?e[0]===o[l]&&(f=!0):e[0]===o[l]&&e[1]===o[l+1]&&e[2]===o[l+2]&&(f=!0),f)for(var a=0;a<4;a++)s[l+a]=0;l+=4}}function v(o,s,i,t,e){for(var l=255,h=Math.pow(2,e)-1,n=0,f=0;f<t;f++)for(var a=0;a<i;a++){for(var m=0;m<4;m++)s[n+m]=Math.floor(o[n+m]*l/h+.5);n+=4}}T.exports=function(o,s){var i=s.depth,t=s.width,e=s.height,l=s.colorType,h=s.transColor,n=s.palette,f=o;return l===3?c(o,f,t,e,n):(h&&p(o,f,t,e,h),i!==8&&(i===16&&(f=new x(t*e*4)),v(o,f,t,e,i))),f}}).call(this,_("buffer").Buffer)},{buffer:48}],120:[function(_,T,b){var x=[{x:[0],y:[0]},{x:[4],y:[0]},{x:[0,4],y:[4]},{x:[2,6],y:[0,4]},{x:[0,2,4,6],y:[2,6]},{x:[1,3,5,7],y:[0,2,4,6]},{x:[0,1,2,3,4,5,6,7],y:[1,3,5,7]}];b.getImagePasses=function(c,p){for(var v=[],o=c%8,s=p%8,i=(c-o)/8,t=(p-s)/8,e=0;e<x.length;e++){for(var l=x[e],h=i*l.x.length,n=t*l.y.length,f=0;f<l.x.length&&l.x[f]<o;f++)h++;for(f=0;f<l.y.length&&l.y[f]<s;f++)n++;h>0&&n>0&&v.push({width:h,height:n,index:e})}return v},b.getInterlaceIterator=function(c){return function(p,v,o){var s=p%x[o].x.length,i=(p-s)/x[o].x.length*8+x[o].x[s],t=v%x[o].y.length,e=(v-t)/x[o].y.length*8+x[o].y[t];return i*4+e*c*4}}},{}],121:[function(_,T,b){(function(x){var c=_("util"),p=_("stream"),v=_("./constants"),o=_("./packer"),s=T.exports=function(i){p.call(this);var t=i||{};this._packer=new o(t),this._deflate=this._packer.createDeflate(),this.readable=!0};c.inherits(s,p),s.prototype.pack=function(i,t,e,l){this.emit("data",new x(v.PNG_SIGNATURE)),this.emit("data",this._packer.packIHDR(t,e)),l&&this.emit("data",this._packer.packGAMA(l));var h=this._packer.filterData(i,t,e);this._deflate.on("error",this.emit.bind(this,"error")),this._deflate.on("data",function(n){this.emit("data",this._packer.packIDAT(n))}.bind(this)),this._deflate.on("end",function(){this.emit("data",this._packer.packIEND()),this.emit("end")}.bind(this)),this._deflate.end(h)}}).call(this,_("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,stream:155,util:186}],122:[function(_,T,b){(function(x){var c=!0,p=_("zlib");p.deflateSync||(c=!1);var v=_("./constants"),o=_("./packer");T.exports=function(s,i){if(!c)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var t=i||{},e=new o(t),l=[];l.push(new x(v.PNG_SIGNATURE)),l.push(e.packIHDR(s.width,s.height)),s.gamma&&l.push(e.packGAMA(s.gamma));var h=e.filterData(s.data,s.width,s.height),n=p.deflateSync(h,e.getDeflateOptions());if(h=null,!n||!n.length)throw new Error("bad png - invalid compressed data response");return l.push(e.packIDAT(n)),l.push(e.packIEND()),x.concat(l)}}).call(this,_("buffer").Buffer)},{"./constants":113,"./packer":123,buffer:48,zlib:35}],123:[function(_,T,b){(function(x){var c=_("./constants"),p=_("./crc"),v=_("./bitpacker"),o=_("./filter-pack"),s=_("zlib"),i=T.exports=function(t){if(this._options=t,t.deflateChunkSize=t.deflateChunkSize||32*1024,t.deflateLevel=t.deflateLevel!=null?t.deflateLevel:9,t.deflateStrategy=t.deflateStrategy!=null?t.deflateStrategy:3,t.inputHasAlpha=t.inputHasAlpha!=null?t.inputHasAlpha:!0,t.deflateFactory=t.deflateFactory||s.createDeflate,t.bitDepth=t.bitDepth||8,t.colorType=typeof t.colorType=="number"?t.colorType:c.COLORTYPE_COLOR_ALPHA,t.inputColorType=typeof t.inputColorType=="number"?t.inputColorType:c.COLORTYPE_COLOR_ALPHA,[c.COLORTYPE_GRAYSCALE,c.COLORTYPE_COLOR,c.COLORTYPE_COLOR_ALPHA,c.COLORTYPE_ALPHA].indexOf(t.colorType)===-1)throw new Error("option color type:"+t.colorType+" is not supported at present");if([c.COLORTYPE_GRAYSCALE,c.COLORTYPE_COLOR,c.COLORTYPE_COLOR_ALPHA,c.COLORTYPE_ALPHA].indexOf(t.inputColorType)===-1)throw new Error("option input color type:"+t.inputColorType+" is not supported at present");if(t.bitDepth!==8&&t.bitDepth!==16)throw new Error("option bit depth:"+t.bitDepth+" is not supported at present")};i.prototype.getDeflateOptions=function(){return{chunkSize:this._options.deflateChunkSize,level:this._options.deflateLevel,strategy:this._options.deflateStrategy}},i.prototype.createDeflate=function(){return this._options.deflateFactory(this.getDeflateOptions())},i.prototype.filterData=function(t,e,l){var h=v(t,e,l,this._options),n=c.COLORTYPE_TO_BPP_MAP[this._options.colorType],f=o(h,e,l,this._options,n);return f},i.prototype._packChunk=function(t,e){var l=e?e.length:0,h=new x(l+12);return h.writeUInt32BE(l,0),h.writeUInt32BE(t,4),e&&e.copy(h,8),h.writeInt32BE(p.crc32(h.slice(4,h.length-4)),h.length-4),h},i.prototype.packGAMA=function(t){var e=new x(4);return e.writeUInt32BE(Math.floor(t*c.GAMMA_DIVISION),0),this._packChunk(c.TYPE_gAMA,e)},i.prototype.packIHDR=function(t,e){var l=new x(13);return l.writeUInt32BE(t,0),l.writeUInt32BE(e,4),l[8]=this._options.bitDepth,l[9]=this._options.colorType,l[10]=0,l[11]=0,l[12]=0,this._packChunk(c.TYPE_IHDR,l)},i.prototype.packIDAT=function(t){return this._packChunk(c.TYPE_IDAT,t)},i.prototype.packIEND=function(){return this._packChunk(c.TYPE_IEND,null)}}).call(this,_("buffer").Buffer)},{"./bitpacker":111,"./constants":113,"./crc":114,"./filter-pack":115,buffer:48,zlib:35}],124:[function(_,T,b){T.exports=function(c,p,v){var o=c+p-v,s=Math.abs(o-c),i=Math.abs(o-p),t=Math.abs(o-v);return s<=i&&s<=t?c:i<=t?p:v}},{}],125:[function(_,T,b){var x=_("util"),c=_("zlib"),p=_("./chunkstream"),v=_("./filter-parse-async"),o=_("./parser"),s=_("./bitmapper"),i=_("./format-normaliser"),t=T.exports=function(e){p.call(this),this._parser=new o(e,{read:this.read.bind(this),error:this._handleError.bind(this),metadata:this._handleMetaData.bind(this),gamma:this.emit.bind(this,"gamma"),palette:this._handlePalette.bind(this),transColor:this._handleTransColor.bind(this),finished:this._finished.bind(this),inflateData:this._inflateData.bind(this)}),this._options=e,this.writable=!0,this._parser.start()};x.inherits(t,p),t.prototype._handleError=function(e){this.emit("error",e),this.writable=!1,this.destroy(),this._inflate&&this._inflate.destroy&&this._inflate.destroy(),this._filter&&(this._filter.destroy(),this._filter.on("error",function(){})),this.errord=!0},t.prototype._inflateData=function(e){if(!this._inflate)if(this._bitmapInfo.interlace)this._inflate=c.createInflate(),this._inflate.on("error",this.emit.bind(this,"error")),this._filter.on("complete",this._complete.bind(this)),this._inflate.pipe(this._filter);else{var l=(this._bitmapInfo.width*this._bitmapInfo.bpp*this._bitmapInfo.depth+7>>3)+1,h=l*this._bitmapInfo.height,n=Math.max(h,c.Z_MIN_CHUNK);this._inflate=c.createInflate({chunkSize:n});var f=h,a=this.emit.bind(this,"error");this._inflate.on("error",function(g){!f||a(g)}),this._filter.on("complete",this._complete.bind(this));var m=this._filter.write.bind(this._filter);this._inflate.on("data",function(g){!f||(g.length>f&&(g=g.slice(0,f)),f-=g.length,m(g))}),this._inflate.on("end",this._filter.end.bind(this._filter))}this._inflate.write(e)},t.prototype._handleMetaData=function(e){this.emit("metadata",e),this._bitmapInfo=Object.create(e),this._filter=new v(this._bitmapInfo)},t.prototype._handleTransColor=function(e){this._bitmapInfo.transColor=e},t.prototype._handlePalette=function(e){this._bitmapInfo.palette=e},t.prototype._finished=function(){this.errord||(this._inflate?this._inflate.end():this.emit("error","No Inflate block"),this.destroySoon())},t.prototype._complete=function(e){if(!this.errord){try{var l=s.dataToBitMap(e,this._bitmapInfo),h=i(l,this._bitmapInfo);l=null}catch(n){this._handleError(n);return}this.emit("parsed",h)}}},{"./bitmapper":110,"./chunkstream":112,"./filter-parse-async":116,"./format-normaliser":119,"./parser":127,util:186,zlib:35}],126:[function(_,T,b){(function(x){var c=!0,p=_("zlib"),v=_("./sync-inflate");p.deflateSync||(c=!1);var o=_("./sync-reader"),s=_("./filter-parse-sync"),i=_("./parser"),t=_("./bitmapper"),e=_("./format-normaliser");T.exports=function(l,h){if(!c)throw new Error("To use the sync capability of this library in old node versions, please pin pngjs to v2.3.0");var n;function f(ee){n=ee}var a;function m(ee){a=ee}function g(ee){a.transColor=ee}function y(ee){a.palette=ee}var E;function S(ee){E=ee}var A=[];function M(ee){A.push(ee)}var I=new o(l),R=new i(h,{read:I.read.bind(I),error:f,metadata:m,gamma:S,palette:y,transColor:g,inflateData:M});if(R.start(),I.process(),n)throw n;var H=x.concat(A);A.length=0;var L;if(a.interlace)L=p.inflateSync(H);else{var j=(a.width*a.bpp*a.depth+7>>3)+1,V=j*a.height;L=v(H,{chunkSize:V,maxLength:V})}if(H=null,!L||!L.length)throw new Error("bad png - invalid inflate data response");var G=s.process(L,a);H=null;var U=t.dataToBitMap(G,a);G=null;var Y=e(U,a);return a.data=Y,a.gamma=E||0,a}}).call(this,_("buffer").Buffer)},{"./bitmapper":110,"./filter-parse-sync":117,"./format-normaliser":119,"./parser":127,"./sync-inflate":130,"./sync-reader":131,buffer:48,zlib:35}],127:[function(_,T,b){(function(x){var c=_("./constants"),p=_("./crc"),v=T.exports=function(o,s){this._options=o,o.checkCRC=o.checkCRC!==!1,this._hasIHDR=!1,this._hasIEND=!1,this._palette=[],this._colorType=0,this._chunks={},this._chunks[c.TYPE_IHDR]=this._handleIHDR.bind(this),this._chunks[c.TYPE_IEND]=this._handleIEND.bind(this),this._chunks[c.TYPE_IDAT]=this._handleIDAT.bind(this),this._chunks[c.TYPE_PLTE]=this._handlePLTE.bind(this),this._chunks[c.TYPE_tRNS]=this._handleTRNS.bind(this),this._chunks[c.TYPE_gAMA]=this._handleGAMA.bind(this),this.read=s.read,this.error=s.error,this.metadata=s.metadata,this.gamma=s.gamma,this.transColor=s.transColor,this.palette=s.palette,this.parsed=s.parsed,this.inflateData=s.inflateData,this.finished=s.finished};v.prototype.start=function(){this.read(c.PNG_SIGNATURE.length,this._parseSignature.bind(this))},v.prototype._parseSignature=function(o){for(var s=c.PNG_SIGNATURE,i=0;i<s.length;i++)if(o[i]!==s[i]){this.error(new Error("Invalid file signature"));return}this.read(8,this._parseChunkBegin.bind(this))},v.prototype._parseChunkBegin=function(o){for(var s=o.readUInt32BE(0),i=o.readUInt32BE(4),t="",e=4;e<8;e++)t+=String.fromCharCode(o[e]);var l=Boolean(o[4]&32);if(!this._hasIHDR&&i!==c.TYPE_IHDR){this.error(new Error("Expected IHDR on beggining"));return}if(this._crc=new p,this._crc.write(new x(t)),this._chunks[i])return this._chunks[i](s);if(!l){this.error(new Error("Unsupported critical chunk type "+t));return}this.read(s+4,this._skipChunk.bind(this))},v.prototype._skipChunk=function(){this.read(8,this._parseChunkBegin.bind(this))},v.prototype._handleChunkEnd=function(){this.read(4,this._parseChunkEnd.bind(this))},v.prototype._parseChunkEnd=function(o){var s=o.readInt32BE(0),i=this._crc.crc32();if(this._options.checkCRC&&i!==s){this.error(new Error("Crc error - "+s+" - "+i));return}this._hasIEND||this.read(8,this._parseChunkBegin.bind(this))},v.prototype._handleIHDR=function(o){this.read(o,this._parseIHDR.bind(this))},v.prototype._parseIHDR=function(o){this._crc.write(o);var s=o.readUInt32BE(0),i=o.readUInt32BE(4),t=o[8],e=o[9],l=o[10],h=o[11],n=o[12];if(t!==8&&t!==4&&t!==2&&t!==1&&t!==16){this.error(new Error("Unsupported bit depth "+t));return}if(!(e in c.COLORTYPE_TO_BPP_MAP)){this.error(new Error("Unsupported color type"));return}if(l!==0){this.error(new Error("Unsupported compression method"));return}if(h!==0){this.error(new Error("Unsupported filter method"));return}if(n!==0&&n!==1){this.error(new Error("Unsupported interlace method"));return}this._colorType=e;var f=c.COLORTYPE_TO_BPP_MAP[this._colorType];this._hasIHDR=!0,this.metadata({width:s,height:i,depth:t,interlace:Boolean(n),palette:Boolean(e&c.COLORTYPE_PALETTE),color:Boolean(e&c.COLORTYPE_COLOR),alpha:Boolean(e&c.COLORTYPE_ALPHA),bpp:f,colorType:e}),this._handleChunkEnd()},v.prototype._handlePLTE=function(o){this.read(o,this._parsePLTE.bind(this))},v.prototype._parsePLTE=function(o){this._crc.write(o);for(var s=Math.floor(o.length/3),i=0;i<s;i++)this._palette.push([o[i*3],o[i*3+1],o[i*3+2],255]);this.palette(this._palette),this._handleChunkEnd()},v.prototype._handleTRNS=function(o){this.read(o,this._parseTRNS.bind(this))},v.prototype._parseTRNS=function(o){if(this._crc.write(o),this._colorType===c.COLORTYPE_PALETTE_COLOR){if(this._palette.length===0){this.error(new Error("Transparency chunk must be after palette"));return}if(o.length>this._palette.length){this.error(new Error("More transparent colors than palette size"));return}for(var s=0;s<o.length;s++)this._palette[s][3]=o[s];this.palette(this._palette)}this._colorType===c.COLORTYPE_GRAYSCALE&&this.transColor([o.readUInt16BE(0)]),this._colorType===c.COLORTYPE_COLOR&&this.transColor([o.readUInt16BE(0),o.readUInt16BE(2),o.readUInt16BE(4)]),this._handleChunkEnd()},v.prototype._handleGAMA=function(o){this.read(o,this._parseGAMA.bind(this))},v.prototype._parseGAMA=function(o){this._crc.write(o),this.gamma(o.readUInt32BE(0)/c.GAMMA_DIVISION),this._handleChunkEnd()},v.prototype._handleIDAT=function(o){this.read(-o,this._parseIDAT.bind(this,o))},v.prototype._parseIDAT=function(o,s){if(this._crc.write(s),this._colorType===c.COLORTYPE_PALETTE_COLOR&&this._palette.length===0)throw new Error("Expected palette not found");this.inflateData(s);var i=o-s.length;i>0?this._handleIDAT(i):this._handleChunkEnd()},v.prototype._handleIEND=function(o){this.read(o,this._parseIEND.bind(this))},v.prototype._parseIEND=function(o){this._crc.write(o),this._hasIEND=!0,this._handleChunkEnd(),this.finished&&this.finished()}}).call(this,_("buffer").Buffer)},{"./constants":113,"./crc":114,buffer:48}],128:[function(_,T,b){var x=_("./parser-sync"),c=_("./packer-sync");b.read=function(p,v){return x(p,v||{})},b.write=function(p,v){return c(p,v)}},{"./packer-sync":122,"./parser-sync":126}],129:[function(_,T,b){(function(x,c){var p=_("util"),v=_("stream"),o=_("./parser-async"),s=_("./packer-async"),i=_("./png-sync"),t=b.PNG=function(e){v.call(this),e=e||{},this.width=e.width|0,this.height=e.height|0,this.data=this.width>0&&this.height>0?new c(4*this.width*this.height):null,e.fill&&this.data&&this.data.fill(0),this.gamma=0,this.readable=this.writable=!0,this._parser=new o(e),this._parser.on("error",this.emit.bind(this,"error")),this._parser.on("close",this._handleClose.bind(this)),this._parser.on("metadata",this._metadata.bind(this)),this._parser.on("gamma",this._gamma.bind(this)),this._parser.on("parsed",function(l){this.data=l,this.emit("parsed",l)}.bind(this)),this._packer=new s(e),this._packer.on("data",this.emit.bind(this,"data")),this._packer.on("end",this.emit.bind(this,"end")),this._parser.on("close",this._handleClose.bind(this)),this._packer.on("error",this.emit.bind(this,"error"))};p.inherits(t,v),t.sync=i,t.prototype.pack=function(){return!this.data||!this.data.length?(this.emit("error","No data provided"),this):(x.nextTick(function(){this._packer.pack(this.data,this.width,this.height,this.gamma)}.bind(this)),this)},t.prototype.parse=function(e,l){if(l){var h,n;h=function(f){this.removeListener("error",n),this.data=f,l(null,this)}.bind(this),n=function(f){this.removeListener("parsed",h),l(f,null)}.bind(this),this.once("parsed",h),this.once("error",n)}return this.end(e),this},t.prototype.write=function(e){return this._parser.write(e),!0},t.prototype.end=function(e){this._parser.end(e)},t.prototype._metadata=function(e){this.width=e.width,this.height=e.height,this.emit("metadata",e)},t.prototype._gamma=function(e){this.gamma=e},t.prototype._handleClose=function(){!this._parser.writable&&!this._packer.readable&&this.emit("close")},t.bitblt=function(e,l,h,n,f,a,m,g){if(h|=0,n|=0,f|=0,a|=0,m|=0,g|=0,h>e.width||n>e.height||h+f>e.width||n+a>e.height)throw new Error("bitblt reading outside image");if(m>l.width||g>l.height||m+f>l.width||g+a>l.height)throw new Error("bitblt writing outside image");for(var y=0;y<a;y++)e.data.copy(l.data,(g+y)*l.width+m<<2,(n+y)*e.width+h<<2,(n+y)*e.width+h+f<<2)},t.prototype.bitblt=function(e,l,h,n,f,a,m){return t.bitblt(this,e,l,h,n,f,a,m),this},t.adjustGamma=function(e){if(e.gamma){for(var l=0;l<e.height;l++)for(var h=0;h<e.width;h++)for(var n=e.width*l+h<<2,f=0;f<3;f++){var a=e.data[n+f]/255;a=Math.pow(a,1/2.2/e.gamma),e.data[n+f]=Math.round(a*255)}e.gamma=0}},t.prototype.adjustGamma=function(){t.adjustGamma(this)}}).call(this,_("_process"),_("buffer").Buffer)},{"./packer-async":121,"./parser-async":125,"./png-sync":128,_process:133,buffer:48,stream:155,util:186}],130:[function(_,T,b){(function(x,c){var p=_("assert").ok,v=_("zlib"),o=_("util"),s=_("buffer").kMaxLength;function i(n){if(!(this instanceof i))return new i(n);n&&n.chunkSize<v.Z_MIN_CHUNK&&(n.chunkSize=v.Z_MIN_CHUNK),v.Inflate.call(this,n),this._offset=this._offset===void 0?this._outOffset:this._offset,this._buffer=this._buffer||this._outBuffer,n&&n.maxLength!=null&&(this._maxLength=n.maxLength)}function t(n){return new i(n)}function e(n,f){f&&x.nextTick(f),n._handle&&(n._handle.close(),n._handle=null)}i.prototype._processChunk=function(n,f,a){if(typeof a=="function")return v.Inflate._processChunk.call(this,n,f,a);var m=this,g=n&&n.length,y=this._chunkSize-this._offset,E=this._maxLength,S=0,A=[],M=0,I;this.on("error",function(j){I=j});function R(j,V){if(!m._hadError){var G=y-V;if(p(G>=0,"have should not go down"),G>0){var U=m._buffer.slice(m._offset,m._offset+G);if(m._offset+=G,U.length>E&&(U=U.slice(0,E)),A.push(U),M+=U.length,E-=U.length,E===0)return!1}return(V===0||m._offset>=m._chunkSize)&&(y=m._chunkSize,m._offset=0,m._buffer=c.allocUnsafe(m._chunkSize)),V===0?(S+=g-j,g=j,!0):!1}}p(this._handle,"zlib binding closed");do{var H=this._handle.writeSync(f,n,S,g,this._buffer,this._offset,y);H=H||this._writeState}while(!this._hadError&&R(H[0],H[1]));if(this._hadError)throw I;if(M>=s)throw e(this),new RangeError("Cannot create final Buffer. It would be larger than 0x"+s.toString(16)+" bytes");var L=c.concat(A,M);return e(this),L},o.inherits(i,v.Inflate);function l(n,f){if(typeof f=="string"&&(f=c.from(f)),!(f instanceof c))throw new TypeError("Not a string or buffer");var a=n._finishFlushFlag;return a==null&&(a=v.Z_FINISH),n._processChunk(f,a)}function h(n,f){return l(new i(f),n)}T.exports=b=h,b.Inflate=i,b.createInflate=t,b.inflateSync=h}).call(this,_("_process"),_("buffer").Buffer)},{_process:133,assert:25,buffer:48,util:186,zlib:35}],131:[function(_,T,b){var x=T.exports=function(c){this._buffer=c,this._reads=[]};x.prototype.read=function(c,p){this._reads.push({length:Math.abs(c),allowLess:c<0,func:p})},x.prototype.process=function(){for(;this._reads.length>0&&this._buffer.length;){var c=this._reads[0];if(this._buffer.length&&(this._buffer.length>=c.length||c.allowLess)){this._reads.shift();var p=this._buffer;this._buffer=p.slice(c.length),c.func.call(this,p.slice(0,c.length))}else break}if(this._reads.length>0)return new Error("There are some read requests waitng on finished stream");if(this._buffer.length>0)return new Error("unrecognised content at end of stream")}},{}],132:[function(_,T,b){(function(x){typeof x>"u"||!x.version||x.version.indexOf("v0.")===0||x.version.indexOf("v1.")===0&&x.version.indexOf("v1.8.")!==0?T.exports={nextTick:c}:T.exports=x;function c(p,v,o,s){if(typeof p!="function")throw new TypeError('"callback" argument must be a function');var i=arguments.length,t,e;switch(i){case 0:case 1:return x.nextTick(p);case 2:return x.nextTick(function(){p.call(null,v)});case 3:return x.nextTick(function(){p.call(null,v,o)});case 4:return x.nextTick(function(){p.call(null,v,o,s)});default:for(t=new Array(i-1),e=0;e<t.length;)t[e++]=arguments[e];return x.nextTick(function(){p.apply(null,t)})}}}).call(this,_("_process"))},{_process:133}],133:[function(_,T,b){var x=T.exports={},c,p;function v(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?c=setTimeout:c=v}catch{c=v}try{typeof clearTimeout=="function"?p=clearTimeout:p=o}catch{p=o}})();function s(g){if(c===setTimeout)return setTimeout(g,0);if((c===v||!c)&&setTimeout)return c=setTimeout,setTimeout(g,0);try{return c(g,0)}catch{try{return c.call(null,g,0)}catch{return c.call(this,g,0)}}}function i(g){if(p===clearTimeout)return clearTimeout(g);if((p===o||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(g);try{return p(g)}catch{try{return p.call(null,g)}catch{return p.call(this,g)}}}var t=[],e=!1,l,h=-1;function n(){!e||!l||(e=!1,l.length?t=l.concat(t):h=-1,t.length&&f())}function f(){if(!e){var g=s(n);e=!0;for(var y=t.length;y;){for(l=t,t=[];++h<y;)l&&l[h].run();h=-1,y=t.length}l=null,e=!1,i(g)}}x.nextTick=function(g){var y=new Array(arguments.length-1);if(arguments.length>1)for(var E=1;E<arguments.length;E++)y[E-1]=arguments[E];t.push(new a(g,y)),t.length===1&&!e&&s(f)};function a(g,y){this.fun=g,this.array=y}a.prototype.run=function(){this.fun.apply(null,this.array)},x.title="browser",x.browser=!0,x.env={},x.argv=[],x.version="",x.versions={};function m(){}x.on=m,x.addListener=m,x.once=m,x.off=m,x.removeListener=m,x.removeAllListeners=m,x.emit=m,x.prependListener=m,x.prependOnceListener=m,x.listeners=function(g){return[]},x.binding=function(g){throw new Error("process.binding is not supported")},x.cwd=function(){return"/"},x.chdir=function(g){throw new Error("process.chdir is not supported")},x.umask=function(){return 0}},{}],134:[function(_,T,b){(function(x){(function(c){var p=typeof b=="object"&&b&&!b.nodeType&&b,v=typeof T=="object"&&T&&!T.nodeType&&T,o=typeof x=="object"&&x;(o.global===o||o.window===o||o.self===o)&&(c=o);var s,i=2147483647,t=36,e=1,l=26,h=38,n=700,f=72,a=128,m="-",g=/^xn--/,y=/[^\x20-\x7E]/,E=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},A=t-e,M=Math.floor,I=String.fromCharCode,R;function H(K){throw new RangeError(S[K])}function L(K,Q){for(var te=K.length,ce=[];te--;)ce[te]=Q(K[te]);return ce}function j(K,Q){var te=K.split("@"),ce="";te.length>1&&(ce=te[0]+"@",K=te[1]),K=K.replace(E,".");var we=K.split("."),be=L(we,Q).join(".");return ce+be}function V(K){for(var Q=[],te=0,ce=K.length,we,be;te<ce;)we=K.charCodeAt(te++),we>=55296&&we<=56319&&te<ce?(be=K.charCodeAt(te++),(be&64512)==56320?Q.push(((we&1023)<<10)+(be&1023)+65536):(Q.push(we),te--)):Q.push(we);return Q}function G(K){return L(K,function(Q){var te="";return Q>65535&&(Q-=65536,te+=I(Q>>>10&1023|55296),Q=56320|Q&1023),te+=I(Q),te}).join("")}function U(K){return K-48<10?K-22:K-65<26?K-65:K-97<26?K-97:t}function Y(K,Q){return K+22+75*(K<26)-((Q!=0)<<5)}function ee(K,Q,te){var ce=0;for(K=te?M(K/n):K>>1,K+=M(K/Q);K>A*l>>1;ce+=t)K=M(K/A);return M(ce+(A+1)*K/(K+h))}function le(K){var Q=[],te=K.length,ce,we=0,be=a,xe=f,Ie,me,ve,re,se,fe,J,z,B;for(Ie=K.lastIndexOf(m),Ie<0&&(Ie=0),me=0;me<Ie;++me)K.charCodeAt(me)>=128&&H("not-basic"),Q.push(K.charCodeAt(me));for(ve=Ie>0?Ie+1:0;ve<te;){for(re=we,se=1,fe=t;ve>=te&&H("invalid-input"),J=U(K.charCodeAt(ve++)),(J>=t||J>M((i-we)/se))&&H("overflow"),we+=J*se,z=fe<=xe?e:fe>=xe+l?l:fe-xe,!(J<z);fe+=t)B=t-z,se>M(i/B)&&H("overflow"),se*=B;ce=Q.length+1,xe=ee(we-re,ce,re==0),M(we/ce)>i-be&&H("overflow"),be+=M(we/ce),we%=ce,Q.splice(we++,0,be)}return G(Q)}function he(K){var Q,te,ce,we,be,xe,Ie,me,ve,re,se,fe=[],J,z,B,F;for(K=V(K),J=K.length,Q=a,te=0,be=f,xe=0;xe<J;++xe)se=K[xe],se<128&&fe.push(I(se));for(ce=we=fe.length,we&&fe.push(m);ce<J;){for(Ie=i,xe=0;xe<J;++xe)se=K[xe],se>=Q&&se<Ie&&(Ie=se);for(z=ce+1,Ie-Q>M((i-te)/z)&&H("overflow"),te+=(Ie-Q)*z,Q=Ie,xe=0;xe<J;++xe)if(se=K[xe],se<Q&&++te>i&&H("overflow"),se==Q){for(me=te,ve=t;re=ve<=be?e:ve>=be+l?l:ve-be,!(me<re);ve+=t)F=me-re,B=t-re,fe.push(I(Y(re+F%B,0))),me=M(F/B);fe.push(I(Y(me,0))),be=ee(te,z,ce==we),te=0,++ce}++te,++Q}return fe.join("")}function oe(K){return j(K,function(Q){return g.test(Q)?le(Q.slice(4).toLowerCase()):Q})}function q(K){return j(K,function(Q){return y.test(Q)?"xn--"+he(Q):Q})}if(s={version:"1.4.1",ucs2:{decode:V,encode:G},decode:le,encode:he,toASCII:q,toUnicode:oe},p&&v)if(T.exports==p)v.exports=s;else for(R in s)s.hasOwnProperty(R)&&(p[R]=s[R]);else c.punycode=s})(this)}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{}],135:[function(_,T,b){function x(p,v){return Object.prototype.hasOwnProperty.call(p,v)}T.exports=function(p,v,o,s){v=v||"&",o=o||"=";var i={};if(typeof p!="string"||p.length===0)return i;var t=/\+/g;p=p.split(v);var e=1e3;s&&typeof s.maxKeys=="number"&&(e=s.maxKeys);var l=p.length;e>0&&l>e&&(l=e);for(var h=0;h<l;++h){var n=p[h].replace(t,"%20"),f=n.indexOf(o),a,m,g,y;f>=0?(a=n.substr(0,f),m=n.substr(f+1)):(a=n,m=""),g=decodeURIComponent(a),y=decodeURIComponent(m),x(i,g)?c(i[g])?i[g].push(y):i[g]=[i[g],y]:i[g]=y}return i};var c=Array.isArray||function(p){return Object.prototype.toString.call(p)==="[object Array]"}},{}],136:[function(_,T,b){var x=function(o){switch(typeof o){case"string":return o;case"boolean":return o?"true":"false";case"number":return isFinite(o)?o:"";default:return""}};T.exports=function(o,s,i,t){return s=s||"&",i=i||"=",o===null&&(o=void 0),typeof o=="object"?p(v(o),function(e){var l=encodeURIComponent(x(e))+i;return c(o[e])?p(o[e],function(h){return l+encodeURIComponent(x(h))}).join(s):l+encodeURIComponent(x(o[e]))}).join(s):t?encodeURIComponent(x(t))+i+encodeURIComponent(x(o)):""};var c=Array.isArray||function(o){return Object.prototype.toString.call(o)==="[object Array]"};function p(o,s){if(o.map)return o.map(s);for(var i=[],t=0;t<o.length;t++)i.push(s(o[t],t));return i}var v=Object.keys||function(o){var s=[];for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&s.push(i);return s}},{}],137:[function(_,T,b){b.decode=b.parse=_("./decode"),b.encode=b.stringify=_("./encode")},{"./decode":135,"./encode":136}],138:[function(_,T,b){T.exports=_("./lib/_stream_duplex.js")},{"./lib/_stream_duplex.js":139}],139:[function(_,T,b){var x=_("process-nextick-args"),c=Object.keys||function(n){var f=[];for(var a in n)f.push(a);return f};T.exports=e;var p=_("core-util-is");p.inherits=_("inherits");var v=_("./_stream_readable"),o=_("./_stream_writable");p.inherits(e,v);for(var s=c(o.prototype),i=0;i<s.length;i++){var t=s[i];e.prototype[t]||(e.prototype[t]=o.prototype[t])}function e(n){if(!(this instanceof e))return new e(n);v.call(this,n),o.call(this,n),n&&n.readable===!1&&(this.readable=!1),n&&n.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,n&&n.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",l)}Object.defineProperty(e.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function l(){this.allowHalfOpen||this._writableState.ended||x.nextTick(h,this)}function h(n){n.end()}Object.defineProperty(e.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}}),e.prototype._destroy=function(n,f){this.push(null),this.end(),x.nextTick(f,n)}},{"./_stream_readable":141,"./_stream_writable":143,"core-util-is":51,inherits:75,"process-nextick-args":132}],140:[function(_,T,b){T.exports=p;var x=_("./_stream_transform"),c=_("core-util-is");c.inherits=_("inherits"),c.inherits(p,x);function p(v){if(!(this instanceof p))return new p(v);x.call(this,v)}p.prototype._transform=function(v,o,s){s(null,v)}},{"./_stream_transform":142,"core-util-is":51,inherits:75}],141:[function(_,T,b){(function(x,c){var p=_("process-nextick-args");T.exports=M;var v=_("isarray"),o;M.ReadableState=A,_("events").EventEmitter;var s=function(re,se){return re.listeners(se).length},i=_("./internal/streams/stream"),t=_("safe-buffer").Buffer,e=c.Uint8Array||function(){};function l(re){return t.from(re)}function h(re){return t.isBuffer(re)||re instanceof e}var n=_("core-util-is");n.inherits=_("inherits");var f=_("util"),a=void 0;f&&f.debuglog?a=f.debuglog("stream"):a=function(){};var m=_("./internal/streams/BufferList"),g=_("./internal/streams/destroy"),y;n.inherits(M,i);var E=["error","close","destroy","pause","resume"];function S(re,se,fe){if(typeof re.prependListener=="function")return re.prependListener(se,fe);!re._events||!re._events[se]?re.on(se,fe):v(re._events[se])?re._events[se].unshift(fe):re._events[se]=[fe,re._events[se]]}function A(re,se){o=o||_("./_stream_duplex"),re=re||{};var fe=se instanceof o;this.objectMode=!!re.objectMode,fe&&(this.objectMode=this.objectMode||!!re.readableObjectMode);var J=re.highWaterMark,z=re.readableHighWaterMark,B=this.objectMode?16:16*1024;J||J===0?this.highWaterMark=J:fe&&(z||z===0)?this.highWaterMark=z:this.highWaterMark=B,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new m,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=re.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,re.encoding&&(y||(y=_("string_decoder/").StringDecoder),this.decoder=new y(re.encoding),this.encoding=re.encoding)}function M(re){if(o=o||_("./_stream_duplex"),!(this instanceof M))return new M(re);this._readableState=new A(re,this),this.readable=!0,re&&(typeof re.read=="function"&&(this._read=re.read),typeof re.destroy=="function"&&(this._destroy=re.destroy)),i.call(this)}Object.defineProperty(M.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(re){!this._readableState||(this._readableState.destroyed=re)}}),M.prototype.destroy=g.destroy,M.prototype._undestroy=g.undestroy,M.prototype._destroy=function(re,se){this.push(null),se(re)},M.prototype.push=function(re,se){var fe=this._readableState,J;return fe.objectMode?J=!0:typeof re=="string"&&(se=se||fe.defaultEncoding,se!==fe.encoding&&(re=t.from(re,se),se=""),J=!0),I(this,re,se,!1,J)},M.prototype.unshift=function(re){return I(this,re,null,!0,!1)};function I(re,se,fe,J,z){var B=re._readableState;if(se===null)B.reading=!1,U(re,B);else{var F;z||(F=H(B,se)),F?re.emit("error",F):B.objectMode||se&&se.length>0?(typeof se!="string"&&!B.objectMode&&Object.getPrototypeOf(se)!==t.prototype&&(se=l(se)),J?B.endEmitted?re.emit("error",new Error("stream.unshift() after end event")):R(re,B,se,!0):B.ended?re.emit("error",new Error("stream.push() after EOF")):(B.reading=!1,B.decoder&&!fe?(se=B.decoder.write(se),B.objectMode||se.length!==0?R(re,B,se,!1):le(re,B)):R(re,B,se,!1))):J||(B.reading=!1)}return L(B)}function R(re,se,fe,J){se.flowing&&se.length===0&&!se.sync?(re.emit("data",fe),re.read(0)):(se.length+=se.objectMode?1:fe.length,J?se.buffer.unshift(fe):se.buffer.push(fe),se.needReadable&&Y(re)),le(re,se)}function H(re,se){var fe;return!h(se)&&typeof se!="string"&&se!==void 0&&!re.objectMode&&(fe=new TypeError("Invalid non-string/buffer chunk")),fe}function L(re){return!re.ended&&(re.needReadable||re.length<re.highWaterMark||re.length===0)}M.prototype.isPaused=function(){return this._readableState.flowing===!1},M.prototype.setEncoding=function(re){return y||(y=_("string_decoder/").StringDecoder),this._readableState.decoder=new y(re),this._readableState.encoding=re,this};var j=8388608;function V(re){return re>=j?re=j:(re--,re|=re>>>1,re|=re>>>2,re|=re>>>4,re|=re>>>8,re|=re>>>16,re++),re}function G(re,se){return re<=0||se.length===0&&se.ended?0:se.objectMode?1:re!==re?se.flowing&&se.length?se.buffer.head.data.length:se.length:(re>se.highWaterMark&&(se.highWaterMark=V(re)),re<=se.length?re:se.ended?se.length:(se.needReadable=!0,0))}M.prototype.read=function(re){a("read",re),re=parseInt(re,10);var se=this._readableState,fe=re;if(re!==0&&(se.emittedReadable=!1),re===0&&se.needReadable&&(se.length>=se.highWaterMark||se.ended))return a("read: emitReadable",se.length,se.ended),se.length===0&&se.ended?Ie(this):Y(this),null;if(re=G(re,se),re===0&&se.ended)return se.length===0&&Ie(this),null;var J=se.needReadable;a("need readable",J),(se.length===0||se.length-re<se.highWaterMark)&&(J=!0,a("length less than watermark",J)),se.ended||se.reading?(J=!1,a("reading or ended",J)):J&&(a("do read"),se.reading=!0,se.sync=!0,se.length===0&&(se.needReadable=!0),this._read(se.highWaterMark),se.sync=!1,se.reading||(re=G(fe,se)));var z;return re>0?z=ce(re,se):z=null,z===null?(se.needReadable=!0,re=0):se.length-=re,se.length===0&&(se.ended||(se.needReadable=!0),fe!==re&&se.ended&&Ie(this)),z!==null&&this.emit("data",z),z};function U(re,se){if(!se.ended){if(se.decoder){var fe=se.decoder.end();fe&&fe.length&&(se.buffer.push(fe),se.length+=se.objectMode?1:fe.length)}se.ended=!0,Y(re)}}function Y(re){var se=re._readableState;se.needReadable=!1,se.emittedReadable||(a("emitReadable",se.flowing),se.emittedReadable=!0,se.sync?p.nextTick(ee,re):ee(re))}function ee(re){a("emit readable"),re.emit("readable"),te(re)}function le(re,se){se.readingMore||(se.readingMore=!0,p.nextTick(he,re,se))}function he(re,se){for(var fe=se.length;!se.reading&&!se.flowing&&!se.ended&&se.length<se.highWaterMark&&(a("maybeReadMore read 0"),re.read(0),fe!==se.length);)fe=se.length;se.readingMore=!1}M.prototype._read=function(re){this.emit("error",new Error("_read() is not implemented"))},M.prototype.pipe=function(re,se){var fe=this,J=this._readableState;switch(J.pipesCount){case 0:J.pipes=re;break;case 1:J.pipes=[J.pipes,re];break;default:J.pipes.push(re);break}J.pipesCount+=1,a("pipe count=%d opts=%j",J.pipesCount,se);var z=(!se||se.end!==!1)&&re!==x.stdout&&re!==x.stderr,B=z?Z:Ge;J.endEmitted?p.nextTick(B):fe.once("end",B),re.on("unpipe",F);function F(je,We){a("onunpipe"),je===fe&&We&&We.hasUnpiped===!1&&(We.hasUnpiped=!0,ie())}function Z(){a("onend"),re.end()}var D=oe(fe);re.on("drain",D);var O=!1;function ie(){a("cleanup"),re.removeListener("close",ze),re.removeListener("finish",qe),re.removeListener("drain",D),re.removeListener("error",Le),re.removeListener("unpipe",F),fe.removeListener("end",Z),fe.removeListener("end",Ge),fe.removeListener("data",Me),O=!0,J.awaitDrain&&(!re._writableState||re._writableState.needDrain)&&D()}var ge=!1;fe.on("data",Me);function Me(je){a("ondata"),ge=!1;var We=re.write(je);We===!1&&!ge&&((J.pipesCount===1&&J.pipes===re||J.pipesCount>1&&ve(J.pipes,re)!==-1)&&!O&&(a("false write response, pause",fe._readableState.awaitDrain),fe._readableState.awaitDrain++,ge=!0),fe.pause())}function Le(je){a("onerror",je),Ge(),re.removeListener("error",Le),s(re,"error")===0&&re.emit("error",je)}S(re,"error",Le);function ze(){re.removeListener("finish",qe),Ge()}re.once("close",ze);function qe(){a("onfinish"),re.removeListener("close",ze),Ge()}re.once("finish",qe);function Ge(){a("unpipe"),fe.unpipe(re)}return re.emit("pipe",fe),J.flowing||(a("pipe resume"),fe.resume()),re};function oe(re){return function(){var se=re._readableState;a("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&s(re,"data")&&(se.flowing=!0,te(re))}}M.prototype.unpipe=function(re){var se=this._readableState,fe={hasUnpiped:!1};if(se.pipesCount===0)return this;if(se.pipesCount===1)return re&&re!==se.pipes?this:(re||(re=se.pipes),se.pipes=null,se.pipesCount=0,se.flowing=!1,re&&re.emit("unpipe",this,fe),this);if(!re){var J=se.pipes,z=se.pipesCount;se.pipes=null,se.pipesCount=0,se.flowing=!1;for(var B=0;B<z;B++)J[B].emit("unpipe",this,fe);return this}var F=ve(se.pipes,re);return F===-1?this:(se.pipes.splice(F,1),se.pipesCount-=1,se.pipesCount===1&&(se.pipes=se.pipes[0]),re.emit("unpipe",this,fe),this)},M.prototype.on=function(re,se){var fe=i.prototype.on.call(this,re,se);if(re==="data")this._readableState.flowing!==!1&&this.resume();else if(re==="readable"){var J=this._readableState;!J.endEmitted&&!J.readableListening&&(J.readableListening=J.needReadable=!0,J.emittedReadable=!1,J.reading?J.length&&Y(this):p.nextTick(q,this))}return fe},M.prototype.addListener=M.prototype.on;function q(re){a("readable nexttick read 0"),re.read(0)}M.prototype.resume=function(){var re=this._readableState;return re.flowing||(a("resume"),re.flowing=!0,K(this,re)),this};function K(re,se){se.resumeScheduled||(se.resumeScheduled=!0,p.nextTick(Q,re,se))}function Q(re,se){se.reading||(a("resume read 0"),re.read(0)),se.resumeScheduled=!1,se.awaitDrain=0,re.emit("resume"),te(re),se.flowing&&!se.reading&&re.read(0)}M.prototype.pause=function(){return a("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(a("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function te(re){var se=re._readableState;for(a("flow",se.flowing);se.flowing&&re.read()!==null;);}M.prototype.wrap=function(re){var se=this,fe=this._readableState,J=!1;re.on("end",function(){if(a("wrapped end"),fe.decoder&&!fe.ended){var F=fe.decoder.end();F&&F.length&&se.push(F)}se.push(null)}),re.on("data",function(F){if(a("wrapped data"),fe.decoder&&(F=fe.decoder.write(F)),!(fe.objectMode&&F==null)&&!(!fe.objectMode&&(!F||!F.length))){var Z=se.push(F);Z||(J=!0,re.pause())}});for(var z in re)this[z]===void 0&&typeof re[z]=="function"&&(this[z]=function(F){return function(){return re[F].apply(re,arguments)}}(z));for(var B=0;B<E.length;B++)re.on(E[B],this.emit.bind(this,E[B]));return this._read=function(F){a("wrapped _read",F),J&&(J=!1,re.resume())},this},Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),M._fromList=ce;function ce(re,se){if(se.length===0)return null;var fe;return se.objectMode?fe=se.buffer.shift():!re||re>=se.length?(se.decoder?fe=se.buffer.join(""):se.buffer.length===1?fe=se.buffer.head.data:fe=se.buffer.concat(se.length),se.buffer.clear()):fe=we(re,se.buffer,se.decoder),fe}function we(re,se,fe){var J;return re<se.head.data.length?(J=se.head.data.slice(0,re),se.head.data=se.head.data.slice(re)):re===se.head.data.length?J=se.shift():J=fe?be(re,se):xe(re,se),J}function be(re,se){var fe=se.head,J=1,z=fe.data;for(re-=z.length;fe=fe.next;){var B=fe.data,F=re>B.length?B.length:re;if(F===B.length?z+=B:z+=B.slice(0,re),re-=F,re===0){F===B.length?(++J,fe.next?se.head=fe.next:se.head=se.tail=null):(se.head=fe,fe.data=B.slice(F));break}++J}return se.length-=J,z}function xe(re,se){var fe=t.allocUnsafe(re),J=se.head,z=1;for(J.data.copy(fe),re-=J.data.length;J=J.next;){var B=J.data,F=re>B.length?B.length:re;if(B.copy(fe,fe.length-re,0,F),re-=F,re===0){F===B.length?(++z,J.next?se.head=J.next:se.head=se.tail=null):(se.head=J,J.data=B.slice(F));break}++z}return se.length-=z,fe}function Ie(re){var se=re._readableState;if(se.length>0)throw new Error('"endReadable()" called on non-empty stream');se.endEmitted||(se.ended=!0,p.nextTick(me,se,re))}function me(re,se){!re.endEmitted&&re.length===0&&(re.endEmitted=!0,se.readable=!1,se.emit("end"))}function ve(re,se){for(var fe=0,J=re.length;fe<J;fe++)if(re[fe]===se)return fe;return-1}}).call(this,_("_process"),typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{"./_stream_duplex":139,"./internal/streams/BufferList":144,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,events:52,inherits:75,isarray:79,"process-nextick-args":132,"safe-buffer":147,"string_decoder/":148,util:33}],142:[function(_,T,b){T.exports=v;var x=_("./_stream_duplex"),c=_("core-util-is");c.inherits=_("inherits"),c.inherits(v,x);function p(i,t){var e=this._transformState;e.transforming=!1;var l=e.writecb;if(!l)return this.emit("error",new Error("write callback called multiple times"));e.writechunk=null,e.writecb=null,t!=null&&this.push(t),l(i);var h=this._readableState;h.reading=!1,(h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}function v(i){if(!(this instanceof v))return new v(i);x.call(this,i),this._transformState={afterTransform:p.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,i&&(typeof i.transform=="function"&&(this._transform=i.transform),typeof i.flush=="function"&&(this._flush=i.flush)),this.on("prefinish",o)}function o(){var i=this;typeof this._flush=="function"?this._flush(function(t,e){s(i,t,e)}):s(this,null,null)}v.prototype.push=function(i,t){return this._transformState.needTransform=!1,x.prototype.push.call(this,i,t)},v.prototype._transform=function(i,t,e){throw new Error("_transform() is not implemented")},v.prototype._write=function(i,t,e){var l=this._transformState;if(l.writecb=e,l.writechunk=i,l.writeencoding=t,!l.transforming){var h=this._readableState;(l.needTransform||h.needReadable||h.length<h.highWaterMark)&&this._read(h.highWaterMark)}},v.prototype._read=function(i){var t=this._transformState;t.writechunk!==null&&t.writecb&&!t.transforming?(t.transforming=!0,this._transform(t.writechunk,t.writeencoding,t.afterTransform)):t.needTransform=!0},v.prototype._destroy=function(i,t){var e=this;x.prototype._destroy.call(this,i,function(l){t(l),e.emit("close")})};function s(i,t,e){if(t)return i.emit("error",t);if(e!=null&&i.push(e),i._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(i._transformState.transforming)throw new Error("Calling transform done when still transforming");return i.push(null)}},{"./_stream_duplex":139,"core-util-is":51,inherits:75}],143:[function(_,T,b){(function(x,c,p){var v=_("process-nextick-args");T.exports=S;function o(Q){var te=this;this.next=null,this.entry=null,this.finish=function(){K(te,Q)}}var s=!x.browser&&["v0.10","v0.9."].indexOf(x.version.slice(0,5))>-1?p:v.nextTick,i;S.WritableState=y;var t=_("core-util-is");t.inherits=_("inherits");var e={deprecate:_("util-deprecate")},l=_("./internal/streams/stream"),h=_("safe-buffer").Buffer,n=c.Uint8Array||function(){};function f(Q){return h.from(Q)}function a(Q){return h.isBuffer(Q)||Q instanceof n}var m=_("./internal/streams/destroy");t.inherits(S,l);function g(){}function y(Q,te){i=i||_("./_stream_duplex"),Q=Q||{};var ce=te instanceof i;this.objectMode=!!Q.objectMode,ce&&(this.objectMode=this.objectMode||!!Q.writableObjectMode);var we=Q.highWaterMark,be=Q.writableHighWaterMark,xe=this.objectMode?16:16*1024;we||we===0?this.highWaterMark=we:ce&&(be||be===0)?this.highWaterMark=be:this.highWaterMark=xe,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var Ie=Q.decodeStrings===!1;this.decodeStrings=!Ie,this.defaultEncoding=Q.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(me){V(te,me)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}y.prototype.getBuffer=function(){for(var te=this.bufferedRequest,ce=[];te;)ce.push(te),te=te.next;return ce},function(){try{Object.defineProperty(y.prototype,"buffer",{get:e.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(S,Symbol.hasInstance,{value:function(Q){return E.call(this,Q)?!0:this!==S?!1:Q&&Q._writableState instanceof y}})):E=function(Q){return Q instanceof this};function S(Q){if(i=i||_("./_stream_duplex"),!E.call(S,this)&&!(this instanceof i))return new S(Q);this._writableState=new y(Q,this),this.writable=!0,Q&&(typeof Q.write=="function"&&(this._write=Q.write),typeof Q.writev=="function"&&(this._writev=Q.writev),typeof Q.destroy=="function"&&(this._destroy=Q.destroy),typeof Q.final=="function"&&(this._final=Q.final)),l.call(this)}S.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function A(Q,te){var ce=new Error("write after end");Q.emit("error",ce),v.nextTick(te,ce)}function M(Q,te,ce,we){var be=!0,xe=!1;return ce===null?xe=new TypeError("May not write null values to stream"):typeof ce!="string"&&ce!==void 0&&!te.objectMode&&(xe=new TypeError("Invalid non-string/buffer chunk")),xe&&(Q.emit("error",xe),v.nextTick(we,xe),be=!1),be}S.prototype.write=function(Q,te,ce){var we=this._writableState,be=!1,xe=!we.objectMode&&a(Q);return xe&&!h.isBuffer(Q)&&(Q=f(Q)),typeof te=="function"&&(ce=te,te=null),xe?te="buffer":te||(te=we.defaultEncoding),typeof ce!="function"&&(ce=g),we.ended?A(this,ce):(xe||M(this,we,Q,ce))&&(we.pendingcb++,be=R(this,we,xe,Q,te,ce)),be},S.prototype.cork=function(){var Q=this._writableState;Q.corked++},S.prototype.uncork=function(){var Q=this._writableState;Q.corked&&(Q.corked--,!Q.writing&&!Q.corked&&!Q.finished&&!Q.bufferProcessing&&Q.bufferedRequest&&Y(this,Q))},S.prototype.setDefaultEncoding=function(te){if(typeof te=="string"&&(te=te.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((te+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+te);return this._writableState.defaultEncoding=te,this};function I(Q,te,ce){return!Q.objectMode&&Q.decodeStrings!==!1&&typeof te=="string"&&(te=h.from(te,ce)),te}Object.defineProperty(S.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function R(Q,te,ce,we,be,xe){if(!ce){var Ie=I(te,we,be);we!==Ie&&(ce=!0,be="buffer",we=Ie)}var me=te.objectMode?1:we.length;te.length+=me;var ve=te.length<te.highWaterMark;if(ve||(te.needDrain=!0),te.writing||te.corked){var re=te.lastBufferedRequest;te.lastBufferedRequest={chunk:we,encoding:be,isBuf:ce,callback:xe,next:null},re?re.next=te.lastBufferedRequest:te.bufferedRequest=te.lastBufferedRequest,te.bufferedRequestCount+=1}else H(Q,te,!1,me,we,be,xe);return ve}function H(Q,te,ce,we,be,xe,Ie){te.writelen=we,te.writecb=Ie,te.writing=!0,te.sync=!0,ce?Q._writev(be,te.onwrite):Q._write(be,xe,te.onwrite),te.sync=!1}function L(Q,te,ce,we,be){--te.pendingcb,ce?(v.nextTick(be,we),v.nextTick(oe,Q,te),Q._writableState.errorEmitted=!0,Q.emit("error",we)):(be(we),Q._writableState.errorEmitted=!0,Q.emit("error",we),oe(Q,te))}function j(Q){Q.writing=!1,Q.writecb=null,Q.length-=Q.writelen,Q.writelen=0}function V(Q,te){var ce=Q._writableState,we=ce.sync,be=ce.writecb;if(j(ce),te)L(Q,ce,we,te,be);else{var xe=ee(ce);!xe&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&Y(Q,ce),we?s(G,Q,ce,xe,be):G(Q,ce,xe,be)}}function G(Q,te,ce,we){ce||U(Q,te),te.pendingcb--,we(),oe(Q,te)}function U(Q,te){te.length===0&&te.needDrain&&(te.needDrain=!1,Q.emit("drain"))}function Y(Q,te){te.bufferProcessing=!0;var ce=te.bufferedRequest;if(Q._writev&&ce&&ce.next){var we=te.bufferedRequestCount,be=new Array(we),xe=te.corkedRequestsFree;xe.entry=ce;for(var Ie=0,me=!0;ce;)be[Ie]=ce,ce.isBuf||(me=!1),ce=ce.next,Ie+=1;be.allBuffers=me,H(Q,te,!0,te.length,be,"",xe.finish),te.pendingcb++,te.lastBufferedRequest=null,xe.next?(te.corkedRequestsFree=xe.next,xe.next=null):te.corkedRequestsFree=new o(te),te.bufferedRequestCount=0}else{for(;ce;){var ve=ce.chunk,re=ce.encoding,se=ce.callback,fe=te.objectMode?1:ve.length;if(H(Q,te,!1,fe,ve,re,se),ce=ce.next,te.bufferedRequestCount--,te.writing)break}ce===null&&(te.lastBufferedRequest=null)}te.bufferedRequest=ce,te.bufferProcessing=!1}S.prototype._write=function(Q,te,ce){ce(new Error("_write() is not implemented"))},S.prototype._writev=null,S.prototype.end=function(Q,te,ce){var we=this._writableState;typeof Q=="function"?(ce=Q,Q=null,te=null):typeof te=="function"&&(ce=te,te=null),Q!=null&&this.write(Q,te),we.corked&&(we.corked=1,this.uncork()),!we.ending&&!we.finished&&q(this,we,ce)};function ee(Q){return Q.ending&&Q.length===0&&Q.bufferedRequest===null&&!Q.finished&&!Q.writing}function le(Q,te){Q._final(function(ce){te.pendingcb--,ce&&Q.emit("error",ce),te.prefinished=!0,Q.emit("prefinish"),oe(Q,te)})}function he(Q,te){!te.prefinished&&!te.finalCalled&&(typeof Q._final=="function"?(te.pendingcb++,te.finalCalled=!0,v.nextTick(le,Q,te)):(te.prefinished=!0,Q.emit("prefinish")))}function oe(Q,te){var ce=ee(te);return ce&&(he(Q,te),te.pendingcb===0&&(te.finished=!0,Q.emit("finish"))),ce}function q(Q,te,ce){te.ending=!0,oe(Q,te),ce&&(te.finished?v.nextTick(ce):Q.once("finish",ce)),te.ended=!0,Q.writable=!1}function K(Q,te,ce){var we=Q.entry;for(Q.entry=null;we;){var be=we.callback;te.pendingcb--,be(ce),we=we.next}te.corkedRequestsFree?te.corkedRequestsFree.next=Q:te.corkedRequestsFree=Q}Object.defineProperty(S.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(Q){!this._writableState||(this._writableState.destroyed=Q)}}),S.prototype.destroy=m.destroy,S.prototype._undestroy=m.undestroy,S.prototype._destroy=function(Q,te){this.end(),te(Q)}}).call(this,_("_process"),typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{},_("timers").setImmediate)},{"./_stream_duplex":139,"./internal/streams/destroy":145,"./internal/streams/stream":146,_process:133,"core-util-is":51,inherits:75,"process-nextick-args":132,"safe-buffer":147,timers:176,"util-deprecate":183}],144:[function(_,T,b){function x(o,s){if(!(o instanceof s))throw new TypeError("Cannot call a class as a function")}var c=_("safe-buffer").Buffer,p=_("util");function v(o,s,i){o.copy(s,i)}T.exports=function(){function o(){x(this,o),this.head=null,this.tail=null,this.length=0}return o.prototype.push=function(i){var t={data:i,next:null};this.length>0?this.tail.next=t:this.head=t,this.tail=t,++this.length},o.prototype.unshift=function(i){var t={data:i,next:this.head};this.length===0&&(this.tail=t),this.head=t,++this.length},o.prototype.shift=function(){if(this.length!==0){var i=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,i}},o.prototype.clear=function(){this.head=this.tail=null,this.length=0},o.prototype.join=function(i){if(this.length===0)return"";for(var t=this.head,e=""+t.data;t=t.next;)e+=i+t.data;return e},o.prototype.concat=function(i){if(this.length===0)return c.alloc(0);if(this.length===1)return this.head.data;for(var t=c.allocUnsafe(i>>>0),e=this.head,l=0;e;)v(e.data,t,l),l+=e.data.length,e=e.next;return t},o}(),p&&p.inspect&&p.inspect.custom&&(T.exports.prototype[p.inspect.custom]=function(){var o=p.inspect({length:this.length});return this.constructor.name+" "+o})},{"safe-buffer":147,util:33}],145:[function(_,T,b){var x=_("process-nextick-args");function c(o,s){var i=this,t=this._readableState&&this._readableState.destroyed,e=this._writableState&&this._writableState.destroyed;return t||e?(s?s(o):o&&(!this._writableState||!this._writableState.errorEmitted)&&x.nextTick(v,this,o),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(l){!s&&l?(x.nextTick(v,i,l),i._writableState&&(i._writableState.errorEmitted=!0)):s&&s(l)}),this)}function p(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function v(o,s){o.emit("error",s)}T.exports={destroy:c,undestroy:p}},{"process-nextick-args":132}],146:[function(_,T,b){T.exports=_("events").EventEmitter},{events:52}],147:[function(_,T,b){var x=_("buffer"),c=x.Buffer;function p(o,s){for(var i in o)s[i]=o[i]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?T.exports=x:(p(x,b),b.Buffer=v);function v(o,s,i){return c(o,s,i)}p(c,v),v.from=function(o,s,i){if(typeof o=="number")throw new TypeError("Argument must not be a number");return c(o,s,i)},v.alloc=function(o,s,i){if(typeof o!="number")throw new TypeError("Argument must be a number");var t=c(o);return s!==void 0?typeof i=="string"?t.fill(s,i):t.fill(s):t.fill(0),t},v.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return c(o)},v.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return x.SlowBuffer(o)}},{buffer:48}],148:[function(_,T,b){var x=_("safe-buffer").Buffer,c=x.isEncoding||function(E){switch(E=""+E,E&&E.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function p(E){if(!E)return"utf8";for(var S;;)switch(E){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return E;default:if(S)return;E=(""+E).toLowerCase(),S=!0}}function v(E){var S=p(E);if(typeof S!="string"&&(x.isEncoding===c||!c(E)))throw new Error("Unknown encoding: "+E);return S||E}b.StringDecoder=o;function o(E){this.encoding=v(E);var S;switch(this.encoding){case"utf16le":this.text=n,this.end=f,S=4;break;case"utf8":this.fillLast=e,S=4;break;case"base64":this.text=a,this.end=m,S=3;break;default:this.write=g,this.end=y;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=x.allocUnsafe(S)}o.prototype.write=function(E){if(E.length===0)return"";var S,A;if(this.lastNeed){if(S=this.fillLast(E),S===void 0)return"";A=this.lastNeed,this.lastNeed=0}else A=0;return A<E.length?S?S+this.text(E,A):this.text(E,A):S||""},o.prototype.end=h,o.prototype.text=l,o.prototype.fillLast=function(E){if(this.lastNeed<=E.length)return E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,this.lastTotal-this.lastNeed,0,E.length),this.lastNeed-=E.length};function s(E){return E<=127?0:E>>5===6?2:E>>4===14?3:E>>3===30?4:E>>6===2?-1:-2}function i(E,S,A){var M=S.length-1;if(M<A)return 0;var I=s(S[M]);return I>=0?(I>0&&(E.lastNeed=I-1),I):--M<A||I===-2?0:(I=s(S[M]),I>=0?(I>0&&(E.lastNeed=I-2),I):--M<A||I===-2?0:(I=s(S[M]),I>=0?(I>0&&(I===2?I=0:E.lastNeed=I-3),I):0))}function t(E,S,A){if((S[0]&192)!==128)return E.lastNeed=0,"\uFFFD";if(E.lastNeed>1&&S.length>1){if((S[1]&192)!==128)return E.lastNeed=1,"\uFFFD";if(E.lastNeed>2&&S.length>2&&(S[2]&192)!==128)return E.lastNeed=2,"\uFFFD"}}function e(E){var S=this.lastTotal-this.lastNeed,A=t(this,E);if(A!==void 0)return A;if(this.lastNeed<=E.length)return E.copy(this.lastChar,S,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);E.copy(this.lastChar,S,0,E.length),this.lastNeed-=E.length}function l(E,S){var A=i(this,E,S);if(!this.lastNeed)return E.toString("utf8",S);this.lastTotal=A;var M=E.length-(A-this.lastNeed);return E.copy(this.lastChar,0,M),E.toString("utf8",S,M)}function h(E){var S=E&&E.length?this.write(E):"";return this.lastNeed?S+"\uFFFD":S}function n(E,S){if((E.length-S)%2===0){var A=E.toString("utf16le",S);if(A){var M=A.charCodeAt(A.length-1);if(M>=55296&&M<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1],A.slice(0,-1)}return A}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=E[E.length-1],E.toString("utf16le",S,E.length-1)}function f(E){var S=E&&E.length?this.write(E):"";if(this.lastNeed){var A=this.lastTotal-this.lastNeed;return S+this.lastChar.toString("utf16le",0,A)}return S}function a(E,S){var A=(E.length-S)%3;return A===0?E.toString("base64",S):(this.lastNeed=3-A,this.lastTotal=3,A===1?this.lastChar[0]=E[E.length-1]:(this.lastChar[0]=E[E.length-2],this.lastChar[1]=E[E.length-1]),E.toString("base64",S,E.length-A))}function m(E){var S=E&&E.length?this.write(E):"";return this.lastNeed?S+this.lastChar.toString("base64",0,3-this.lastNeed):S}function g(E){return E.toString(this.encoding)}function y(E){return E&&E.length?this.write(E):""}},{"safe-buffer":147}],149:[function(_,T,b){T.exports=_("./readable").PassThrough},{"./readable":150}],150:[function(_,T,b){b=T.exports=_("./lib/_stream_readable.js"),b.Stream=b,b.Readable=b,b.Writable=_("./lib/_stream_writable.js"),b.Duplex=_("./lib/_stream_duplex.js"),b.Transform=_("./lib/_stream_transform.js"),b.PassThrough=_("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":139,"./lib/_stream_passthrough.js":140,"./lib/_stream_readable.js":141,"./lib/_stream_transform.js":142,"./lib/_stream_writable.js":143}],151:[function(_,T,b){T.exports=_("./readable").Transform},{"./readable":150}],152:[function(_,T,b){T.exports=_("./lib/_stream_writable.js")},{"./lib/_stream_writable.js":143}],153:[function(_,T,b){var x=function(c){var p=Object.prototype,v=p.hasOwnProperty,o,s=typeof Symbol=="function"?Symbol:{},i=s.iterator||"@@iterator",t=s.asyncIterator||"@@asyncIterator",e=s.toStringTag||"@@toStringTag";function l(he,oe,q,K){var Q=oe&&oe.prototype instanceof y?oe:y,te=Object.create(Q.prototype),ce=new Y(K||[]);return te._invoke=j(he,q,ce),te}c.wrap=l;function h(he,oe,q){try{return{type:"normal",arg:he.call(oe,q)}}catch(K){return{type:"throw",arg:K}}}var n="suspendedStart",f="suspendedYield",a="executing",m="completed",g={};function y(){}function E(){}function S(){}var A={};A[i]=function(){return this};var M=Object.getPrototypeOf,I=M&&M(M(ee([])));I&&I!==p&&v.call(I,i)&&(A=I);var R=S.prototype=y.prototype=Object.create(A);E.prototype=R.constructor=S,S.constructor=E,S[e]=E.displayName="GeneratorFunction";function H(he){["next","throw","return"].forEach(function(oe){he[oe]=function(q){return this._invoke(oe,q)}})}c.isGeneratorFunction=function(he){var oe=typeof he=="function"&&he.constructor;return oe?oe===E||(oe.displayName||oe.name)==="GeneratorFunction":!1},c.mark=function(he){return Object.setPrototypeOf?Object.setPrototypeOf(he,S):(he.__proto__=S,e in he||(he[e]="GeneratorFunction")),he.prototype=Object.create(R),he},c.awrap=function(he){return{__await:he}};function L(he){function oe(Q,te,ce,we){var be=h(he[Q],he,te);if(be.type==="throw")we(be.arg);else{var xe=be.arg,Ie=xe.value;return Ie&&typeof Ie=="object"&&v.call(Ie,"__await")?Promise.resolve(Ie.__await).then(function(me){oe("next",me,ce,we)},function(me){oe("throw",me,ce,we)}):Promise.resolve(Ie).then(function(me){xe.value=me,ce(xe)},function(me){return oe("throw",me,ce,we)})}}var q;function K(Q,te){function ce(){return new Promise(function(we,be){oe(Q,te,we,be)})}return q=q?q.then(ce,ce):ce()}this._invoke=K}H(L.prototype),L.prototype[t]=function(){return this},c.AsyncIterator=L,c.async=function(he,oe,q,K){var Q=new L(l(he,oe,q,K));return c.isGeneratorFunction(oe)?Q:Q.next().then(function(te){return te.done?te.value:Q.next()})};function j(he,oe,q){var K=n;return function(te,ce){if(K===a)throw new Error("Generator is already running");if(K===m){if(te==="throw")throw ce;return le()}for(q.method=te,q.arg=ce;;){var we=q.delegate;if(we){var be=V(we,q);if(be){if(be===g)continue;return be}}if(q.method==="next")q.sent=q._sent=q.arg;else if(q.method==="throw"){if(K===n)throw K=m,q.arg;q.dispatchException(q.arg)}else q.method==="return"&&q.abrupt("return",q.arg);K=a;var xe=h(he,oe,q);if(xe.type==="normal"){if(K=q.done?m:f,xe.arg===g)continue;return{value:xe.arg,done:q.done}}else xe.type==="throw"&&(K=m,q.method="throw",q.arg=xe.arg)}}}function V(he,oe){var q=he.iterator[oe.method];if(q===o){if(oe.delegate=null,oe.method==="throw"){if(he.iterator.return&&(oe.method="return",oe.arg=o,V(he,oe),oe.method==="throw"))return g;oe.method="throw",oe.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var K=h(q,he.iterator,oe.arg);if(K.type==="throw")return oe.method="throw",oe.arg=K.arg,oe.delegate=null,g;var Q=K.arg;if(!Q)return oe.method="throw",oe.arg=new TypeError("iterator result is not an object"),oe.delegate=null,g;if(Q.done)oe[he.resultName]=Q.value,oe.next=he.nextLoc,oe.method!=="return"&&(oe.method="next",oe.arg=o);else return Q;return oe.delegate=null,g}H(R),R[e]="Generator",R[i]=function(){return this},R.toString=function(){return"[object Generator]"};function G(he){var oe={tryLoc:he[0]};1 in he&&(oe.catchLoc=he[1]),2 in he&&(oe.finallyLoc=he[2],oe.afterLoc=he[3]),this.tryEntries.push(oe)}function U(he){var oe=he.completion||{};oe.type="normal",delete oe.arg,he.completion=oe}function Y(he){this.tryEntries=[{tryLoc:"root"}],he.forEach(G,this),this.reset(!0)}c.keys=function(he){var oe=[];for(var q in he)oe.push(q);return oe.reverse(),function K(){for(;oe.length;){var Q=oe.pop();if(Q in he)return K.value=Q,K.done=!1,K}return K.done=!0,K}};function ee(he){if(he){var oe=he[i];if(oe)return oe.call(he);if(typeof he.next=="function")return he;if(!isNaN(he.length)){var q=-1,K=function Q(){for(;++q<he.length;)if(v.call(he,q))return Q.value=he[q],Q.done=!1,Q;return Q.value=o,Q.done=!0,Q};return K.next=K}}return{next:le}}c.values=ee;function le(){return{value:o,done:!0}}return Y.prototype={constructor:Y,reset:function(he){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(U),!he)for(var oe in this)oe.charAt(0)==="t"&&v.call(this,oe)&&!isNaN(+oe.slice(1))&&(this[oe]=o)},stop:function(){this.done=!0;var he=this.tryEntries[0],oe=he.completion;if(oe.type==="throw")throw oe.arg;return this.rval},dispatchException:function(he){if(this.done)throw he;var oe=this;function q(be,xe){return te.type="throw",te.arg=he,oe.next=be,xe&&(oe.method="next",oe.arg=o),!!xe}for(var K=this.tryEntries.length-1;K>=0;--K){var Q=this.tryEntries[K],te=Q.completion;if(Q.tryLoc==="root")return q("end");if(Q.tryLoc<=this.prev){var ce=v.call(Q,"catchLoc"),we=v.call(Q,"finallyLoc");if(ce&&we){if(this.prev<Q.catchLoc)return q(Q.catchLoc,!0);if(this.prev<Q.finallyLoc)return q(Q.finallyLoc)}else if(ce){if(this.prev<Q.catchLoc)return q(Q.catchLoc,!0)}else if(we){if(this.prev<Q.finallyLoc)return q(Q.finallyLoc)}else throw new Error("try statement without catch or finally")}}},abrupt:function(he,oe){for(var q=this.tryEntries.length-1;q>=0;--q){var K=this.tryEntries[q];if(K.tryLoc<=this.prev&&v.call(K,"finallyLoc")&&this.prev<K.finallyLoc){var Q=K;break}}Q&&(he==="break"||he==="continue")&&Q.tryLoc<=oe&&oe<=Q.finallyLoc&&(Q=null);var te=Q?Q.completion:{};return te.type=he,te.arg=oe,Q?(this.method="next",this.next=Q.finallyLoc,g):this.complete(te)},complete:function(he,oe){if(he.type==="throw")throw he.arg;return he.type==="break"||he.type==="continue"?this.next=he.arg:he.type==="return"?(this.rval=this.arg=he.arg,this.method="return",this.next="end"):he.type==="normal"&&oe&&(this.next=oe),g},finish:function(he){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var q=this.tryEntries[oe];if(q.finallyLoc===he)return this.complete(q.completion,q.afterLoc),U(q),g}},catch:function(he){for(var oe=this.tryEntries.length-1;oe>=0;--oe){var q=this.tryEntries[oe];if(q.tryLoc===he){var K=q.completion;if(K.type==="throw"){var Q=K.arg;U(q)}return Q}}throw new Error("illegal catch attempt")},delegateYield:function(he,oe,q){return this.delegate={iterator:ee(he),resultName:oe,nextLoc:q},this.method==="next"&&(this.arg=o),g}},c}(typeof T=="object"?T.exports:{});try{regeneratorRuntime=x}catch{Function("r","regeneratorRuntime = r")(x)}},{}],154:[function(_,T,b){var x=_("buffer"),c=x.Buffer;function p(o,s){for(var i in o)s[i]=o[i]}c.from&&c.alloc&&c.allocUnsafe&&c.allocUnsafeSlow?T.exports=x:(p(x,b),b.Buffer=v);function v(o,s,i){return c(o,s,i)}v.prototype=Object.create(c.prototype),p(c,v),v.from=function(o,s,i){if(typeof o=="number")throw new TypeError("Argument must not be a number");return c(o,s,i)},v.alloc=function(o,s,i){if(typeof o!="number")throw new TypeError("Argument must be a number");var t=c(o);return s!==void 0?typeof i=="string"?t.fill(s,i):t.fill(s):t.fill(0),t},v.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return c(o)},v.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return x.SlowBuffer(o)}},{buffer:48}],155:[function(_,T,b){T.exports=p;var x=_("events").EventEmitter,c=_("inherits");c(p,x),p.Readable=_("readable-stream/readable.js"),p.Writable=_("readable-stream/writable.js"),p.Duplex=_("readable-stream/duplex.js"),p.Transform=_("readable-stream/transform.js"),p.PassThrough=_("readable-stream/passthrough.js"),p.Stream=p;function p(){x.call(this)}p.prototype.pipe=function(v,o){var s=this;function i(a){v.writable&&v.write(a)===!1&&s.pause&&s.pause()}s.on("data",i);function t(){s.readable&&s.resume&&s.resume()}v.on("drain",t),!v._isStdio&&(!o||o.end!==!1)&&(s.on("end",l),s.on("close",h));var e=!1;function l(){e||(e=!0,v.end())}function h(){e||(e=!0,typeof v.destroy=="function"&&v.destroy())}function n(a){if(f(),x.listenerCount(this,"error")===0)throw a}s.on("error",n),v.on("error",n);function f(){s.removeListener("data",i),v.removeListener("drain",t),s.removeListener("end",l),s.removeListener("close",h),s.removeListener("error",n),v.removeListener("error",n),s.removeListener("end",f),s.removeListener("close",f),v.removeListener("close",f)}return s.on("end",f),s.on("close",f),v.on("close",f),v.emit("pipe",s),v}},{events:52,inherits:75,"readable-stream/duplex.js":138,"readable-stream/passthrough.js":149,"readable-stream/readable.js":150,"readable-stream/transform.js":151,"readable-stream/writable.js":152}],156:[function(_,T,b){(function(x){var c=_("./lib/request"),p=_("./lib/response"),v=_("xtend"),o=_("builtin-status-codes"),s=_("url"),i=b;i.request=function(t,e){typeof t=="string"?t=s.parse(t):t=v(t);var l=x.location.protocol.search(/^https?:$/)===-1?"http:":"",h=t.protocol||l,n=t.hostname||t.host,f=t.port,a=t.path||"/";n&&n.indexOf(":")!==-1&&(n="["+n+"]"),t.url=(n?h+"//"+n:"")+(f?":"+f:"")+a,t.method=(t.method||"GET").toUpperCase(),t.headers=t.headers||{};var m=new c(t);return e&&m.on("response",e),m},i.get=function(e,l){var h=i.request(e,l);return h.end(),h},i.ClientRequest=c,i.IncomingMessage=p.IncomingMessage,i.Agent=function(){},i.Agent.defaultMaxSockets=4,i.globalAgent=new i.Agent,i.STATUS_CODES=o,i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{"./lib/request":158,"./lib/response":159,"builtin-status-codes":50,url:180,xtend:189}],157:[function(_,T,b){(function(x){b.fetch=o(x.fetch)&&o(x.ReadableStream),b.writableStream=o(x.WritableStream),b.abortController=o(x.AbortController);var c;function p(){if(c!==void 0)return c;if(x.XMLHttpRequest){c=new x.XMLHttpRequest;try{c.open("GET",x.XDomainRequest?"/":"https://example.com")}catch{c=null}}else c=null;return c}function v(s){var i=p();if(!i)return!1;try{return i.responseType=s,i.responseType===s}catch{}return!1}b.arraybuffer=b.fetch||v("arraybuffer"),b.msstream=!b.fetch&&v("ms-stream"),b.mozchunkedarraybuffer=!b.fetch&&v("moz-chunked-arraybuffer"),b.overrideMimeType=b.fetch||(p()?o(p().overrideMimeType):!1);function o(s){return typeof s=="function"}c=null}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{}],158:[function(_,T,b){(function(x,c,p){var v=_("./capability"),o=_("inherits"),s=_("./response"),i=_("readable-stream"),t=s.IncomingMessage,e=s.readyStates;function l(a,m){return v.fetch&&m?"fetch":v.mozchunkedarraybuffer?"moz-chunked-arraybuffer":v.msstream?"ms-stream":v.arraybuffer&&a?"arraybuffer":"text"}var h=T.exports=function(a){var m=this;i.Writable.call(m),m._opts=a,m._body=[],m._headers={},a.auth&&m.setHeader("Authorization","Basic "+p.from(a.auth).toString("base64")),Object.keys(a.headers).forEach(function(E){m.setHeader(E,a.headers[E])});var g,y=!0;if(a.mode==="disable-fetch"||"requestTimeout"in a&&!v.abortController)y=!1,g=!0;else if(a.mode==="prefer-streaming")g=!1;else if(a.mode==="allow-wrong-content-type")g=!v.overrideMimeType;else if(!a.mode||a.mode==="default"||a.mode==="prefer-fast")g=!0;else throw new Error("Invalid value for opts.mode");m._mode=l(g,y),m._fetchTimer=null,m.on("finish",function(){m._onFinish()})};o(h,i.Writable),h.prototype.setHeader=function(a,m){var g=this,y=a.toLowerCase();f.indexOf(y)===-1&&(g._headers[y]={name:a,value:m})},h.prototype.getHeader=function(a){var m=this._headers[a.toLowerCase()];return m?m.value:null},h.prototype.removeHeader=function(a){var m=this;delete m._headers[a.toLowerCase()]},h.prototype._onFinish=function(){var a=this;if(!a._destroyed){var m=a._opts,g=a._headers,y=null;m.method!=="GET"&&m.method!=="HEAD"&&(y=new Blob(a._body,{type:(g["content-type"]||{}).value||""}));var E=[];if(Object.keys(g).forEach(function(I){var R=g[I].name,H=g[I].value;Array.isArray(H)?H.forEach(function(L){E.push([R,L])}):E.push([R,H])}),a._mode==="fetch"){var S=null;if(v.abortController){var A=new AbortController;S=A.signal,a._fetchAbortController=A,"requestTimeout"in m&&m.requestTimeout!==0&&(a._fetchTimer=c.setTimeout(function(){a.emit("requestTimeout"),a._fetchAbortController&&a._fetchAbortController.abort()},m.requestTimeout))}c.fetch(a._opts.url,{method:a._opts.method,headers:E,body:y||void 0,mode:"cors",credentials:m.withCredentials?"include":"same-origin",signal:S}).then(function(I){a._fetchResponse=I,a._connect()},function(I){c.clearTimeout(a._fetchTimer),a._destroyed||a.emit("error",I)})}else{var M=a._xhr=new c.XMLHttpRequest;try{M.open(a._opts.method,a._opts.url,!0)}catch(I){x.nextTick(function(){a.emit("error",I)});return}"responseType"in M&&(M.responseType=a._mode),"withCredentials"in M&&(M.withCredentials=!!m.withCredentials),a._mode==="text"&&"overrideMimeType"in M&&M.overrideMimeType("text/plain; charset=x-user-defined"),"requestTimeout"in m&&(M.timeout=m.requestTimeout,M.ontimeout=function(){a.emit("requestTimeout")}),E.forEach(function(I){M.setRequestHeader(I[0],I[1])}),a._response=null,M.onreadystatechange=function(){switch(M.readyState){case e.LOADING:case e.DONE:a._onXHRProgress();break}},a._mode==="moz-chunked-arraybuffer"&&(M.onprogress=function(){a._onXHRProgress()}),M.onerror=function(){a._destroyed||a.emit("error",new Error("XHR error"))};try{M.send(y)}catch(I){x.nextTick(function(){a.emit("error",I)});return}}}};function n(a){try{var m=a.status;return m!==null&&m!==0}catch{return!1}}h.prototype._onXHRProgress=function(){var a=this;!n(a._xhr)||a._destroyed||(a._response||a._connect(),a._response._onXHRProgress())},h.prototype._connect=function(){var a=this;a._destroyed||(a._response=new t(a._xhr,a._fetchResponse,a._mode,a._fetchTimer),a._response.on("error",function(m){a.emit("error",m)}),a.emit("response",a._response))},h.prototype._write=function(a,m,g){var y=this;y._body.push(a),g()},h.prototype.abort=h.prototype.destroy=function(){var a=this;a._destroyed=!0,c.clearTimeout(a._fetchTimer),a._response&&(a._response._destroyed=!0),a._xhr?a._xhr.abort():a._fetchAbortController&&a._fetchAbortController.abort()},h.prototype.end=function(a,m,g){var y=this;typeof a=="function"&&(g=a,a=void 0),i.Writable.prototype.end.call(y,a,m,g)},h.prototype.flushHeaders=function(){},h.prototype.setTimeout=function(){},h.prototype.setNoDelay=function(){},h.prototype.setSocketKeepAlive=function(){};var f=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,_("_process"),typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{},_("buffer").Buffer)},{"./capability":157,"./response":159,_process:133,buffer:48,inherits:75,"readable-stream":174}],159:[function(_,T,b){(function(x,c,p){var v=_("./capability"),o=_("inherits"),s=_("readable-stream"),i=b.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4},t=b.IncomingMessage=function(e,l,h,n){var f=this;if(s.Readable.call(f),f._mode=h,f.headers={},f.rawHeaders=[],f.trailers={},f.rawTrailers=[],f.on("end",function(){x.nextTick(function(){f.emit("close")})}),h==="fetch"){let A=function(){m.read().then(function(M){if(!f._destroyed){if(M.done){c.clearTimeout(n),f.push(null);return}f.push(p.from(M.value)),A()}}).catch(function(M){c.clearTimeout(n),f._destroyed||f.emit("error",M)})};var S=A;if(f._fetchResponse=l,f.url=l.url,f.statusCode=l.status,f.statusMessage=l.statusText,l.headers.forEach(function(M,I){f.headers[I.toLowerCase()]=M,f.rawHeaders.push(I,M)}),v.writableStream){var a=new WritableStream({write:function(M){return new Promise(function(I,R){f._destroyed?R():f.push(p.from(M))?I():f._resumeFetch=I})},close:function(){c.clearTimeout(n),f._destroyed||f.push(null)},abort:function(M){f._destroyed||f.emit("error",M)}});try{l.body.pipeTo(a).catch(function(M){c.clearTimeout(n),f._destroyed||f.emit("error",M)});return}catch{}}var m=l.body.getReader();A()}else{f._xhr=e,f._pos=0,f.url=e.responseURL,f.statusCode=e.status,f.statusMessage=e.statusText;var g=e.getAllResponseHeaders().split(/\r?\n/);if(g.forEach(function(A){var M=A.match(/^([^:]+):\s*(.*)/);if(M){var I=M[1].toLowerCase();I==="set-cookie"?(f.headers[I]===void 0&&(f.headers[I]=[]),f.headers[I].push(M[2])):f.headers[I]!==void 0?f.headers[I]+=", "+M[2]:f.headers[I]=M[2],f.rawHeaders.push(M[1],M[2])}}),f._charset="x-user-defined",!v.overrideMimeType){var y=f.rawHeaders["mime-type"];if(y){var E=y.match(/;\s*charset=([^;])(;|$)/);E&&(f._charset=E[1].toLowerCase())}f._charset||(f._charset="utf-8")}}};o(t,s.Readable),t.prototype._read=function(){var e=this,l=e._resumeFetch;l&&(e._resumeFetch=null,l())},t.prototype._onXHRProgress=function(){var e=this,l=e._xhr,h=null;switch(e._mode){case"text":if(h=l.responseText,h.length>e._pos){var n=h.substr(e._pos);if(e._charset==="x-user-defined"){for(var f=p.alloc(n.length),a=0;a<n.length;a++)f[a]=n.charCodeAt(a)&255;e.push(f)}else e.push(n,e._charset);e._pos=h.length}break;case"arraybuffer":if(l.readyState!==i.DONE||!l.response)break;h=l.response,e.push(p.from(new Uint8Array(h)));break;case"moz-chunked-arraybuffer":if(h=l.response,l.readyState!==i.LOADING||!h)break;e.push(p.from(new Uint8Array(h)));break;case"ms-stream":if(h=l.response,l.readyState!==i.LOADING)break;var m=new c.MSStreamReader;m.onprogress=function(){m.result.byteLength>e._pos&&(e.push(p.from(new Uint8Array(m.result.slice(e._pos)))),e._pos=m.result.byteLength)},m.onload=function(){e.push(null)},m.readAsArrayBuffer(h);break}e._xhr.readyState===i.DONE&&e._mode!=="ms-stream"&&e.push(null)}}).call(this,_("_process"),typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{},_("buffer").Buffer)},{"./capability":157,_process:133,buffer:48,inherits:75,"readable-stream":174}],160:[function(_,T,b){function x(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var c={};function p(t,e,l){l||(l=Error);function h(f,a,m){return typeof e=="string"?e:e(f,a,m)}var n=function(f){x(a,f);function a(m,g,y){return f.call(this,h(m,g,y))||this}return a}(l);n.prototype.name=l.name,n.prototype.code=t,c[t]=n}function v(t,e){if(Array.isArray(t)){var l=t.length;return t=t.map(function(h){return String(h)}),l>2?"one of ".concat(e," ").concat(t.slice(0,l-1).join(", "),", or ")+t[l-1]:l===2?"one of ".concat(e," ").concat(t[0]," or ").concat(t[1]):"of ".concat(e," ").concat(t[0])}else return"of ".concat(e," ").concat(String(t))}function o(t,e,l){return t.substr(!l||l<0?0:+l,e.length)===e}function s(t,e,l){return(l===void 0||l>t.length)&&(l=t.length),t.substring(l-e.length,l)===e}function i(t,e,l){return typeof l!="number"&&(l=0),l+e.length>t.length?!1:t.indexOf(e,l)!==-1}p("ERR_INVALID_OPT_VALUE",function(t,e){return'The value "'+e+'" is invalid for option "'+t+'"'},TypeError),p("ERR_INVALID_ARG_TYPE",function(t,e,l){var h;typeof e=="string"&&o(e,"not ")?(h="must not be",e=e.replace(/^not /,"")):h="must be";var n;if(s(t," argument"))n="The ".concat(t," ").concat(h," ").concat(v(e,"type"));else{var f=i(t,".")?"property":"argument";n='The "'.concat(t,'" ').concat(f," ").concat(h," ").concat(v(e,"type"))}return n+=". Received type ".concat(typeof l),n},TypeError),p("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),p("ERR_METHOD_NOT_IMPLEMENTED",function(t){return"The "+t+" method is not implemented"}),p("ERR_STREAM_PREMATURE_CLOSE","Premature close"),p("ERR_STREAM_DESTROYED",function(t){return"Cannot call "+t+" after a stream was destroyed"}),p("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),p("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),p("ERR_STREAM_WRITE_AFTER_END","write after end"),p("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),p("ERR_UNKNOWN_ENCODING",function(t){return"Unknown encoding: "+t},TypeError),p("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),T.exports.codes=c},{}],161:[function(_,T,b){(function(x){var c=new Set;function p(o){if(!c.has(o)){var s=o+" is an experimental feature. This feature could change at any time";c.add(o),x.emitWarning(s,"ExperimentalWarning")}}function v(){}T.exports.emitExperimentalWarning=x.emitWarning?p:v}).call(this,_("_process"))},{_process:133}],162:[function(_,T,b){(function(x){var c=Object.keys||function(h){var n=[];for(var f in h)n.push(f);return n};T.exports=t;var p=_("./_stream_readable"),v=_("./_stream_writable");_("inherits")(t,p);for(var o=c(v.prototype),s=0;s<o.length;s++){var i=o[s];t.prototype[i]||(t.prototype[i]=v.prototype[i])}function t(h){if(!(this instanceof t))return new t(h);p.call(this,h),v.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",e)))}Object.defineProperty(t.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(t.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(t.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function e(){this._writableState.ended||x.nextTick(l,this)}function l(h){h.end()}Object.defineProperty(t.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(n){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=n,this._writableState.destroyed=n)}})}).call(this,_("_process"))},{"./_stream_readable":164,"./_stream_writable":166,_process:133,inherits:75}],163:[function(_,T,b){T.exports=c;var x=_("./_stream_transform");_("inherits")(c,x);function c(p){if(!(this instanceof c))return new c(p);x.call(this,p)}c.prototype._transform=function(p,v,o){o(null,p)}},{"./_stream_transform":165,inherits:75}],164:[function(_,T,b){(function(x,c){T.exports=G;var p;G.ReadableState=V,_("events").EventEmitter;var v=function(B,F){return B.listeners(F).length},o=_("./internal/streams/stream"),s=_("buffer").Buffer,i=c.Uint8Array||function(){};function t(z){return s.from(z)}function e(z){return s.isBuffer(z)||z instanceof i}var l=_("util"),h;l&&l.debuglog?h=l.debuglog("stream"):h=function(){};var n=_("./internal/streams/buffer_list"),f=_("./internal/streams/destroy"),a=_("./internal/streams/state"),m=a.getHighWaterMark,g=_("../errors").codes,y=g.ERR_INVALID_ARG_TYPE,E=g.ERR_STREAM_PUSH_AFTER_EOF,S=g.ERR_METHOD_NOT_IMPLEMENTED,A=g.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,M=_("../experimentalWarning"),I=M.emitExperimentalWarning,R,H;_("inherits")(G,o);var L=["error","close","destroy","pause","resume"];function j(z,B,F){if(typeof z.prependListener=="function")return z.prependListener(B,F);!z._events||!z._events[B]?z.on(B,F):Array.isArray(z._events[B])?z._events[B].unshift(F):z._events[B]=[F,z._events[B]]}function V(z,B,F){p=p||_("./_stream_duplex"),z=z||{},typeof F!="boolean"&&(F=B instanceof p),this.objectMode=!!z.objectMode,F&&(this.objectMode=this.objectMode||!!z.readableObjectMode),this.highWaterMark=m(this,z,"readableHighWaterMark",F),this.buffer=new n,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=z.emitClose!==!1,this.destroyed=!1,this.defaultEncoding=z.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,z.encoding&&(R||(R=_("string_decoder/").StringDecoder),this.decoder=new R(z.encoding),this.encoding=z.encoding)}function G(z){if(p=p||_("./_stream_duplex"),!(this instanceof G))return new G(z);var B=this instanceof p;this._readableState=new V(z,this,B),this.readable=!0,z&&(typeof z.read=="function"&&(this._read=z.read),typeof z.destroy=="function"&&(this._destroy=z.destroy)),o.call(this)}Object.defineProperty(G.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(B){!this._readableState||(this._readableState.destroyed=B)}}),G.prototype.destroy=f.destroy,G.prototype._undestroy=f.undestroy,G.prototype._destroy=function(z,B){B(z)},G.prototype.push=function(z,B){var F=this._readableState,Z;return F.objectMode?Z=!0:typeof z=="string"&&(B=B||F.defaultEncoding,B!==F.encoding&&(z=s.from(z,B),B=""),Z=!0),U(this,z,B,!1,Z)},G.prototype.unshift=function(z){return U(this,z,null,!0,!1)};function U(z,B,F,Z,D){h("readableAddChunk",B);var O=z._readableState;if(B===null)O.reading=!1,q(z,O);else{var ie;if(D||(ie=ee(O,B)),ie)z.emit("error",ie);else if(O.objectMode||B&&B.length>0)if(typeof B!="string"&&!O.objectMode&&Object.getPrototypeOf(B)!==s.prototype&&(B=t(B)),Z)O.endEmitted?z.emit("error",new A):Y(z,O,B,!0);else if(O.ended)z.emit("error",new E);else{if(O.destroyed)return!1;O.reading=!1,O.decoder&&!F?(B=O.decoder.write(B),O.objectMode||B.length!==0?Y(z,O,B,!1):te(z,O)):Y(z,O,B,!1)}else Z||(O.reading=!1,te(z,O))}return!O.ended&&(O.length<O.highWaterMark||O.length===0)}function Y(z,B,F,Z){B.flowing&&B.length===0&&!B.sync?(B.awaitDrain=0,z.emit("data",F)):(B.length+=B.objectMode?1:F.length,Z?B.buffer.unshift(F):B.buffer.push(F),B.needReadable&&K(z)),te(z,B)}function ee(z,B){var F;return!e(B)&&typeof B!="string"&&B!==void 0&&!z.objectMode&&(F=new y("chunk",["string","Buffer","Uint8Array"],B)),F}G.prototype.isPaused=function(){return this._readableState.flowing===!1},G.prototype.setEncoding=function(z){return R||(R=_("string_decoder/").StringDecoder),this._readableState.decoder=new R(z),this._readableState.encoding=this._readableState.decoder.encoding,this};var le=8388608;function he(z){return z>=le?z=le:(z--,z|=z>>>1,z|=z>>>2,z|=z>>>4,z|=z>>>8,z|=z>>>16,z++),z}function oe(z,B){return z<=0||B.length===0&&B.ended?0:B.objectMode?1:z!==z?B.flowing&&B.length?B.buffer.head.data.length:B.length:(z>B.highWaterMark&&(B.highWaterMark=he(z)),z<=B.length?z:B.ended?B.length:(B.needReadable=!0,0))}G.prototype.read=function(z){h("read",z),z=parseInt(z,10);var B=this._readableState,F=z;if(z!==0&&(B.emittedReadable=!1),z===0&&B.needReadable&&((B.highWaterMark!==0?B.length>=B.highWaterMark:B.length>0)||B.ended))return h("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?se(this):K(this),null;if(z=oe(z,B),z===0&&B.ended)return B.length===0&&se(this),null;var Z=B.needReadable;h("need readable",Z),(B.length===0||B.length-z<B.highWaterMark)&&(Z=!0,h("length less than watermark",Z)),B.ended||B.reading?(Z=!1,h("reading or ended",Z)):Z&&(h("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(z=oe(F,B)));var D;return z>0?D=re(z,B):D=null,D===null?(B.needReadable=!0,z=0):(B.length-=z,B.awaitDrain=0),B.length===0&&(B.ended||(B.needReadable=!0),F!==z&&B.ended&&se(this)),D!==null&&this.emit("data",D),D};function q(z,B){if(!B.ended){if(B.decoder){var F=B.decoder.end();F&&F.length&&(B.buffer.push(F),B.length+=B.objectMode?1:F.length)}B.ended=!0,B.sync?K(z):(B.needReadable=!1,B.emittedReadable||(B.emittedReadable=!0,Q(z)))}}function K(z){var B=z._readableState;B.needReadable=!1,B.emittedReadable||(h("emitReadable",B.flowing),B.emittedReadable=!0,x.nextTick(Q,z))}function Q(z){var B=z._readableState;h("emitReadable_",B.destroyed,B.length,B.ended),!B.destroyed&&(B.length||B.ended)&&z.emit("readable"),B.needReadable=!B.flowing&&!B.ended&&B.length<=B.highWaterMark,ve(z)}function te(z,B){B.readingMore||(B.readingMore=!0,x.nextTick(ce,z,B))}function ce(z,B){for(;!B.reading&&!B.ended&&(B.length<B.highWaterMark||B.flowing&&B.length===0);){var F=B.length;if(h("maybeReadMore read 0"),z.read(0),F===B.length)break}B.readingMore=!1}G.prototype._read=function(z){this.emit("error",new S("_read()"))},G.prototype.pipe=function(z,B){var F=this,Z=this._readableState;switch(Z.pipesCount){case 0:Z.pipes=z;break;case 1:Z.pipes=[Z.pipes,z];break;default:Z.pipes.push(z);break}Z.pipesCount+=1,h("pipe count=%d opts=%j",Z.pipesCount,B);var D=(!B||B.end!==!1)&&z!==x.stdout&&z!==x.stderr,O=D?ge:He;Z.endEmitted?x.nextTick(O):F.once("end",O),z.on("unpipe",ie);function ie(tt,Ve){h("onunpipe"),tt===F&&Ve&&Ve.hasUnpiped===!1&&(Ve.hasUnpiped=!0,ze())}function ge(){h("onend"),z.end()}var Me=we(F);z.on("drain",Me);var Le=!1;function ze(){h("cleanup"),z.removeListener("close",je),z.removeListener("finish",We),z.removeListener("drain",Me),z.removeListener("error",Ge),z.removeListener("unpipe",ie),F.removeListener("end",ge),F.removeListener("end",He),F.removeListener("data",qe),Le=!0,Z.awaitDrain&&(!z._writableState||z._writableState.needDrain)&&Me()}F.on("data",qe);function qe(tt){h("ondata");var Ve=z.write(tt);h("dest.write",Ve),Ve===!1&&((Z.pipesCount===1&&Z.pipes===z||Z.pipesCount>1&&J(Z.pipes,z)!==-1)&&!Le&&(h("false write response, pause",Z.awaitDrain),Z.awaitDrain++),F.pause())}function Ge(tt){h("onerror",tt),He(),z.removeListener("error",Ge),v(z,"error")===0&&z.emit("error",tt)}j(z,"error",Ge);function je(){z.removeListener("finish",We),He()}z.once("close",je);function We(){h("onfinish"),z.removeListener("close",je),He()}z.once("finish",We);function He(){h("unpipe"),F.unpipe(z)}return z.emit("pipe",F),Z.flowing||(h("pipe resume"),F.resume()),z};function we(z){return function(){var F=z._readableState;h("pipeOnDrain",F.awaitDrain),F.awaitDrain&&F.awaitDrain--,F.awaitDrain===0&&v(z,"data")&&(F.flowing=!0,ve(z))}}G.prototype.unpipe=function(z){var B=this._readableState,F={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return z&&z!==B.pipes?this:(z||(z=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,z&&z.emit("unpipe",this,F),this);if(!z){var Z=B.pipes,D=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var O=0;O<D;O++)Z[O].emit("unpipe",this,{hasUnpiped:!1});return this}var ie=J(B.pipes,z);return ie===-1?this:(B.pipes.splice(ie,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),z.emit("unpipe",this,F),this)},G.prototype.on=function(z,B){var F=o.prototype.on.call(this,z,B),Z=this._readableState;return z==="data"?(Z.readableListening=this.listenerCount("readable")>0,Z.flowing!==!1&&this.resume()):z==="readable"&&!Z.endEmitted&&!Z.readableListening&&(Z.readableListening=Z.needReadable=!0,Z.flowing=!1,Z.emittedReadable=!1,h("on readable",Z.length,Z.reading),Z.length?K(this):Z.reading||x.nextTick(xe,this)),F},G.prototype.addListener=G.prototype.on,G.prototype.removeListener=function(z,B){var F=o.prototype.removeListener.call(this,z,B);return z==="readable"&&x.nextTick(be,this),F},G.prototype.removeAllListeners=function(z){var B=o.prototype.removeAllListeners.apply(this,arguments);return(z==="readable"||z===void 0)&&x.nextTick(be,this),B};function be(z){var B=z._readableState;B.readableListening=z.listenerCount("readable")>0,B.resumeScheduled&&!B.paused?B.flowing=!0:z.listenerCount("data")>0&&z.resume()}function xe(z){h("readable nexttick read 0"),z.read(0)}G.prototype.resume=function(){var z=this._readableState;return z.flowing||(h("resume"),z.flowing=!z.readableListening,Ie(this,z)),z.paused=!1,this};function Ie(z,B){B.resumeScheduled||(B.resumeScheduled=!0,x.nextTick(me,z,B))}function me(z,B){h("resume",B.reading),B.reading||z.read(0),B.resumeScheduled=!1,z.emit("resume"),ve(z),B.flowing&&!B.reading&&z.read(0)}G.prototype.pause=function(){return h("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(h("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ve(z){var B=z._readableState;for(h("flow",B.flowing);B.flowing&&z.read()!==null;);}G.prototype.wrap=function(z){var B=this,F=this._readableState,Z=!1;z.on("end",function(){if(h("wrapped end"),F.decoder&&!F.ended){var ie=F.decoder.end();ie&&ie.length&&B.push(ie)}B.push(null)}),z.on("data",function(ie){if(h("wrapped data"),F.decoder&&(ie=F.decoder.write(ie)),!(F.objectMode&&ie==null)&&!(!F.objectMode&&(!ie||!ie.length))){var ge=B.push(ie);ge||(Z=!0,z.pause())}});for(var D in z)this[D]===void 0&&typeof z[D]=="function"&&(this[D]=function(ge){return function(){return z[ge].apply(z,arguments)}}(D));for(var O=0;O<L.length;O++)z.on(L[O],this.emit.bind(this,L[O]));return this._read=function(ie){h("wrapped _read",ie),Z&&(Z=!1,z.resume())},this},typeof Symbol=="function"&&(G.prototype[Symbol.asyncIterator]=function(){return I("Readable[Symbol.asyncIterator]"),H===void 0&&(H=_("./internal/streams/async_iterator")),H(this)}),Object.defineProperty(G.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(G.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(G.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(B){this._readableState&&(this._readableState.flowing=B)}}),G._fromList=re,Object.defineProperty(G.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function re(z,B){if(B.length===0)return null;var F;return B.objectMode?F=B.buffer.shift():!z||z>=B.length?(B.decoder?F=B.buffer.join(""):B.buffer.length===1?F=B.buffer.first():F=B.buffer.concat(B.length),B.buffer.clear()):F=B.buffer.consume(z,B.decoder),F}function se(z){var B=z._readableState;h("endReadable",B.endEmitted),B.endEmitted||(B.ended=!0,x.nextTick(fe,B,z))}function fe(z,B){h("endReadableNT",z.endEmitted,z.length),!z.endEmitted&&z.length===0&&(z.endEmitted=!0,B.readable=!1,B.emit("end"))}function J(z,B){for(var F=0,Z=z.length;F<Z;F++)if(z[F]===B)return F;return-1}}).call(this,_("_process"),typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{"../errors":160,"../experimentalWarning":161,"./_stream_duplex":162,"./internal/streams/async_iterator":167,"./internal/streams/buffer_list":168,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,events:52,inherits:75,"string_decoder/":175,util:33}],165:[function(_,T,b){T.exports=t;var x=_("../errors").codes,c=x.ERR_METHOD_NOT_IMPLEMENTED,p=x.ERR_MULTIPLE_CALLBACK,v=x.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=x.ERR_TRANSFORM_WITH_LENGTH_0,s=_("./_stream_duplex");_("inherits")(t,s);function i(h,n){var f=this._transformState;f.transforming=!1;var a=f.writecb;if(a===null)return this.emit("error",new p);f.writechunk=null,f.writecb=null,n!=null&&this.push(n),a(h);var m=this._readableState;m.reading=!1,(m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}function t(h){if(!(this instanceof t))return new t(h);s.call(this,h),this._transformState={afterTransform:i.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,h&&(typeof h.transform=="function"&&(this._transform=h.transform),typeof h.flush=="function"&&(this._flush=h.flush)),this.on("prefinish",e)}function e(){var h=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(n,f){l(h,n,f)}):l(this,null,null)}t.prototype.push=function(h,n){return this._transformState.needTransform=!1,s.prototype.push.call(this,h,n)},t.prototype._transform=function(h,n,f){f(new c("_transform()"))},t.prototype._write=function(h,n,f){var a=this._transformState;if(a.writecb=f,a.writechunk=h,a.writeencoding=n,!a.transforming){var m=this._readableState;(a.needTransform||m.needReadable||m.length<m.highWaterMark)&&this._read(m.highWaterMark)}},t.prototype._read=function(h){var n=this._transformState;n.writechunk!==null&&!n.transforming?(n.transforming=!0,this._transform(n.writechunk,n.writeencoding,n.afterTransform)):n.needTransform=!0},t.prototype._destroy=function(h,n){s.prototype._destroy.call(this,h,function(f){n(f)})};function l(h,n,f){if(n)return h.emit("error",n);if(f!=null&&h.push(f),h._writableState.length)throw new o;if(h._transformState.transforming)throw new v;return h.push(null)}},{"../errors":160,"./_stream_duplex":162,inherits:75}],166:[function(_,T,b){(function(x,c){T.exports=j;function p(me){var ve=this;this.next=null,this.entry=null,this.finish=function(){Ie(ve,me)}}var v;j.WritableState=H;var o={deprecate:_("util-deprecate")},s=_("./internal/streams/stream"),i=_("buffer").Buffer,t=c.Uint8Array||function(){};function e(me){return i.from(me)}function l(me){return i.isBuffer(me)||me instanceof t}var h=_("./internal/streams/destroy"),n=_("./internal/streams/state"),f=n.getHighWaterMark,a=_("../errors").codes,m=a.ERR_INVALID_ARG_TYPE,g=a.ERR_METHOD_NOT_IMPLEMENTED,y=a.ERR_MULTIPLE_CALLBACK,E=a.ERR_STREAM_CANNOT_PIPE,S=a.ERR_STREAM_DESTROYED,A=a.ERR_STREAM_NULL_VALUES,M=a.ERR_STREAM_WRITE_AFTER_END,I=a.ERR_UNKNOWN_ENCODING;_("inherits")(j,s);function R(){}function H(me,ve,re){v=v||_("./_stream_duplex"),me=me||{},typeof re!="boolean"&&(re=ve instanceof v),this.objectMode=!!me.objectMode,re&&(this.objectMode=this.objectMode||!!me.writableObjectMode),this.highWaterMark=f(this,me,"writableHighWaterMark",re),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var se=me.decodeStrings===!1;this.decodeStrings=!se,this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(fe){oe(ve,fe)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=me.emitClose!==!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new p(this)}H.prototype.getBuffer=function(){for(var ve=this.bufferedRequest,re=[];ve;)re.push(ve),ve=ve.next;return re},function(){try{Object.defineProperty(H.prototype,"buffer",{get:o.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}}();var L;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(L=Function.prototype[Symbol.hasInstance],Object.defineProperty(j,Symbol.hasInstance,{value:function(ve){return L.call(this,ve)?!0:this!==j?!1:ve&&ve._writableState instanceof H}})):L=function(ve){return ve instanceof this};function j(me){v=v||_("./_stream_duplex");var ve=this instanceof v;if(!ve&&!L.call(j,this))return new j(me);this._writableState=new H(me,this,ve),this.writable=!0,me&&(typeof me.write=="function"&&(this._write=me.write),typeof me.writev=="function"&&(this._writev=me.writev),typeof me.destroy=="function"&&(this._destroy=me.destroy),typeof me.final=="function"&&(this._final=me.final)),s.call(this)}j.prototype.pipe=function(){this.emit("error",new E)};function V(me,ve){var re=new M;me.emit("error",re),x.nextTick(ve,re)}function G(me,ve,re,se){var fe;return re===null?fe=new A:typeof re!="string"&&!ve.objectMode&&(fe=new m("chunk",["string","Buffer"],re)),fe?(me.emit("error",fe),x.nextTick(se,fe),!1):!0}j.prototype.write=function(me,ve,re){var se=this._writableState,fe=!1,J=!se.objectMode&&l(me);return J&&!i.isBuffer(me)&&(me=e(me)),typeof ve=="function"&&(re=ve,ve=null),J?ve="buffer":ve||(ve=se.defaultEncoding),typeof re!="function"&&(re=R),se.ending?V(this,re):(J||G(this,se,me,re))&&(se.pendingcb++,fe=Y(this,se,J,me,ve,re)),fe},j.prototype.cork=function(){this._writableState.corked++},j.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,!me.writing&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&Q(this,me))},j.prototype.setDefaultEncoding=function(ve){if(typeof ve=="string"&&(ve=ve.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((ve+"").toLowerCase())>-1))throw new I(ve);return this._writableState.defaultEncoding=ve,this},Object.defineProperty(j.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(me,ve,re){return!me.objectMode&&me.decodeStrings!==!1&&typeof ve=="string"&&(ve=i.from(ve,re)),ve}Object.defineProperty(j.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function Y(me,ve,re,se,fe,J){if(!re){var z=U(ve,se,fe);se!==z&&(re=!0,fe="buffer",se=z)}var B=ve.objectMode?1:se.length;ve.length+=B;var F=ve.length<ve.highWaterMark;if(F||(ve.needDrain=!0),ve.writing||ve.corked){var Z=ve.lastBufferedRequest;ve.lastBufferedRequest={chunk:se,encoding:fe,isBuf:re,callback:J,next:null},Z?Z.next=ve.lastBufferedRequest:ve.bufferedRequest=ve.lastBufferedRequest,ve.bufferedRequestCount+=1}else ee(me,ve,!1,B,se,fe,J);return F}function ee(me,ve,re,se,fe,J,z){ve.writelen=se,ve.writecb=z,ve.writing=!0,ve.sync=!0,ve.destroyed?ve.onwrite(new S("write")):re?me._writev(fe,ve.onwrite):me._write(fe,J,ve.onwrite),ve.sync=!1}function le(me,ve,re,se,fe){--ve.pendingcb,re?(x.nextTick(fe,se),x.nextTick(be,me,ve),me._writableState.errorEmitted=!0,me.emit("error",se)):(fe(se),me._writableState.errorEmitted=!0,me.emit("error",se),be(me,ve))}function he(me){me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0}function oe(me,ve){var re=me._writableState,se=re.sync,fe=re.writecb;if(typeof fe!="function")throw new y;if(he(re),ve)le(me,re,se,ve,fe);else{var J=te(re)||me.destroyed;!J&&!re.corked&&!re.bufferProcessing&&re.bufferedRequest&&Q(me,re),se?x.nextTick(q,me,re,J,fe):q(me,re,J,fe)}}function q(me,ve,re,se){re||K(me,ve),ve.pendingcb--,se(),be(me,ve)}function K(me,ve){ve.length===0&&ve.needDrain&&(ve.needDrain=!1,me.emit("drain"))}function Q(me,ve){ve.bufferProcessing=!0;var re=ve.bufferedRequest;if(me._writev&&re&&re.next){var se=ve.bufferedRequestCount,fe=new Array(se),J=ve.corkedRequestsFree;J.entry=re;for(var z=0,B=!0;re;)fe[z]=re,re.isBuf||(B=!1),re=re.next,z+=1;fe.allBuffers=B,ee(me,ve,!0,ve.length,fe,"",J.finish),ve.pendingcb++,ve.lastBufferedRequest=null,J.next?(ve.corkedRequestsFree=J.next,J.next=null):ve.corkedRequestsFree=new p(ve),ve.bufferedRequestCount=0}else{for(;re;){var F=re.chunk,Z=re.encoding,D=re.callback,O=ve.objectMode?1:F.length;if(ee(me,ve,!1,O,F,Z,D),re=re.next,ve.bufferedRequestCount--,ve.writing)break}re===null&&(ve.lastBufferedRequest=null)}ve.bufferedRequest=re,ve.bufferProcessing=!1}j.prototype._write=function(me,ve,re){re(new g("_write()"))},j.prototype._writev=null,j.prototype.end=function(me,ve,re){var se=this._writableState;return typeof me=="function"?(re=me,me=null,ve=null):typeof ve=="function"&&(re=ve,ve=null),me!=null&&this.write(me,ve),se.corked&&(se.corked=1,this.uncork()),se.ending||xe(this,se,re),this},Object.defineProperty(j.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function te(me){return me.ending&&me.length===0&&me.bufferedRequest===null&&!me.finished&&!me.writing}function ce(me,ve){me._final(function(re){ve.pendingcb--,re&&me.emit("error",re),ve.prefinished=!0,me.emit("prefinish"),be(me,ve)})}function we(me,ve){!ve.prefinished&&!ve.finalCalled&&(typeof me._final=="function"&&!ve.destroyed?(ve.pendingcb++,ve.finalCalled=!0,x.nextTick(ce,me,ve)):(ve.prefinished=!0,me.emit("prefinish")))}function be(me,ve){var re=te(ve);return re&&(we(me,ve),ve.pendingcb===0&&(ve.finished=!0,me.emit("finish"))),re}function xe(me,ve,re){ve.ending=!0,be(me,ve),re&&(ve.finished?x.nextTick(re):me.once("finish",re)),ve.ended=!0,me.writable=!1}function Ie(me,ve,re){var se=me.entry;for(me.entry=null;se;){var fe=se.callback;ve.pendingcb--,fe(re),se=se.next}ve.corkedRequestsFree.next=me}Object.defineProperty(j.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(ve){!this._writableState||(this._writableState.destroyed=ve)}}),j.prototype.destroy=h.destroy,j.prototype._undestroy=h.undestroy,j.prototype._destroy=function(me,ve){ve(me)}}).call(this,_("_process"),typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{"../errors":160,"./_stream_duplex":162,"./internal/streams/destroy":169,"./internal/streams/state":172,"./internal/streams/stream":173,_process:133,buffer:48,inherits:75,"util-deprecate":183}],167:[function(_,T,b){(function(x){var c;function p(S,A,M){return A in S?Object.defineProperty(S,A,{value:M,enumerable:!0,configurable:!0,writable:!0}):S[A]=M,S}var v=_("./end-of-stream"),o=Symbol("lastResolve"),s=Symbol("lastReject"),i=Symbol("error"),t=Symbol("ended"),e=Symbol("lastPromise"),l=Symbol("handlePromise"),h=Symbol("stream");function n(S,A){return{value:S,done:A}}function f(S){var A=S[o];if(A!==null){var M=S[h].read();M!==null&&(S[e]=null,S[o]=null,S[s]=null,A(n(M,!1)))}}function a(S){x.nextTick(f,S)}function m(S,A){return function(M,I){S.then(function(){if(A[t]){M(n(void 0,!0));return}A[l](M,I)},I)}}var g=Object.getPrototypeOf(function(){}),y=Object.setPrototypeOf((c={get stream(){return this[h]},next:function(){var A=this,M=this[i];if(M!==null)return Promise.reject(M);if(this[t])return Promise.resolve(n(void 0,!0));if(this[h].destroyed)return new Promise(function(L,j){x.nextTick(function(){A[i]?j(A[i]):L(n(void 0,!0))})});var I=this[e],R;if(I)R=new Promise(m(I,this));else{var H=this[h].read();if(H!==null)return Promise.resolve(n(H,!1));R=new Promise(this[l])}return this[e]=R,R}},p(c,Symbol.asyncIterator,function(){return this}),p(c,"return",function(){var A=this;return new Promise(function(M,I){A[h].destroy(null,function(R){if(R){I(R);return}M(n(void 0,!0))})})}),c),g),E=function(A){var M,I=Object.create(y,(M={},p(M,h,{value:A,writable:!0}),p(M,o,{value:null,writable:!0}),p(M,s,{value:null,writable:!0}),p(M,i,{value:null,writable:!0}),p(M,t,{value:A._readableState.endEmitted,writable:!0}),p(M,l,{value:function(H,L){var j=I[h].read();j?(I[e]=null,I[o]=null,I[s]=null,H(n(j,!1))):(I[o]=H,I[s]=L)},writable:!0}),M));return I[e]=null,v(A,function(R){if(R&&R.code!=="ERR_STREAM_PREMATURE_CLOSE"){var H=I[s];H!==null&&(I[e]=null,I[o]=null,I[s]=null,H(R)),I[i]=R;return}var L=I[o];L!==null&&(I[e]=null,I[o]=null,I[s]=null,L(n(void 0,!0))),I[t]=!0}),A.on("readable",a.bind(null,I)),I};T.exports=E}).call(this,_("_process"))},{"./end-of-stream":170,_process:133}],168:[function(_,T,b){function x(e){for(var l=1;l<arguments.length;l++){var h=arguments[l]!=null?arguments[l]:{},n=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(h).filter(function(f){return Object.getOwnPropertyDescriptor(h,f).enumerable}))),n.forEach(function(f){c(e,f,h[f])})}return e}function c(e,l,h){return l in e?Object.defineProperty(e,l,{value:h,enumerable:!0,configurable:!0,writable:!0}):e[l]=h,e}var p=_("buffer"),v=p.Buffer,o=_("util"),s=o.inspect,i=s&&s.custom||"inspect";function t(e,l,h){v.prototype.copy.call(e,l,h)}T.exports=function(){function e(){this.head=null,this.tail=null,this.length=0}var l=e.prototype;return l.push=function(n){var f={data:n,next:null};this.length>0?this.tail.next=f:this.head=f,this.tail=f,++this.length},l.unshift=function(n){var f={data:n,next:this.head};this.length===0&&(this.tail=f),this.head=f,++this.length},l.shift=function(){if(this.length!==0){var n=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,n}},l.clear=function(){this.head=this.tail=null,this.length=0},l.join=function(n){if(this.length===0)return"";for(var f=this.head,a=""+f.data;f=f.next;)a+=n+f.data;return a},l.concat=function(n){if(this.length===0)return v.alloc(0);for(var f=v.allocUnsafe(n>>>0),a=this.head,m=0;a;)t(a.data,f,m),m+=a.data.length,a=a.next;return f},l.consume=function(n,f){var a;return n<this.head.data.length?(a=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):n===this.head.data.length?a=this.shift():a=f?this._getString(n):this._getBuffer(n),a},l.first=function(){return this.head.data},l._getString=function(n){var f=this.head,a=1,m=f.data;for(n-=m.length;f=f.next;){var g=f.data,y=n>g.length?g.length:n;if(y===g.length?m+=g:m+=g.slice(0,n),n-=y,n===0){y===g.length?(++a,f.next?this.head=f.next:this.head=this.tail=null):(this.head=f,f.data=g.slice(y));break}++a}return this.length-=a,m},l._getBuffer=function(n){var f=v.allocUnsafe(n),a=this.head,m=1;for(a.data.copy(f),n-=a.data.length;a=a.next;){var g=a.data,y=n>g.length?g.length:n;if(g.copy(f,f.length-n,0,y),n-=y,n===0){y===g.length?(++m,a.next?this.head=a.next:this.head=this.tail=null):(this.head=a,a.data=g.slice(y));break}++m}return this.length-=m,f},l[i]=function(h,n){return s(this,x({},n,{depth:0,customInspect:!1}))},e}()},{buffer:48,util:33}],169:[function(_,T,b){(function(x){function c(i,t){var e=this,l=this._readableState&&this._readableState.destroyed,h=this._writableState&&this._writableState.destroyed;return l||h?(t?t(i):i&&(!this._writableState||!this._writableState.errorEmitted)&&x.nextTick(s,this,i),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(i||null,function(n){!t&&n?(x.nextTick(p,e,n),e._writableState&&(e._writableState.errorEmitted=!0)):t?(x.nextTick(v,e),t(n)):x.nextTick(v,e)}),this)}function p(i,t){s(i,t),v(i)}function v(i){i._writableState&&!i._writableState.emitClose||i._readableState&&!i._readableState.emitClose||i.emit("close")}function o(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function s(i,t){i.emit("error",t)}T.exports={destroy:c,undestroy:o}}).call(this,_("_process"))},{_process:133}],170:[function(_,T,b){var x=_("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function c(s){var i=!1;return function(){if(!i){i=!0;for(var t=arguments.length,e=new Array(t),l=0;l<t;l++)e[l]=arguments[l];s.apply(this,e)}}}function p(){}function v(s){return s.setHeader&&typeof s.abort=="function"}function o(s,i,t){if(typeof i=="function")return o(s,null,i);i||(i={}),t=c(t||p);var e=i.readable||i.readable!==!1&&s.readable,l=i.writable||i.writable!==!1&&s.writable,h=function(){s.writable||f()},n=s._writableState&&s._writableState.finished,f=function(){l=!1,n=!0,e||t.call(s)},a=s._readableState&&s._readableState.endEmitted,m=function(){e=!1,a=!0,l||t.call(s)},g=function(A){t.call(s,A)},y=function(){var A;if(e&&!a)return(!s._readableState||!s._readableState.ended)&&(A=new x),t.call(s,A);if(l&&!n)return(!s._writableState||!s._writableState.ended)&&(A=new x),t.call(s,A)},E=function(){s.req.on("finish",f)};return v(s)?(s.on("complete",f),s.on("abort",y),s.req?E():s.on("request",E)):l&&!s._writableState&&(s.on("end",h),s.on("close",h)),s.on("end",m),s.on("finish",f),i.error!==!1&&s.on("error",g),s.on("close",y),function(){s.removeListener("complete",f),s.removeListener("abort",y),s.removeListener("request",E),s.req&&s.req.removeListener("finish",f),s.removeListener("end",h),s.removeListener("close",h),s.removeListener("finish",f),s.removeListener("end",m),s.removeListener("error",g),s.removeListener("close",y)}}T.exports=o},{"../../../errors":160}],171:[function(_,T,b){var x;function c(f){var a=!1;return function(){a||(a=!0,f.apply(void 0,arguments))}}var p=_("../../../errors").codes,v=p.ERR_MISSING_ARGS,o=p.ERR_STREAM_DESTROYED;function s(f){if(f)throw f}function i(f){return f.setHeader&&typeof f.abort=="function"}function t(f,a,m,g){g=c(g);var y=!1;f.on("close",function(){y=!0}),x===void 0&&(x=_("./end-of-stream")),x(f,{readable:a,writable:m},function(S){if(S)return g(S);y=!0,g()});var E=!1;return function(S){if(!y&&!E){if(E=!0,i(f))return f.abort();if(typeof f.destroy=="function")return f.destroy();g(S||new o("pipe"))}}}function e(f){f()}function l(f,a){return f.pipe(a)}function h(f){return!f.length||typeof f[f.length-1]!="function"?s:f.pop()}function n(){for(var f=arguments.length,a=new Array(f),m=0;m<f;m++)a[m]=arguments[m];var g=h(a);if(Array.isArray(a[0])&&(a=a[0]),a.length<2)throw new v("streams");var y,E=a.map(function(S,A){var M=A<a.length-1,I=A>0;return t(S,M,I,function(R){y||(y=R),R&&E.forEach(e),!M&&(E.forEach(e),g(y))})});return a.reduce(l)}T.exports=n},{"../../../errors":160,"./end-of-stream":170}],172:[function(_,T,b){var x=_("../../../errors").codes.ERR_INVALID_OPT_VALUE;function c(v,o,s){return v.highWaterMark!=null?v.highWaterMark:o?v[s]:null}function p(v,o,s,i){var t=c(o,i,s);if(t!=null){if(!(isFinite(t)&&Math.floor(t)===t)||t<0){var e=i?s:"highWaterMark";throw new x(e,t)}return Math.floor(t)}return v.objectMode?16:16*1024}T.exports={getHighWaterMark:p}},{"../../../errors":160}],173:[function(_,T,b){arguments[4][146][0].apply(b,arguments)},{dup:146,events:52}],174:[function(_,T,b){b=T.exports=_("./lib/_stream_readable.js"),b.Stream=b,b.Readable=b,b.Writable=_("./lib/_stream_writable.js"),b.Duplex=_("./lib/_stream_duplex.js"),b.Transform=_("./lib/_stream_transform.js"),b.PassThrough=_("./lib/_stream_passthrough.js"),b.finished=_("./lib/internal/streams/end-of-stream.js"),b.pipeline=_("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":162,"./lib/_stream_passthrough.js":163,"./lib/_stream_readable.js":164,"./lib/_stream_transform.js":165,"./lib/_stream_writable.js":166,"./lib/internal/streams/end-of-stream.js":170,"./lib/internal/streams/pipeline.js":171}],175:[function(_,T,b){arguments[4][148][0].apply(b,arguments)},{dup:148,"safe-buffer":154}],176:[function(_,T,b){(function(x,c){var p=_("process/browser.js").nextTick,v=Function.prototype.apply,o=Array.prototype.slice,s={},i=0;b.setTimeout=function(){return new t(v.call(setTimeout,C,arguments),clearTimeout)},b.setInterval=function(){return new t(v.call(setInterval,C,arguments),clearInterval)},b.clearTimeout=b.clearInterval=function(e){e.close()};function t(e,l){this._id=e,this._clearFn=l}t.prototype.unref=t.prototype.ref=function(){},t.prototype.close=function(){this._clearFn.call(C,this._id)},b.enroll=function(e,l){clearTimeout(e._idleTimeoutId),e._idleTimeout=l},b.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},b._unrefActive=b.active=function(e){clearTimeout(e._idleTimeoutId);var l=e._idleTimeout;l>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},l))},b.setImmediate=typeof x=="function"?x:function(e){var l=i++,h=arguments.length<2?!1:o.call(arguments,1);return s[l]=!0,p(function(){s[l]&&(h?e.apply(null,h):e.call(null),b.clearImmediate(l))}),l},b.clearImmediate=typeof c=="function"?c:function(e){delete s[e]}}).call(this,_("timers").setImmediate,_("timers").clearImmediate)},{"process/browser.js":133,timers:176}],177:[function(_,T,b){(function(x){Object.defineProperty(b,"__esModule",{value:!0});var c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U};b.clone=i,b.addLast=l,b.addFirst=h,b.removeLast=n,b.removeFirst=f,b.insert=a,b.removeAt=m,b.replaceAt=g,b.getIn=y,b.set=E,b.setIn=A,b.update=M,b.updateIn=I,b.merge=R,b.mergeDeep=H,b.mergeIn=L,b.omit=j,b.addDefaults=V;/*!
 * Timm
 *
 * Immutability helpers with fast reads and acceptable writes.
 *
 * @copyright Guillermo Grau Panea 2016
 * @license MIT
 */var p="INVALID_ARGS";function v(U){throw new Error(U)}function o(U){var Y=Object.keys(U);return Object.getOwnPropertySymbols?Y.concat(Object.getOwnPropertySymbols(U)):Y}var s={}.hasOwnProperty;function i(U){if(Array.isArray(U))return U.slice();for(var Y=o(U),ee={},le=0;le<Y.length;le++){var he=Y[le];ee[he]=U[he]}return ee}function t(U,Y,ee){var le=ee;le==null&&v(p);for(var he=!1,oe=arguments.length,q=Array(oe>3?oe-3:0),K=3;K<oe;K++)q[K-3]=arguments[K];for(var Q=0;Q<q.length;Q++){var te=q[Q];if(te!=null){var ce=o(te);if(!!ce.length)for(var we=0;we<=ce.length;we++){var be=ce[we];if(!(U&&le[be]!==void 0)){var xe=te[be];Y&&e(le[be])&&e(xe)&&(xe=t(U,Y,le[be],xe)),!(xe===void 0||xe===le[be])&&(he||(he=!0,le=i(le)),le[be]=xe)}}}}return le}function e(U){var Y=typeof U>"u"?"undefined":c(U);return U!=null&&Y==="object"}function l(U,Y){return Array.isArray(Y)?U.concat(Y):U.concat([Y])}function h(U,Y){return Array.isArray(Y)?Y.concat(U):[Y].concat(U)}function n(U){return U.length?U.slice(0,U.length-1):U}function f(U){return U.length?U.slice(1):U}function a(U,Y,ee){return U.slice(0,Y).concat(Array.isArray(ee)?ee:[ee]).concat(U.slice(Y))}function m(U,Y){return Y>=U.length||Y<0?U:U.slice(0,Y).concat(U.slice(Y+1))}function g(U,Y,ee){if(U[Y]===ee)return U;for(var le=U.length,he=Array(le),oe=0;oe<le;oe++)he[oe]=U[oe];return he[Y]=ee,he}function y(U,Y){if(!Array.isArray(Y)&&v(p),U!=null){for(var ee=U,le=0;le<Y.length;le++){var he=Y[le];if(ee=ee!=null?ee[he]:void 0,ee===void 0)return ee}return ee}}function E(U,Y,ee){var le=typeof Y=="number"?[]:{},he=U==null?le:U;if(he[Y]===ee)return he;var oe=i(he);return oe[Y]=ee,oe}function S(U,Y,ee,le){var he=void 0,oe=Y[le];if(le===Y.length-1)he=ee;else{var q=e(U)&&e(U[oe])?U[oe]:typeof Y[le+1]=="number"?[]:{};he=S(q,Y,ee,le+1)}return E(U,oe,he)}function A(U,Y,ee){return Y.length?S(U,Y,ee,0):ee}function M(U,Y,ee){var le=U==null?void 0:U[Y],he=ee(le);return E(U,Y,he)}function I(U,Y,ee){var le=y(U,Y),he=ee(le);return A(U,Y,he)}function R(U,Y,ee,le,he,oe){for(var q=arguments.length,K=Array(q>6?q-6:0),Q=6;Q<q;Q++)K[Q-6]=arguments[Q];return K.length?t.call.apply(t,[null,!1,!1,U,Y,ee,le,he,oe].concat(K)):t(!1,!1,U,Y,ee,le,he,oe)}function H(U,Y,ee,le,he,oe){for(var q=arguments.length,K=Array(q>6?q-6:0),Q=6;Q<q;Q++)K[Q-6]=arguments[Q];return K.length?t.call.apply(t,[null,!1,!0,U,Y,ee,le,he,oe].concat(K)):t(!1,!0,U,Y,ee,le,he,oe)}function L(U,Y,ee,le,he,oe,q){var K=y(U,Y);K==null&&(K={});for(var Q=void 0,te=arguments.length,ce=Array(te>7?te-7:0),we=7;we<te;we++)ce[we-7]=arguments[we];return ce.length?Q=t.call.apply(t,[null,!1,!1,K,ee,le,he,oe,q].concat(ce)):Q=t(!1,!1,K,ee,le,he,oe,q),A(U,Y,Q)}function j(U,Y){for(var ee=Array.isArray(Y)?Y:[Y],le=!1,he=0;he<ee.length;he++)if(s.call(U,ee[he])){le=!0;break}if(!le)return U;for(var oe={},q=o(U),K=0;K<q.length;K++){var Q=q[K];ee.indexOf(Q)>=0||(oe[Q]=U[Q])}return oe}function V(U,Y,ee,le,he,oe){for(var q=arguments.length,K=Array(q>6?q-6:0),Q=6;Q<q;Q++)K[Q-6]=arguments[Q];return K.length?t.call.apply(t,[null,!0,!1,U,Y,ee,le,he,oe].concat(K)):t(!0,!1,U,Y,ee,le,he,oe)}var G={clone:i,addLast:l,addFirst:h,removeLast:n,removeFirst:f,insert:a,removeAt:m,replaceAt:g,getIn:y,set:E,setIn:A,update:M,updateIn:I,merge:R,mergeDeep:H,mergeIn:L,omit:j,addDefaults:V};b.default=G}).call(this,_("_process"))},{_process:133}],178:[function(_,T,b){(function(x){var c=/^\s+/,p=/\s+$/,v=0,o=x.round,s=x.min,i=x.max,t=x.random;function e(J,z){if(J=J||"",z=z||{},J instanceof e)return J;if(!(this instanceof e))return new e(J,z);var B=l(J);this._originalInput=J,this._r=B.r,this._g=B.g,this._b=B.b,this._a=B.a,this._roundA=o(100*this._a)/100,this._format=z.format||B.format,this._gradientType=z.gradientType,this._r<1&&(this._r=o(this._r)),this._g<1&&(this._g=o(this._g)),this._b<1&&(this._b=o(this._b)),this._ok=B.ok,this._tc_id=v++}e.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var J=this.toRgb();return(J.r*299+J.g*587+J.b*114)/1e3},getLuminance:function(){var J=this.toRgb(),z,B,F,Z,D,O;return z=J.r/255,B=J.g/255,F=J.b/255,z<=.03928?Z=z/12.92:Z=x.pow((z+.055)/1.055,2.4),B<=.03928?D=B/12.92:D=x.pow((B+.055)/1.055,2.4),F<=.03928?O=F/12.92:O=x.pow((F+.055)/1.055,2.4),.2126*Z+.7152*D+.0722*O},setAlpha:function(J){return this._a=q(J),this._roundA=o(100*this._a)/100,this},toHsv:function(){var J=a(this._r,this._g,this._b);return{h:J.h*360,s:J.s,v:J.v,a:this._a}},toHsvString:function(){var J=a(this._r,this._g,this._b),z=o(J.h*360),B=o(J.s*100),F=o(J.v*100);return this._a==1?"hsv("+z+", "+B+"%, "+F+"%)":"hsva("+z+", "+B+"%, "+F+"%, "+this._roundA+")"},toHsl:function(){var J=n(this._r,this._g,this._b);return{h:J.h*360,s:J.s,l:J.l,a:this._a}},toHslString:function(){var J=n(this._r,this._g,this._b),z=o(J.h*360),B=o(J.s*100),F=o(J.l*100);return this._a==1?"hsl("+z+", "+B+"%, "+F+"%)":"hsla("+z+", "+B+"%, "+F+"%, "+this._roundA+")"},toHex:function(J){return g(this._r,this._g,this._b,J)},toHexString:function(J){return"#"+this.toHex(J)},toHex8:function(J){return y(this._r,this._g,this._b,this._a,J)},toHex8String:function(J){return"#"+this.toHex8(J)},toRgb:function(){return{r:o(this._r),g:o(this._g),b:o(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+o(this._r)+", "+o(this._g)+", "+o(this._b)+")":"rgba("+o(this._r)+", "+o(this._g)+", "+o(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:o(K(this._r,255)*100)+"%",g:o(K(this._g,255)*100)+"%",b:o(K(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+o(K(this._r,255)*100)+"%, "+o(K(this._g,255)*100)+"%, "+o(K(this._b,255)*100)+"%)":"rgba("+o(K(this._r,255)*100)+"%, "+o(K(this._g,255)*100)+"%, "+o(K(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:he[g(this._r,this._g,this._b,!0)]||!1},toFilter:function(J){var z="#"+E(this._r,this._g,this._b,this._a),B=z,F=this._gradientType?"GradientType = 1, ":"";if(J){var Z=e(J);B="#"+E(Z._r,Z._g,Z._b,Z._a)}return"progid:DXImageTransform.Microsoft.gradient("+F+"startColorstr="+z+",endColorstr="+B+")"},toString:function(J){var z=!!J;J=J||this._format;var B=!1,F=this._a<1&&this._a>=0,Z=!z&&F&&(J==="hex"||J==="hex6"||J==="hex3"||J==="hex4"||J==="hex8"||J==="name");return Z?J==="name"&&this._a===0?this.toName():this.toRgbString():(J==="rgb"&&(B=this.toRgbString()),J==="prgb"&&(B=this.toPercentageRgbString()),(J==="hex"||J==="hex6")&&(B=this.toHexString()),J==="hex3"&&(B=this.toHexString(!0)),J==="hex4"&&(B=this.toHex8String(!0)),J==="hex8"&&(B=this.toHex8String()),J==="name"&&(B=this.toName()),J==="hsl"&&(B=this.toHslString()),J==="hsv"&&(B=this.toHsvString()),B||this.toHexString())},clone:function(){return e(this.toString())},_applyModification:function(J,z){var B=J.apply(null,[this].concat([].slice.call(z)));return this._r=B._r,this._g=B._g,this._b=B._b,this.setAlpha(B._a),this},lighten:function(){return this._applyModification(I,arguments)},brighten:function(){return this._applyModification(R,arguments)},darken:function(){return this._applyModification(H,arguments)},desaturate:function(){return this._applyModification(S,arguments)},saturate:function(){return this._applyModification(A,arguments)},greyscale:function(){return this._applyModification(M,arguments)},spin:function(){return this._applyModification(L,arguments)},_applyCombination:function(J,z){return J.apply(null,[this].concat([].slice.call(z)))},analogous:function(){return this._applyCombination(Y,arguments)},complement:function(){return this._applyCombination(j,arguments)},monochromatic:function(){return this._applyCombination(ee,arguments)},splitcomplement:function(){return this._applyCombination(U,arguments)},triad:function(){return this._applyCombination(V,arguments)},tetrad:function(){return this._applyCombination(G,arguments)}},e.fromRatio=function(J,z){if(typeof J=="object"){var B={};for(var F in J)J.hasOwnProperty(F)&&(F==="a"?B[F]=J[F]:B[F]=xe(J[F]));J=B}return e(J,z)};function l(J){var z={r:0,g:0,b:0},B=1,F=null,Z=null,D=null,O=!1,ie=!1;return typeof J=="string"&&(J=se(J)),typeof J=="object"&&(re(J.r)&&re(J.g)&&re(J.b)?(z=h(J.r,J.g,J.b),O=!0,ie=String(J.r).substr(-1)==="%"?"prgb":"rgb"):re(J.h)&&re(J.s)&&re(J.v)?(F=xe(J.s),Z=xe(J.v),z=m(J.h,F,Z),O=!0,ie="hsv"):re(J.h)&&re(J.s)&&re(J.l)&&(F=xe(J.s),D=xe(J.l),z=f(J.h,F,D),O=!0,ie="hsl"),J.hasOwnProperty("a")&&(B=J.a)),B=q(B),{ok:O,format:J.format||ie,r:s(255,i(z.r,0)),g:s(255,i(z.g,0)),b:s(255,i(z.b,0)),a:B}}function h(J,z,B){return{r:K(J,255)*255,g:K(z,255)*255,b:K(B,255)*255}}function n(J,z,B){J=K(J,255),z=K(z,255),B=K(B,255);var F=i(J,z,B),Z=s(J,z,B),D,O,ie=(F+Z)/2;if(F==Z)D=O=0;else{var ge=F-Z;switch(O=ie>.5?ge/(2-F-Z):ge/(F+Z),F){case J:D=(z-B)/ge+(z<B?6:0);break;case z:D=(B-J)/ge+2;break;case B:D=(J-z)/ge+4;break}D/=6}return{h:D,s:O,l:ie}}function f(J,z,B){var F,Z,D;J=K(J,360),z=K(z,100),B=K(B,100);function O(Me,Le,ze){return ze<0&&(ze+=1),ze>1&&(ze-=1),ze<1/6?Me+(Le-Me)*6*ze:ze<1/2?Le:ze<2/3?Me+(Le-Me)*(2/3-ze)*6:Me}if(z===0)F=Z=D=B;else{var ie=B<.5?B*(1+z):B+z-B*z,ge=2*B-ie;F=O(ge,ie,J+1/3),Z=O(ge,ie,J),D=O(ge,ie,J-1/3)}return{r:F*255,g:Z*255,b:D*255}}function a(J,z,B){J=K(J,255),z=K(z,255),B=K(B,255);var F=i(J,z,B),Z=s(J,z,B),D,O,ie=F,ge=F-Z;if(O=F===0?0:ge/F,F==Z)D=0;else{switch(F){case J:D=(z-B)/ge+(z<B?6:0);break;case z:D=(B-J)/ge+2;break;case B:D=(J-z)/ge+4;break}D/=6}return{h:D,s:O,v:ie}}function m(J,z,B){J=K(J,360)*6,z=K(z,100),B=K(B,100);var F=x.floor(J),Z=J-F,D=B*(1-z),O=B*(1-Z*z),ie=B*(1-(1-Z)*z),ge=F%6,Me=[B,O,D,D,ie,B][ge],Le=[ie,B,B,O,D,D][ge],ze=[D,D,ie,B,B,O][ge];return{r:Me*255,g:Le*255,b:ze*255}}function g(J,z,B,F){var Z=[be(o(J).toString(16)),be(o(z).toString(16)),be(o(B).toString(16))];return F&&Z[0].charAt(0)==Z[0].charAt(1)&&Z[1].charAt(0)==Z[1].charAt(1)&&Z[2].charAt(0)==Z[2].charAt(1)?Z[0].charAt(0)+Z[1].charAt(0)+Z[2].charAt(0):Z.join("")}function y(J,z,B,F,Z){var D=[be(o(J).toString(16)),be(o(z).toString(16)),be(o(B).toString(16)),be(Ie(F))];return Z&&D[0].charAt(0)==D[0].charAt(1)&&D[1].charAt(0)==D[1].charAt(1)&&D[2].charAt(0)==D[2].charAt(1)&&D[3].charAt(0)==D[3].charAt(1)?D[0].charAt(0)+D[1].charAt(0)+D[2].charAt(0)+D[3].charAt(0):D.join("")}function E(J,z,B,F){var Z=[be(Ie(F)),be(o(J).toString(16)),be(o(z).toString(16)),be(o(B).toString(16))];return Z.join("")}e.equals=function(J,z){return!J||!z?!1:e(J).toRgbString()==e(z).toRgbString()},e.random=function(){return e.fromRatio({r:t(),g:t(),b:t()})};function S(J,z){z=z===0?0:z||10;var B=e(J).toHsl();return B.s-=z/100,B.s=Q(B.s),e(B)}function A(J,z){z=z===0?0:z||10;var B=e(J).toHsl();return B.s+=z/100,B.s=Q(B.s),e(B)}function M(J){return e(J).desaturate(100)}function I(J,z){z=z===0?0:z||10;var B=e(J).toHsl();return B.l+=z/100,B.l=Q(B.l),e(B)}function R(J,z){z=z===0?0:z||10;var B=e(J).toRgb();return B.r=i(0,s(255,B.r-o(255*-(z/100)))),B.g=i(0,s(255,B.g-o(255*-(z/100)))),B.b=i(0,s(255,B.b-o(255*-(z/100)))),e(B)}function H(J,z){z=z===0?0:z||10;var B=e(J).toHsl();return B.l-=z/100,B.l=Q(B.l),e(B)}function L(J,z){var B=e(J).toHsl(),F=(B.h+z)%360;return B.h=F<0?360+F:F,e(B)}function j(J){var z=e(J).toHsl();return z.h=(z.h+180)%360,e(z)}function V(J){var z=e(J).toHsl(),B=z.h;return[e(J),e({h:(B+120)%360,s:z.s,l:z.l}),e({h:(B+240)%360,s:z.s,l:z.l})]}function G(J){var z=e(J).toHsl(),B=z.h;return[e(J),e({h:(B+90)%360,s:z.s,l:z.l}),e({h:(B+180)%360,s:z.s,l:z.l}),e({h:(B+270)%360,s:z.s,l:z.l})]}function U(J){var z=e(J).toHsl(),B=z.h;return[e(J),e({h:(B+72)%360,s:z.s,l:z.l}),e({h:(B+216)%360,s:z.s,l:z.l})]}function Y(J,z,B){z=z||6,B=B||30;var F=e(J).toHsl(),Z=360/B,D=[e(J)];for(F.h=(F.h-(Z*z>>1)+720)%360;--z;)F.h=(F.h+Z)%360,D.push(e(F));return D}function ee(J,z){z=z||6;for(var B=e(J).toHsv(),F=B.h,Z=B.s,D=B.v,O=[],ie=1/z;z--;)O.push(e({h:F,s:Z,v:D})),D=(D+ie)%1;return O}e.mix=function(J,z,B){B=B===0?0:B||50;var F=e(J).toRgb(),Z=e(z).toRgb(),D=B/100,O={r:(Z.r-F.r)*D+F.r,g:(Z.g-F.g)*D+F.g,b:(Z.b-F.b)*D+F.b,a:(Z.a-F.a)*D+F.a};return e(O)},e.readability=function(J,z){var B=e(J),F=e(z);return(x.max(B.getLuminance(),F.getLuminance())+.05)/(x.min(B.getLuminance(),F.getLuminance())+.05)},e.isReadable=function(J,z,B){var F=e.readability(J,z),Z,D;switch(D=!1,Z=fe(B),Z.level+Z.size){case"AAsmall":case"AAAlarge":D=F>=4.5;break;case"AAlarge":D=F>=3;break;case"AAAsmall":D=F>=7;break}return D},e.mostReadable=function(J,z,B){var F=null,Z=0,D,O,ie,ge;B=B||{},O=B.includeFallbackColors,ie=B.level,ge=B.size;for(var Me=0;Me<z.length;Me++)D=e.readability(J,z[Me]),D>Z&&(Z=D,F=e(z[Me]));return e.isReadable(J,F,{level:ie,size:ge})||!O?F:(B.includeFallbackColors=!1,e.mostReadable(J,["#fff","#000"],B))};var le=e.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},he=e.hexNames=oe(le);function oe(J){var z={};for(var B in J)J.hasOwnProperty(B)&&(z[J[B]]=B);return z}function q(J){return J=parseFloat(J),(isNaN(J)||J<0||J>1)&&(J=1),J}function K(J,z){ce(J)&&(J="100%");var B=we(J);return J=s(z,i(0,parseFloat(J))),B&&(J=parseInt(J*z,10)/100),x.abs(J-z)<1e-6?1:J%z/parseFloat(z)}function Q(J){return s(1,i(0,J))}function te(J){return parseInt(J,16)}function ce(J){return typeof J=="string"&&J.indexOf(".")!=-1&&parseFloat(J)===1}function we(J){return typeof J=="string"&&J.indexOf("%")!=-1}function be(J){return J.length==1?"0"+J:""+J}function xe(J){return J<=1&&(J=J*100+"%"),J}function Ie(J){return x.round(parseFloat(J)*255).toString(16)}function me(J){return te(J)/255}var ve=function(){var J="[-\\+]?\\d+%?",z="[-\\+]?\\d*\\.\\d+%?",B="(?:"+z+")|(?:"+J+")",F="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?",Z="[\\s|\\(]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")[,|\\s]+("+B+")\\s*\\)?";return{CSS_UNIT:new RegExp(B),rgb:new RegExp("rgb"+F),rgba:new RegExp("rgba"+Z),hsl:new RegExp("hsl"+F),hsla:new RegExp("hsla"+Z),hsv:new RegExp("hsv"+F),hsva:new RegExp("hsva"+Z),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function re(J){return!!ve.CSS_UNIT.exec(J)}function se(J){J=J.replace(c,"").replace(p,"").toLowerCase();var z=!1;if(le[J])J=le[J],z=!0;else if(J=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var B;return(B=ve.rgb.exec(J))?{r:B[1],g:B[2],b:B[3]}:(B=ve.rgba.exec(J))?{r:B[1],g:B[2],b:B[3],a:B[4]}:(B=ve.hsl.exec(J))?{h:B[1],s:B[2],l:B[3]}:(B=ve.hsla.exec(J))?{h:B[1],s:B[2],l:B[3],a:B[4]}:(B=ve.hsv.exec(J))?{h:B[1],s:B[2],v:B[3]}:(B=ve.hsva.exec(J))?{h:B[1],s:B[2],v:B[3],a:B[4]}:(B=ve.hex8.exec(J))?{r:te(B[1]),g:te(B[2]),b:te(B[3]),a:me(B[4]),format:z?"name":"hex8"}:(B=ve.hex6.exec(J))?{r:te(B[1]),g:te(B[2]),b:te(B[3]),format:z?"name":"hex"}:(B=ve.hex4.exec(J))?{r:te(B[1]+""+B[1]),g:te(B[2]+""+B[2]),b:te(B[3]+""+B[3]),a:me(B[4]+""+B[4]),format:z?"name":"hex8"}:(B=ve.hex3.exec(J))?{r:te(B[1]+""+B[1]),g:te(B[2]+""+B[2]),b:te(B[3]+""+B[3]),format:z?"name":"hex"}:!1}function fe(J){var z,B;return J=J||{level:"AA",size:"small"},z=(J.level||"AA").toUpperCase(),B=(J.size||"small").toLowerCase(),z!=="AA"&&z!=="AAA"&&(z="AA"),B!=="small"&&B!=="large"&&(B="small"),{level:z,size:B}}typeof T<"u"&&T.exports?T.exports=e:C.tinycolor=e})(Math)},{}],179:[function(_,T,b){b=T.exports=x;function x(c){return c.replace(/^\s*|\s*$/g,"")}b.left=function(c){return c.replace(/^\s*/,"")},b.right=function(c){return c.replace(/\s*$/,"")}},{}],180:[function(_,T,b){var x=_("punycode"),c=_("./util");b.parse=S,b.resolve=M,b.resolveObject=I,b.format=A,b.Url=p;function p(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var v=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r",`
`,"	"],t=["{","}","|","\\","^","`"].concat(i),e=["'"].concat(t),l=["%","/","?",";","#"].concat(e),h=["/","?","#"],n=255,f=/^[+a-z0-9A-Z_-]{0,63}$/,a=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},y={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},E=_("querystring");function S(R,H,L){if(R&&c.isObject(R)&&R instanceof p)return R;var j=new p;return j.parse(R,H,L),j}p.prototype.parse=function(R,H,L){if(!c.isString(R))throw new TypeError("Parameter 'url' must be a string, not "+typeof R);var j=R.indexOf("?"),V=j!==-1&&j<R.indexOf("#")?"?":"#",G=R.split(V),U=/\\/g;G[0]=G[0].replace(U,"/"),R=G.join(V);var Y=R;if(Y=Y.trim(),!L&&R.split("#").length===1){var ee=s.exec(Y);if(ee)return this.path=Y,this.href=Y,this.pathname=ee[1],ee[2]?(this.search=ee[2],H?this.query=E.parse(this.search.substr(1)):this.query=this.search.substr(1)):H&&(this.search="",this.query={}),this}var le=v.exec(Y);if(le){le=le[0];var he=le.toLowerCase();this.protocol=he,Y=Y.substr(le.length)}if(L||le||Y.match(/^\/\/[^@\/]+@[^@\/]+/)){var oe=Y.substr(0,2)==="//";oe&&!(le&&g[le])&&(Y=Y.substr(2),this.slashes=!0)}if(!g[le]&&(oe||le&&!y[le])){for(var q=-1,K=0;K<h.length;K++){var Q=Y.indexOf(h[K]);Q!==-1&&(q===-1||Q<q)&&(q=Q)}var te,ce;q===-1?ce=Y.lastIndexOf("@"):ce=Y.lastIndexOf("@",q),ce!==-1&&(te=Y.slice(0,ce),Y=Y.slice(ce+1),this.auth=decodeURIComponent(te)),q=-1;for(var K=0;K<l.length;K++){var Q=Y.indexOf(l[K]);Q!==-1&&(q===-1||Q<q)&&(q=Q)}q===-1&&(q=Y.length),this.host=Y.slice(0,q),Y=Y.slice(q),this.parseHost(),this.hostname=this.hostname||"";var we=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!we)for(var be=this.hostname.split(/\./),K=0,xe=be.length;K<xe;K++){var Ie=be[K];if(!!Ie&&!Ie.match(f)){for(var me="",ve=0,re=Ie.length;ve<re;ve++)Ie.charCodeAt(ve)>127?me+="x":me+=Ie[ve];if(!me.match(f)){var se=be.slice(0,K),fe=be.slice(K+1),J=Ie.match(a);J&&(se.push(J[1]),fe.unshift(J[2])),fe.length&&(Y="/"+fe.join(".")+Y),this.hostname=se.join(".");break}}}this.hostname.length>n?this.hostname="":this.hostname=this.hostname.toLowerCase(),we||(this.hostname=x.toASCII(this.hostname));var z=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+z,this.href+=this.host,we&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),Y[0]!=="/"&&(Y="/"+Y))}if(!m[he])for(var K=0,xe=e.length;K<xe;K++){var F=e[K];if(Y.indexOf(F)!==-1){var Z=encodeURIComponent(F);Z===F&&(Z=escape(F)),Y=Y.split(F).join(Z)}}var D=Y.indexOf("#");D!==-1&&(this.hash=Y.substr(D),Y=Y.slice(0,D));var O=Y.indexOf("?");if(O!==-1?(this.search=Y.substr(O),this.query=Y.substr(O+1),H&&(this.query=E.parse(this.query)),Y=Y.slice(0,O)):H&&(this.search="",this.query={}),Y&&(this.pathname=Y),y[he]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var z=this.pathname||"",ie=this.search||"";this.path=z+ie}return this.href=this.format(),this};function A(R){return c.isString(R)&&(R=S(R)),R instanceof p?R.format():p.prototype.format.call(R)}p.prototype.format=function(){var R=this.auth||"";R&&(R=encodeURIComponent(R),R=R.replace(/%3A/i,":"),R+="@");var H=this.protocol||"",L=this.pathname||"",j=this.hash||"",V=!1,G="";this.host?V=R+this.host:this.hostname&&(V=R+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(V+=":"+this.port)),this.query&&c.isObject(this.query)&&Object.keys(this.query).length&&(G=E.stringify(this.query));var U=this.search||G&&"?"+G||"";return H&&H.substr(-1)!==":"&&(H+=":"),this.slashes||(!H||y[H])&&V!==!1?(V="//"+(V||""),L&&L.charAt(0)!=="/"&&(L="/"+L)):V||(V=""),j&&j.charAt(0)!=="#"&&(j="#"+j),U&&U.charAt(0)!=="?"&&(U="?"+U),L=L.replace(/[?#]/g,function(Y){return encodeURIComponent(Y)}),U=U.replace("#","%23"),H+V+L+U+j};function M(R,H){return S(R,!1,!0).resolve(H)}p.prototype.resolve=function(R){return this.resolveObject(S(R,!1,!0)).format()};function I(R,H){return R?S(R,!1,!0).resolveObject(H):H}p.prototype.resolveObject=function(R){if(c.isString(R)){var H=new p;H.parse(R,!1,!0),R=H}for(var L=new p,j=Object.keys(this),V=0;V<j.length;V++){var G=j[V];L[G]=this[G]}if(L.hash=R.hash,R.href==="")return L.href=L.format(),L;if(R.slashes&&!R.protocol){for(var U=Object.keys(R),Y=0;Y<U.length;Y++){var ee=U[Y];ee!=="protocol"&&(L[ee]=R[ee])}return y[L.protocol]&&L.hostname&&!L.pathname&&(L.path=L.pathname="/"),L.href=L.format(),L}if(R.protocol&&R.protocol!==L.protocol){if(!y[R.protocol]){for(var le=Object.keys(R),he=0;he<le.length;he++){var oe=le[he];L[oe]=R[oe]}return L.href=L.format(),L}if(L.protocol=R.protocol,!R.host&&!g[R.protocol]){for(var xe=(R.pathname||"").split("/");xe.length&&!(R.host=xe.shift()););R.host||(R.host=""),R.hostname||(R.hostname=""),xe[0]!==""&&xe.unshift(""),xe.length<2&&xe.unshift(""),L.pathname=xe.join("/")}else L.pathname=R.pathname;if(L.search=R.search,L.query=R.query,L.host=R.host||"",L.auth=R.auth,L.hostname=R.hostname||R.host,L.port=R.port,L.pathname||L.search){var q=L.pathname||"",K=L.search||"";L.path=q+K}return L.slashes=L.slashes||R.slashes,L.href=L.format(),L}var Q=L.pathname&&L.pathname.charAt(0)==="/",te=R.host||R.pathname&&R.pathname.charAt(0)==="/",ce=te||Q||L.host&&R.pathname,we=ce,be=L.pathname&&L.pathname.split("/")||[],xe=R.pathname&&R.pathname.split("/")||[],Ie=L.protocol&&!y[L.protocol];if(Ie&&(L.hostname="",L.port=null,L.host&&(be[0]===""?be[0]=L.host:be.unshift(L.host)),L.host="",R.protocol&&(R.hostname=null,R.port=null,R.host&&(xe[0]===""?xe[0]=R.host:xe.unshift(R.host)),R.host=null),ce=ce&&(xe[0]===""||be[0]==="")),te)L.host=R.host||R.host===""?R.host:L.host,L.hostname=R.hostname||R.hostname===""?R.hostname:L.hostname,L.search=R.search,L.query=R.query,be=xe;else if(xe.length)be||(be=[]),be.pop(),be=be.concat(xe),L.search=R.search,L.query=R.query;else if(!c.isNullOrUndefined(R.search)){if(Ie){L.hostname=L.host=be.shift();var me=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;me&&(L.auth=me.shift(),L.host=L.hostname=me.shift())}return L.search=R.search,L.query=R.query,(!c.isNull(L.pathname)||!c.isNull(L.search))&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.href=L.format(),L}if(!be.length)return L.pathname=null,L.search?L.path="/"+L.search:L.path=null,L.href=L.format(),L;for(var ve=be.slice(-1)[0],re=(L.host||R.host||be.length>1)&&(ve==="."||ve==="..")||ve==="",se=0,fe=be.length;fe>=0;fe--)ve=be[fe],ve==="."?be.splice(fe,1):ve===".."?(be.splice(fe,1),se++):se&&(be.splice(fe,1),se--);if(!ce&&!we)for(;se--;se)be.unshift("..");ce&&be[0]!==""&&(!be[0]||be[0].charAt(0)!=="/")&&be.unshift(""),re&&be.join("/").substr(-1)!=="/"&&be.push("");var J=be[0]===""||be[0]&&be[0].charAt(0)==="/";if(Ie){L.hostname=L.host=J?"":be.length?be.shift():"";var me=L.host&&L.host.indexOf("@")>0?L.host.split("@"):!1;me&&(L.auth=me.shift(),L.host=L.hostname=me.shift())}return ce=ce||L.host&&be.length,ce&&!J&&be.unshift(""),be.length?L.pathname=be.join("/"):(L.pathname=null,L.path=null),(!c.isNull(L.pathname)||!c.isNull(L.search))&&(L.path=(L.pathname?L.pathname:"")+(L.search?L.search:"")),L.auth=R.auth||L.auth,L.slashes=L.slashes||R.slashes,L.href=L.format(),L},p.prototype.parseHost=function(){var R=this.host,H=o.exec(R);H&&(H=H[0],H!==":"&&(this.port=H.substr(1)),R=R.substr(0,R.length-H.length)),R&&(this.hostname=R)}},{"./util":181,punycode:134,querystring:137}],181:[function(_,T,b){T.exports={isString:function(x){return typeof x=="string"},isObject:function(x){return typeof x=="object"&&x!==null},isNull:function(x){return x===null},isNullOrUndefined:function(x){return x==null}}},{}],182:[function(_,T,b){(function(x){(function(){var c={};typeof T=="object"?T.exports=c:self.UTIF=c;var p;typeof _=="function"?p=_("pako"):p=self.pako;function v(){typeof x>"u"&&console.log.apply(console,arguments)}(function(o,s){(function(){var i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},t=function(){function l(h){this.message="JPEG error: "+h}return l.prototype=Error(),l.prototype.name="JpegError",l.constructor=l}(),e=function(){function l(h,n){this.message=h,this.g=n}return l.prototype=Error(),l.prototype.name="DNLMarkerError",l.constructor=l}();(function(){function l(){this.M=null,this.B=-1}function h(g,y){for(var E=0,S=[],A,M,I=16;0<I&&!g[I-1];)I--;S.push({children:[],index:0});var R=S[0],H;for(A=0;A<I;A++){for(M=0;M<g[A];M++){for(R=S.pop(),R.children[R.index]=y[E];0<R.index;)R=S.pop();for(R.index++,S.push(R);S.length<=A;)S.push(H={children:[],index:0}),R.children[R.index]=H.children,R=H;E++}A+1<I&&(S.push(H={children:[],index:0}),R.children[R.index]=H.children,R=H)}return S[0].children}function n(g,y,E,S,A,M,I,R,H){function L(){if(0<te)return te--,Q>>te&1;if(Q=g[y++],Q===255){var D=g[y++];if(D){if(D===220&&oe){y+=2;var O=g[y++]<<8|g[y++];if(0<O&&O!==E.g)throw new e("Found DNL marker (0xFFDC) while parsing scan data",O)}throw new t("unexpected marker "+(Q<<8|D).toString(16))}}return te=7,Q>>>7}function j(D){for(;;){if(D=D[L()],typeof D=="number")return D;if((typeof D>"u"?"undefined":i(D))!=="object")throw new t("invalid huffman sequence")}}function V(D){for(var O=0;0<D;)O=O<<1|L(),D--;return O}function G(D){if(D===1)return L()===1?1:-1;var O=V(D);return O>=1<<D-1?O:O+(-1<<D)+1}function U(D,O){var ie=j(D.D);for(ie=ie===0?0:G(ie),D.a[O]=D.m+=ie,ie=1;64>ie;){var ge=j(D.o),Me=ge&15;if(ge>>=4,Me===0){if(15>ge)break;ie+=16}else ie+=ge,D.a[O+m[ie]]=G(Me),ie++}}function Y(D,O){var ie=j(D.D);ie=ie===0?0:G(ie)<<H,D.a[O]=D.m+=ie}function ee(D,O){D.a[O]|=L()<<H}function le(D,O){if(0<ce)ce--;else for(var ie=M;ie<=I;){var ge=j(D.o),Me=ge&15;if(ge>>=4,Me===0){if(15>ge){ce=V(ge)+(1<<ge)-1;break}ie+=16}else ie+=ge,D.a[O+m[ie]]=G(Me)*(1<<H),ie++}}function he(D,O){for(var ie=M,ge=0,Me;ie<=I;){Me=O+m[ie];var Le=0>D.a[Me]?-1:1;switch(we){case 0:if(ge=j(D.o),Me=ge&15,ge>>=4,Me===0)15>ge?(ce=V(ge)+(1<<ge),we=4):(ge=16,we=1);else{if(Me!==1)throw new t("invalid ACn encoding");be=G(Me),we=ge?2:3}continue;case 1:case 2:D.a[Me]?D.a[Me]+=Le*(L()<<H):(ge--,ge===0&&(we=we===2?3:0));break;case 3:D.a[Me]?D.a[Me]+=Le*(L()<<H):(D.a[Me]=be<<H,we=0);break;case 4:D.a[Me]&&(D.a[Me]+=Le*(L()<<H))}ie++}we===4&&(ce--,ce===0&&(we=0))}for(var oe=9<arguments.length&&arguments[9]!==void 0?arguments[9]:!1,q=E.P,K=y,Q=0,te=0,ce=0,we=0,be,xe=S.length,Ie,me,ve,re,se=E.S?M===0?R===0?Y:ee:R===0?le:he:U,fe=0,J=xe===1?S[0].c*S[0].l:q*E.O,z,B;fe<J;){var F=A?Math.min(J-fe,A):J;for(Ie=0;Ie<xe;Ie++)S[Ie].m=0;if(ce=0,xe===1){var Z=S[0];for(re=0;re<F;re++)se(Z,64*((Z.c+1)*(fe/Z.c|0)+fe%Z.c)),fe++}else for(re=0;re<F;re++){for(Ie=0;Ie<xe;Ie++)for(Z=S[Ie],z=Z.h,B=Z.j,me=0;me<B;me++)for(ve=0;ve<z;ve++)se(Z,64*((Z.c+1)*((fe/q|0)*Z.j+me)+(fe%q*Z.h+ve)));fe++}if(te=0,(Z=a(g,y))&&Z.f&&((0,_util.warn)("decodeScan - unexpected MCU data, current marker is: "+Z.f),y=Z.offset),Z=Z&&Z.F,!Z||65280>=Z)throw new t("marker was not found");if(65488<=Z&&65495>=Z)y+=2;else break}return(Z=a(g,y))&&Z.f&&((0,_util.warn)("decodeScan - unexpected Scan data, current marker is: "+Z.f),y=Z.offset),y-K}function f(g,y){for(var E=y.c,S=y.l,A=new Int16Array(64),M=0;M<S;M++)for(var I=0;I<E;I++){var R=64*((y.c+1)*M+I),H=A,L=y.G,j=y.a;if(!L)throw new t("missing required Quantization Table.");for(var V=0;64>V;V+=8){var G=j[R+V],U=j[R+V+1],Y=j[R+V+2],ee=j[R+V+3],le=j[R+V+4],he=j[R+V+5],oe=j[R+V+6],q=j[R+V+7];if(G*=L[V],(U|Y|ee|le|he|oe|q)===0)G=5793*G+512>>10,H[V]=G,H[V+1]=G,H[V+2]=G,H[V+3]=G,H[V+4]=G,H[V+5]=G,H[V+6]=G,H[V+7]=G;else{U*=L[V+1],Y*=L[V+2],ee*=L[V+3],le*=L[V+4],he*=L[V+5],oe*=L[V+6],q*=L[V+7];var K=5793*G+128>>8,Q=5793*le+128>>8,te=Y,ce=oe;le=2896*(U-q)+128>>8,q=2896*(U+q)+128>>8,ee<<=4,he<<=4,K=K+Q+1>>1,Q=K-Q,G=3784*te+1567*ce+128>>8,te=1567*te-3784*ce+128>>8,ce=G,le=le+he+1>>1,he=le-he,q=q+ee+1>>1,ee=q-ee,K=K+ce+1>>1,ce=K-ce,Q=Q+te+1>>1,te=Q-te,G=2276*le+3406*q+2048>>12,le=3406*le-2276*q+2048>>12,q=G,G=799*ee+4017*he+2048>>12,ee=4017*ee-799*he+2048>>12,he=G,H[V]=K+q,H[V+7]=K-q,H[V+1]=Q+he,H[V+6]=Q-he,H[V+2]=te+ee,H[V+5]=te-ee,H[V+3]=ce+le,H[V+4]=ce-le}}for(L=0;8>L;++L)G=H[L],U=H[L+8],Y=H[L+16],ee=H[L+24],le=H[L+32],he=H[L+40],oe=H[L+48],q=H[L+56],(U|Y|ee|le|he|oe|q)===0?(G=5793*G+8192>>14,G=-2040>G?0:2024<=G?255:G+2056>>4,j[R+L]=G,j[R+L+8]=G,j[R+L+16]=G,j[R+L+24]=G,j[R+L+32]=G,j[R+L+40]=G,j[R+L+48]=G,j[R+L+56]=G):(K=5793*G+2048>>12,Q=5793*le+2048>>12,te=Y,ce=oe,le=2896*(U-q)+2048>>12,q=2896*(U+q)+2048>>12,K=(K+Q+1>>1)+4112,Q=K-Q,G=3784*te+1567*ce+2048>>12,te=1567*te-3784*ce+2048>>12,ce=G,le=le+he+1>>1,he=le-he,q=q+ee+1>>1,ee=q-ee,K=K+ce+1>>1,ce=K-ce,Q=Q+te+1>>1,te=Q-te,G=2276*le+3406*q+2048>>12,le=3406*le-2276*q+2048>>12,q=G,G=799*ee+4017*he+2048>>12,ee=4017*ee-799*he+2048>>12,he=G,G=K+q,q=K-q,U=Q+he,oe=Q-he,Y=te+ee,he=te-ee,ee=ce+le,le=ce-le,G=16>G?0:4080<=G?255:G>>4,U=16>U?0:4080<=U?255:U>>4,Y=16>Y?0:4080<=Y?255:Y>>4,ee=16>ee?0:4080<=ee?255:ee>>4,le=16>le?0:4080<=le?255:le>>4,he=16>he?0:4080<=he?255:he>>4,oe=16>oe?0:4080<=oe?255:oe>>4,q=16>q?0:4080<=q?255:q>>4,j[R+L]=G,j[R+L+8]=U,j[R+L+16]=Y,j[R+L+24]=ee,j[R+L+32]=le,j[R+L+40]=he,j[R+L+48]=oe,j[R+L+56]=q)}return y.a}function a(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:y,S=g.length-1;if(E=E<y?E:y,y>=S)return null;var A=g[y]<<8|g[y+1];if(65472<=A&&65534>=A)return{f:null,F:A,offset:y};for(var M=g[E]<<8|g[E+1];!(65472<=M&&65534>=M);){if(++E>=S)return null;M=g[E]<<8|g[E+1]}return{f:A.toString(16),F:M,offset:E}}var m=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]);l.prototype={parse:function(g){function y(){var te=g[I]<<8|g[I+1];return I+=2,te}function E(){var te=y();te=I+te-2;var ce=a(g,te,I);return ce&&ce.f&&((0,_util.warn)("readDataBlock - incorrect length, current marker is: "+ce.f),te=ce.offset),te=g.subarray(I,te),I+=te.length,te}function S(te){for(var ce=Math.ceil(te.v/8/te.s),we=Math.ceil(te.g/8/te.u),be=0;be<te.b.length;be++){K=te.b[be];var xe=Math.ceil(Math.ceil(te.v/8)*K.h/te.s),Ie=Math.ceil(Math.ceil(te.g/8)*K.j/te.u);K.a=new Int16Array(64*we*K.j*(ce*K.h+1)),K.c=xe,K.l=Ie}te.P=ce,te.O=we}var A=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).N,M=A===void 0?null:A,I=0,R=null,H=0;A=[];var L=[],j=[],V=y();if(V!==65496)throw new t("SOI not found");for(V=y();V!==65497;){switch(V){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:var G=E();V===65518&&G[0]===65&&G[1]===100&&G[2]===111&&G[3]===98&&G[4]===101&&(R={version:G[5]<<8|G[6],Y:G[7]<<8|G[8],Z:G[9]<<8|G[10],W:G[11]});break;case 65499:V=y()+I-2;for(var U;I<V;){var Y=g[I++],ee=new Uint16Array(64);if(Y>>4===0)for(G=0;64>G;G++)U=m[G],ee[U]=g[I++];else if(Y>>4===1)for(G=0;64>G;G++)U=m[G],ee[U]=y();else throw new t("DQT - invalid table spec");A[Y&15]=ee}break;case 65472:case 65473:case 65474:if(le)throw new t("Only single frame JPEGs supported");y();var le={};for(le.X=V===65473,le.S=V===65474,le.precision=g[I++],V=y(),le.g=M||V,le.v=y(),le.b=[],le.C={},G=g[I++],V=ee=Y=0;V<G;V++){U=g[I];var he=g[I+1]>>4,oe=g[I+1]&15;Y<he&&(Y=he),ee<oe&&(ee=oe),he=le.b.push({h:he,j:oe,T:g[I+2],G:null}),le.C[U]=he-1,I+=3}le.s=Y,le.u=ee,S(le);break;case 65476:for(U=y(),V=2;V<U;){for(Y=g[I++],ee=new Uint8Array(16),G=he=0;16>G;G++,I++)he+=ee[G]=g[I];for(oe=new Uint8Array(he),G=0;G<he;G++,I++)oe[G]=g[I];V+=17+he,(Y>>4===0?j:L)[Y&15]=h(ee,oe)}break;case 65501:y();var q=y();break;case 65498:for(G=++H===1&&!M,y(),Y=g[I++],U=[],V=0;V<Y;V++){ee=le.C[g[I++]];var K=le.b[ee];ee=g[I++],K.D=j[ee>>4],K.o=L[ee&15],U.push(K)}V=g[I++],Y=g[I++],ee=g[I++];try{var Q=n(g,I,le,U,q,V,Y,ee>>4,ee&15,G);I+=Q}catch(te){if(te instanceof e)return(0,_util.warn)('Attempting to re-parse JPEG image using "scanLines" parameter found in DNL marker (0xFFDC) segment.'),this.parse(g,{N:te.g});throw te}break;case 65500:I+=4;break;case 65535:g[I]!==255&&I--;break;default:if(g[I-3]===255&&192<=g[I-2]&&254>=g[I-2])I-=3;else if((G=a(g,I-2))&&G.f)(0,_util.warn)("JpegImage.parse - unexpected data, current marker is: "+G.f),I=G.offset;else throw new t("unknown marker "+V.toString(16))}V=y()}for(this.width=le.v,this.height=le.g,this.A=R,this.b=[],V=0;V<le.b.length;V++)K=le.b[V],(q=A[K.T])&&(K.G=q),this.b.push({R:f(le,K),U:K.h/le.s,V:K.j/le.u,c:K.c,l:K.l});this.i=this.b.length},L:function(g,y){var E=this.width/g,S=this.height/y,A,M,I=this.b.length,R=g*y*I,H=new Uint8ClampedArray(R),L=new Uint32Array(g);for(M=0;M<I;M++){var j=this.b[M],V=j.U*E,G=j.V*S,U=M,Y=j.R,ee=j.c+1<<3;for(A=0;A<g;A++)j=0|A*V,L[A]=(j&4294967288)<<3|j&7;for(V=0;V<y;V++)for(j=0|V*G,j=ee*(j&4294967288)|(j&7)<<3,A=0;A<g;A++)H[U]=Y[j+L[A]],U+=I}if(S=this.M)for(M=0;M<R;)for(E=j=0;j<I;j++,M++,E+=2)H[M]=(H[M]*S[E]>>8)+S[E+1];return H},w:function(){return this.A?!!this.A.W:this.i===3?this.B!==0:this.B===1},I:function(g){for(var y,E,S,A=0,M=g.length;A<M;A+=3)y=g[A],E=g[A+1],S=g[A+2],g[A]=y-179.456+1.402*S,g[A+1]=y+135.459-.344*E-.714*S,g[A+2]=y-226.816+1.772*E;return g},K:function(g){for(var y,E,S,A,M=0,I=0,R=g.length;I<R;I+=4)y=g[I],E=g[I+1],S=g[I+2],A=g[I+3],g[M++]=-122.67195406894+E*(-660635669420364e-19*E+.000437130475926232*S-54080610064599e-18*y+.00048449797120281*A-.154362151871126)+S*(-.000957964378445773*S+.000817076911346625*y-.00477271405408747*A+1.53380253221734)+y*(.000961250184130688*y-.00266257332283933*A+.48357088451265)+A*(-.000336197177618394*A+.484791561490776),g[M++]=107.268039397724+E*(219927104525741e-19*E-.000640992018297945*S+.000659397001245577*y+.000426105652938837*A-.176491792462875)+S*(-.000778269941513683*S+.00130872261408275*y+.000770482631801132*A-.151051492775562)+y*(.00126935368114843*y-.00265090189010898*A+.25802910206845)+A*(-.000318913117588328*A-.213742400323665),g[M++]=-20.810012546947+E*(-.000570115196973677*E-263409051004589e-19*S+.0020741088115012*y-.00288260236853442*A+.814272968359295)+S*(-153496057440975e-19*S-.000132689043961446*y+.000560833691242812*A-.195152027534049)+y*(.00174418132927582*y-.00255243321439347*A+.116935020465145)+A*(-.000343531996510555*A+.24165260232407);return g.subarray(0,M)},J:function(g){for(var y,E,S,A=0,M=g.length;A<M;A+=4)y=g[A],E=g[A+1],S=g[A+2],g[A]=434.456-y-1.402*S,g[A+1]=119.541-y+.344*E+.714*S,g[A+2]=481.816-y-1.772*E;return g},H:function(g){for(var y,E,S,A,M=0,I=1/255,R=0,H=g.length;R<H;R+=4)y=g[R]*I,E=g[R+1]*I,S=g[R+2]*I,A=g[R+3]*I,g[M++]=255+y*(-4.387332384609988*y+54.48615194189176*E+18.82290502165302*S+212.25662451639585*A-285.2331026137004)+E*(1.7149763477362134*E-5.6096736904047315*S-17.873870861415444*A-5.497006427196366)+S*(-2.5217340131683033*S-21.248923337353073*A+17.5119270841813)-A*(21.86122147463605*A+189.48180835922747),g[M++]=255+y*(8.841041422036149*y+60.118027045597366*E+6.871425592049007*S+31.159100130055922*A-79.2970844816548)+E*(-15.310361306967817*E+17.575251261109482*S+131.35250912493976*A-190.9453302588951)+S*(4.444339102852739*S+9.8632861493405*A-24.86741582555878)-A*(20.737325471181034*A+187.80453709719578),g[M++]=255+y*(.8842522430003296*y+8.078677503112928*E+30.89978309703729*S-.23883238689178934*A-14.183576799673286)+E*(10.49593273432072*E+63.02378494754052*S+50.606957656360734*A-112.23884253719248)+S*(.03296041114873217*S+115.60384449646641*A-193.58209356861505)-A*(22.33816807309886*A+180.12613974708367);return g.subarray(0,M)},getData:function(g,y,E){if(4<this.i)throw new t("Unsupported color mode");if(g=this.L(g,y),this.i===1&&E){E=g.length,y=new Uint8ClampedArray(3*E);for(var S=0,A=0;A<E;A++){var M=g[A];y[S++]=M,y[S++]=M,y[S++]=M}return y}if(this.i===3&&this.w())return this.I(g);if(this.i===4){if(this.w())return E?this.K(g):this.J(g);if(E)return this.H(g)}return g}},o.JpegDecoder=l})()})(),o.encodeImage=function(i,t,e,l){var h={t256:[t],t257:[e],t258:[8,8,8,8],t259:[1],t262:[2],t273:[1e3],t277:[4],t278:[e],t279:[t*e*4],t282:[1],t283:[1],t284:[1],t286:[0],t287:[0],t296:[1],t305:["Photopea (UTIF.js)"],t338:[1]};if(l)for(var n in l)h[n]=l[n];for(var f=new Uint8Array(o.encode([h])),a=new Uint8Array(i),m=new Uint8Array(1e3+t*e*4),n=0;n<f.length;n++)m[n]=f[n];for(var n=0;n<a.length;n++)m[1e3+n]=a[n];return m.buffer},o.encode=function(i){var t=new Uint8Array(2e4),e=4,l=o._binBE;t[0]=77,t[1]=77,t[3]=42;var h=8;l.writeUint(t,e,h),e+=4;for(var n=0;n<i.length;n++){var f=o._writeIFD(l,t,h,i[n]);h=f[1],n<i.length-1&&l.writeUint(t,f[0],h)}return t.slice(0,h).buffer},o.decode=function(i){o.decode._decodeG3.allow2D=null;var t=new Uint8Array(i),e=0,l=o._binBE.readASCII(t,e,2);e+=2;var h=l=="II"?o._binLE:o._binBE;h.readUshort(t,e),e+=2;var n=h.readUint(t,e);e+=4;for(var f=[];;){var a=o._readIFD(h,t,n,f);if(n=h.readUint(t,a),n==0)break}return f},o.decodeImages=function(i,t){for(var e=new Uint8Array(i),l=o._binBE.readASCII(e,0,2),h=0;h<t.length;h++){var n=t[h];if(n.t256!=null){n.isLE=l=="II",n.width=n.t256[0],n.height=n.t257[0];var f=n.t259?n.t259[0]:1,a=n.t266?n.t266[0]:1;n.t284&&n.t284[0]==2&&v("PlanarConfiguration 2 should not be used!");var m=(n.t258?Math.min(32,n.t258[0]):1)*(n.t277?n.t277[0]:1),g=Math.ceil(n.width*m/8)*8,y=n.t273;y==null&&(y=n.t324);var E=n.t279;f==1&&y.length==1&&(E=[n.height*(g>>>3)]),E==null&&(E=n.t325);var S=new Uint8Array(n.height*(g>>>3)),A=0;if(n.t322!=null){for(var M=n.t322[0],I=n.t323[0],R=Math.floor((n.width+M-1)/M),H=Math.floor((n.height+I-1)/I),L=new Uint8Array(Math.ceil(M*I*m/8)|0),j=0;j<H;j++)for(var V=0;V<R;V++){for(var G=j*R+V,U=0;U<L.length;U++)L[U]=0;o.decode._decompress(n,e,y[G],E[G],f,L,0,a),f==6?S=L:o._copyTile(L,Math.ceil(M*m/8)|0,I,S,Math.ceil(n.width*m/8)|0,n.height,Math.ceil(V*M*m/8)|0,j*I)}A=S.length*8}else{var Y=n.t278?n.t278[0]:n.height;Y=Math.min(Y,n.height);for(var G=0;G<y.length;G++)o.decode._decompress(n,e,y[G],E[G],f,S,Math.ceil(A/8)|0,a),A+=g*Y;A=Math.min(A,S.length*8)}n.data=new Uint8Array(S.buffer,0,Math.ceil(A/8)|0)}}},o.decode._decompress=function(i,t,e,l,h,n,f,a){if(h==1)for(var m=0;m<l;m++)n[f+m]=t[e+m];else if(h==3)o.decode._decodeG3(t,e,l,n,f,i.width,a);else if(h==4)o.decode._decodeG4(t,e,l,n,f,i.width,a);else if(h==5)o.decode._decodeLZW(t,e,n,f);else if(h==6)o.decode._decodeOldJPEG(i,t,e,l,n,f);else if(h==7)o.decode._decodeNewJPEG(i,t,e,l,n,f);else if(h==8)for(var g=new Uint8Array(t.buffer,e,l),y=s.inflate(g),E=0;E<y.length;E++)n[f+E]=y[E];else h==32773?o.decode._decodePackBits(t,e,l,n,f):h==32809?o.decode._decodeThunder(t,e,l,n,f):v("Unknown compression",h);if(i.t317&&i.t317[0]==2)for(var S=i.t277?i.t277[0]:1,A=i.t278?i.t278[0]:i.height,M=i.width*S,I=0;I<A;I++){var R=f+I*M;if(S==3)for(var m=3;m<M;m+=3)n[R+m]=n[R+m]+n[R+m-3]&255,n[R+m+1]=n[R+m+1]+n[R+m-2]&255,n[R+m+2]=n[R+m+2]+n[R+m-1]&255;else for(var m=S;m<M;m++)n[R+m]=n[R+m]+n[R+m-S]&255}},o.decode._decodeNikon=function(i,t,a,l,h){var n,f,a;v(i.slice(t,t+100)),n=i[t],t++,f=i[t],t++,v(n.toString(16),f.toString(16),a)},o.decode._decodeNewJPEG=function(i,t,e,l,h,n){var f=i.t347,a=f?f.length:0,m=new Uint8Array(a+l);if(f){for(var g=216,y=217,E=0,S=0;S<a-1&&!(f[S]==255&&f[S+1]==y);S++)m[E++]=f[S];var A=t[e],M=t[e+1];(A!=255||M!=g)&&(m[E++]=A,m[E++]=M);for(var S=2;S<l;S++)m[E++]=t[e+S]}else for(var S=0;S<l;S++)m[S]=t[e+S];if(i.t262==32803){var I=i.t258[0],R=new LosslessJpegDecoder,H=R.decode(m),L=H.length;if(I==16)for(var S=0;S<L;S++)h[n++]=H[S]&255,h[n++]=H[S]>>>8;else if(I==12)for(var S=0;S<L;S+=2)h[n++]=H[S]>>>4,h[n++]=(H[S]<<4|H[S+1]>>>8)&255,h[n++]=H[S+1]&255;else throw new Error("unsupported bit depth "+I)}else{var j=new o.JpegDecoder;j.parse(m);for(var V=j.getData(j.width,j.height),S=0;S<V.length;S++)h[n+S]=V[S]}i.t262[0]==6&&(i.t262[0]=2)},o.decode._decodeOldJPEGInit=function(i,t,e,l){var h=216,n=219,f=196,a=221,m=192,g=218,y=0,E=0,S,A,M=!1,I,R,H,L=i.t513,j=L?L[0]:0,V=i.t514,G=V?V[0]:0,U=i.t324||i.t273||L,Y=i.t530,ee=0,le=0,he=i.t277?i.t277[0]:1,oe=i.t515;if(U&&(E=U[0],M=U.length>1),!M){if(t[e]==255&&t[e+1]==h)return{jpegOffset:e};if(L!=null&&(t[e+j]==255&&t[e+j+1]==h?y=e+j:v("JPEGInterchangeFormat does not point to SOI"),V==null?v("JPEGInterchangeFormatLength field is missing"):(j>=E||j+G<=E)&&v("JPEGInterchangeFormatLength field value is invalid"),y!=null))return{jpegOffset:y}}if(Y!=null&&(ee=Y[0],le=Y[1]),L!=null&&V!=null)if(G>=2&&j+G<=E){for(t[e+j+G-2]==255&&t[e+j+G-1]==h?S=new Uint8Array(G-2):S=new Uint8Array(G),I=0;I<S.length;I++)S[I]=t[e+j+I];v("Incorrect JPEG interchange format: using JPEGInterchangeFormat offset to derive tables")}else v("JPEGInterchangeFormat+JPEGInterchangeFormatLength > offset to first strip or tile");if(S==null){var q=0,K=[];K[q++]=255,K[q++]=h;var Q=i.t519;if(Q==null)throw new Error("JPEGQTables tag is missing");for(I=0;I<Q.length;I++)for(K[q++]=255,K[q++]=n,K[q++]=0,K[q++]=67,K[q++]=I,R=0;R<64;R++)K[q++]=t[e+Q[I]+R];for(H=0;H<2;H++){var te=i[H==0?"t520":"t521"];if(te==null)throw new Error((H==0?"JPEGDCTables":"JPEGACTables")+" tag is missing");for(I=0;I<te.length;I++){K[q++]=255,K[q++]=f;var ce=19;for(R=0;R<16;R++)ce+=t[e+te[I]+R];for(K[q++]=ce>>>8,K[q++]=ce&255,K[q++]=I|H<<4,R=0;R<16;R++)K[q++]=t[e+te[I]+R];for(R=0;R<ce;R++)K[q++]=t[e+te[I]+16+R]}}if(K[q++]=255,K[q++]=m,K[q++]=0,K[q++]=8+3*he,K[q++]=8,K[q++]=i.height>>>8&255,K[q++]=i.height&255,K[q++]=i.width>>>8&255,K[q++]=i.width&255,K[q++]=he,he==1)K[q++]=1,K[q++]=17,K[q++]=0;else for(I=0;I<3;I++)K[q++]=I+1,K[q++]=I!=0?17:(ee&15)<<4|le&15,K[q++]=I;oe!=null&&oe[0]!=0&&(K[q++]=255,K[q++]=a,K[q++]=0,K[q++]=4,K[q++]=oe[0]>>>8&255,K[q++]=oe[0]&255),S=new Uint8Array(K)}var we=-1;for(I=0;I<S.length-1;){if(S[I]==255&&S[I+1]==m){we=I;break}I++}if(we==-1){var be=new Uint8Array(S.length+10+3*he);be.set(S);var xe=S.length;if(we=S.length,S=be,S[xe++]=255,S[xe++]=m,S[xe++]=0,S[xe++]=8+3*he,S[xe++]=8,S[xe++]=i.height>>>8&255,S[xe++]=i.height&255,S[xe++]=i.width>>>8&255,S[xe++]=i.width&255,S[xe++]=he,he==1)S[xe++]=1,S[xe++]=17,S[xe++]=0;else for(I=0;I<3;I++)S[xe++]=I+1,S[xe++]=I!=0?17:(ee&15)<<4|le&15,S[xe++]=I}if(t[E]==255&&t[E+1]==g){var Ie=t[E+2]<<8|t[E+3];for(A=new Uint8Array(Ie+2),A[0]=t[E],A[1]=t[E+1],A[2]=t[E+2],A[3]=t[E+3],I=0;I<Ie-2;I++)A[I+4]=t[E+I+4]}else{A=new Uint8Array(2+6+2*he);var me=0;if(A[me++]=255,A[me++]=g,A[me++]=0,A[me++]=6+2*he,A[me++]=he,he==1)A[me++]=1,A[me++]=0;else for(I=0;I<3;I++)A[me++]=I+1,A[me++]=I<<4|I;A[me++]=0,A[me++]=63,A[me++]=0}return{jpegOffset:e,tables:S,sosMarker:A,sofPosition:we}},o.decode._decodeOldJPEG=function(i,t,e,l,h,n){var f,a,m,g,y=o.decode._decodeOldJPEGInit(i,t,e,l);if(y.jpegOffset!=null)for(a=e+l-y.jpegOffset,g=new Uint8Array(a),f=0;f<a;f++)g[f]=t[y.jpegOffset+f];else{for(m=y.tables.length,g=new Uint8Array(m+y.sosMarker.length+l+2),g.set(y.tables),g[y.sofPosition+5]=i.height>>>8&255,g[y.sofPosition+6]=i.height&255,g[y.sofPosition+7]=i.width>>>8&255,g[y.sofPosition+8]=i.width&255,(t[e]!=255||t[e+1]!=SOS)&&(g.set(y.sosMarker,bufoff),bufoff+=sosMarker.length),f=0;f<l;f++)g[bufoff++]=t[e+f];g[bufoff++]=255,g[bufoff++]=EOI}var E=new o.JpegDecoder;E.parse(g);for(var S=E.getData(E.width,E.height),f=0;f<S.length;f++)h[n+f]=S[f];i.t262[0]==6&&(i.t262[0]=2)},o.decode._decodePackBits=function(i,t,e,l,h){for(var n=new Int8Array(i.buffer),f=new Int8Array(l.buffer),a=t+e;t<a;){var m=n[t];if(t++,m>=0&&m<128)for(var g=0;g<m+1;g++)f[h]=n[t],h++,t++;if(m>=-127&&m<0){for(var g=0;g<-m+1;g++)f[h]=n[t],h++;t++}}},o.decode._decodeThunder=function(i,t,e,l,h){for(var n=[0,1,0,-1],f=[0,1,2,3,0,-3,-2,-1],a=t+e,m=h*2,g=0;t<a;){var y=i[t],E=y>>>6,S=y&63;if(t++,E==3&&(g=S&15,l[m>>>1]|=g<<4*(1-m&1),m++),E==0)for(var A=0;A<S;A++)l[m>>>1]|=g<<4*(1-m&1),m++;if(E==2)for(var A=0;A<2;A++){var M=S>>>3*(1-A)&7;M!=4&&(g+=f[M],l[m>>>1]|=g<<4*(1-m&1),m++)}if(E==1)for(var A=0;A<3;A++){var M=S>>>2*(2-A)&3;M!=2&&(g+=n[M],l[m>>>1]|=g<<4*(1-m&1),m++)}}},o.decode._dmap={1:0,"011":1,"000011":2,"0000011":3,"010":-1,"000010":-2,"0000010":-3},o.decode._lens=function(){var i=function(m,g,y,E){for(var S=0;S<g.length;S++)m[g[S]]=y+S*E},t="00110101,000111,0111,1000,1011,1100,1110,1111,10011,10100,00111,01000,001000,000011,110100,110101,101010,101011,0100111,0001100,0001000,0010111,0000011,0000100,0101000,0101011,0010011,0100100,0011000,00000010,00000011,00011010,00011011,00010010,00010011,00010100,00010101,00010110,00010111,00101000,00101001,00101010,00101011,00101100,00101101,00000100,00000101,00001010,00001011,01010010,01010011,01010100,01010101,00100100,00100101,01011000,01011001,01011010,01011011,01001010,01001011,00110010,00110011,00110100",e="0000110111,010,11,10,011,0011,0010,00011,000101,000100,0000100,0000101,0000111,00000100,00000111,000011000,0000010111,0000011000,0000001000,00001100111,00001101000,00001101100,00000110111,00000101000,00000010111,00000011000,000011001010,000011001011,000011001100,000011001101,000001101000,000001101001,000001101010,000001101011,000011010010,000011010011,000011010100,000011010101,000011010110,000011010111,000001101100,000001101101,000011011010,000011011011,000001010100,000001010101,000001010110,000001010111,000001100100,000001100101,000001010010,000001010011,000000100100,000000110111,000000111000,000000100111,000000101000,000001011000,000001011001,000000101011,000000101100,000001011010,000001100110,000001100111",l="11011,10010,010111,0110111,00110110,00110111,01100100,01100101,01101000,01100111,011001100,011001101,011010010,011010011,011010100,011010101,011010110,011010111,011011000,011011001,011011010,011011011,010011000,010011001,010011010,011000,010011011",h="0000001111,000011001000,000011001001,000001011011,000000110011,000000110100,000000110101,0000001101100,0000001101101,0000001001010,0000001001011,0000001001100,0000001001101,0000001110010,0000001110011,0000001110100,0000001110101,0000001110110,0000001110111,0000001010010,0000001010011,0000001010100,0000001010101,0000001011010,0000001011011,0000001100100,0000001100101",n="00000001000,00000001100,00000001101,000000010010,000000010011,000000010100,000000010101,000000010110,000000010111,000000011100,000000011101,000000011110,000000011111";t=t.split(","),e=e.split(","),l=l.split(","),h=h.split(","),n=n.split(",");var f={},a={};return i(f,t,0,1),i(f,l,64,64),i(f,n,1792,64),i(a,e,0,1),i(a,h,64,64),i(a,n,1792,64),[f,a]}(),o.decode._decodeG4=function(i,t,e,l,h,n,f){for(var a=o.decode,m=t<<3,g=0,y="",E=[],S=[],A=0;A<n;A++)S.push(0);S=a._makeDiff(S);for(var M=0,I=0,R=0,H=0,L=0,j=0,V="",G=0,U=Math.ceil(n/8)*8;m>>>3<t+e;){R=a._findDiff(S,M+(M==0?0:1),1-L),H=a._findDiff(S,R,L);var Y=0;if(f==1&&(Y=i[m>>>3]>>>7-(m&7)&1),f==2&&(Y=i[m>>>3]>>>(m&7)&1),m++,y+=Y,V=="H"){if(a._lens[L][y]!=null){var ee=a._lens[L][y];y="",g+=ee,ee<64&&(a._addNtimes(E,g,L),M+=g,L=1-L,g=0,G--,G==0&&(V=""))}}else y=="0001"&&(y="",a._addNtimes(E,H-M,L),M=H),y=="001"&&(y="",V="H",G=2),a._dmap[y]!=null&&(I=R+a._dmap[y],a._addNtimes(E,I-M,L),M=I,y="",L=1-L);E.length==n&&V==""&&(a._writeBits(E,l,h*8+j*U),L=0,j++,M=0,S=a._makeDiff(E),E=[])}},o.decode._findDiff=function(i,t,e){for(var l=0;l<i.length;l+=2)if(i[l]>=t&&i[l+1]==e)return i[l]},o.decode._makeDiff=function(i){var t=[];i[0]==1&&t.push(0,1);for(var e=1;e<i.length;e++)i[e-1]!=i[e]&&t.push(e,i[e]);return t.push(i.length,0,i.length,1),t},o.decode._decodeG3=function(i,t,e,l,h,n,f){for(var a=o.decode,m=t<<3,g=0,y="",E=[],S=[],A=0;A<n;A++)E.push(0);for(var M=0,I=0,R=0,H=0,L=0,j=-1,V="",G=0,U=!1,Y=Math.ceil(n/8)*8;m>>>3<t+e;){R=a._findDiff(S,M+(M==0?0:1),1-L),H=a._findDiff(S,R,L);var ee=0;if(f==1&&(ee=i[m>>>3]>>>7-(m&7)&1),f==2&&(ee=i[m>>>3]>>>(m&7)&1),m++,y+=ee,U){if(a._lens[L][y]!=null){var le=a._lens[L][y];y="",g+=le,le<64&&(a._addNtimes(E,g,L),L=1-L,g=0)}}else if(V=="H"){if(a._lens[L][y]!=null){var le=a._lens[L][y];y="",g+=le,le<64&&(a._addNtimes(E,g,L),M+=g,L=1-L,g=0,G--,G==0&&(V=""))}}else y=="0001"&&(y="",a._addNtimes(E,H-M,L),M=H),y=="001"&&(y="",V="H",G=2),a._dmap[y]!=null&&(I=R+a._dmap[y],a._addNtimes(E,I-M,L),M=I,y="",L=1-L);y.endsWith("000000000001")&&(j>=0&&a._writeBits(E,l,h*8+j*Y),f==1&&(U=(i[m>>>3]>>>7-(m&7)&1)==1),f==2&&(U=(i[m>>>3]>>>(m&7)&1)==1),m++,a._decodeG3.allow2D==null&&(a._decodeG3.allow2D=U),a._decodeG3.allow2D||(U=!0,m--),y="",L=0,j++,M=0,S=a._makeDiff(E),E=[])}E.length==n&&a._writeBits(E,l,h*8+j*Y)},o.decode._addNtimes=function(i,t,e){for(var l=0;l<t;l++)i.push(e)},o.decode._writeBits=function(i,t,e){for(var l=0;l<i.length;l++)t[e+l>>>3]|=i[l]<<7-(e+l&7)},o.decode._decodeLZW=function(i,t,e,l){if(o.decode._lzwTab==null){for(var h=new Uint32Array(65535),n=new Uint16Array(65535),y=new Uint8Array(2e6),f=0;f<256;f++)y[f<<2]=f,h[f]=f<<2,n[f]=1;o.decode._lzwTab=[h,n,y]}for(var a=o.decode._copyData,m=o.decode._lzwTab[0],g=o.decode._lzwTab[1],y=o.decode._lzwTab[2],E=258,S=258<<2,A=9,M=t<<3,I=256,R=257,H=0,L=0,j=0;H=i[M>>>3]<<16|i[M+8>>>3]<<8|i[M+16>>>3],L=H>>24-(M&7)-A&(1<<A)-1,M+=A,L!=R;){if(L==I){if(A=9,E=258,S=258<<2,H=i[M>>>3]<<16|i[M+8>>>3]<<8|i[M+16>>>3],L=H>>24-(M&7)-A&(1<<A)-1,M+=A,L==R)break;e[l]=L,l++}else if(L<E){var V=m[L],G=g[L];if(a(y,V,e,l,G),l+=G,j>=E)m[E]=S,y[m[E]]=V[0],g[E]=1,S=S+1+3&-4,E++;else{m[E]=S;var U=m[j],Y=g[j];a(y,U,y,S,Y),y[S+Y]=y[V],Y++,g[E]=Y,E++,S=S+Y+3&-4}E+1==1<<A&&A++}else{if(j>=E)m[E]=S,g[E]=0,E++;else{m[E]=S;var U=m[j],Y=g[j];a(y,U,y,S,Y),y[S+Y]=y[S],Y++,g[E]=Y,E++,a(y,S,e,l,Y),l+=Y,S=S+Y+3&-4}E+1==1<<A&&A++}j=L}},o.decode._copyData=function(i,t,e,l,h){for(var n=0;n<h;n+=4)e[l+n]=i[t+n],e[l+n+1]=i[t+n+1],e[l+n+2]=i[t+n+2],e[l+n+3]=i[t+n+3]},o.tags={254:"NewSubfileType",255:"SubfileType",256:"ImageWidth",257:"ImageLength",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",266:"FillOrder",269:"DocumentName",270:"ImageDescription",271:"Make",272:"Model",273:"StripOffset",274:"Orientation",277:"SamplesPerPixel",278:"RowsPerStrip",279:"StripByteCounts",280:"MinSampleValue",281:"MaxSampleValue",282:"XResolution",283:"YResolution",284:"PlanarConfiguration",285:"PageName",286:"XPosition",287:"YPosition",292:"T4Options",296:"ResolutionUnit",297:"PageNumber",305:"Software",306:"DateTime",315:"Artist",316:"HostComputer",317:"Predictor",318:"WhitePoint",319:"PrimaryChromaticities",320:"ColorMap",321:"HalftoneHints",322:"TileWidth",323:"TileLength",324:"TileOffset",325:"TileByteCounts",330:"SubIFDs",336:"DotRange",338:"ExtraSample",339:"SampleFormat",347:"JPEGTables",512:"JPEGProc",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",519:"JPEGQTables",520:"JPEGDCTables",521:"JPEGACTables",529:"YCbCrCoefficients",530:"YCbCrSubSampling",531:"YCbCrPositioning",532:"ReferenceBlackWhite",700:"XMP",33421:"CFARepeatPatternDim",33422:"CFAPattern",33432:"Copyright",33434:"ExposureTime",33437:"FNumber",33723:"IPTC/NAA",34377:"Photoshop",34665:"ExifIFD",34675:"ICC Profile",34850:"ExposureProgram",34853:"GPSInfo",34855:"ISOSpeedRatings",34858:"TimeZoneOffset",34859:"SelfTimeMode",36867:"DateTimeOriginal",36868:"DateTimeDigitized",37377:"ShutterSpeedValue",37378:"ApertureValue",37380:"ExposureBiasValue",37383:"MeteringMode",37385:"Flash",37386:"FocalLength",37390:"FocalPlaneXResolution",37391:"FocalPlaneYResolution",37392:"FocalPlaneResolutionUnit",37393:"ImageNumber",37398:"TIFF/EPStandardID",37399:"SensingMethod",37500:"MakerNote",37510:"UserComment",37724:"ImageSourceData",40092:"XPComment",40094:"XPKeywords",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelXDimension",41486:"FocalPlaneXResolution",41487:"FocalPlaneYResolution",41488:"FocalPlaneResolutionUnit",41985:"CustomRendered",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",50706:"DNGVersion",50707:"DNGBackwardVersion",50708:"UniqueCameraModel",50709:"LocalizedCameraModel",50710:"CFAPlaneColor",50711:"CFALayout",50712:"LinearizationTable",50713:"BlackLevelRepeatDim",50714:"BlackLevel",50716:"BlackLevelDeltaV",50717:"WhiteLevel",50718:"DefaultScale",50719:"DefaultCropOrigin",50720:"DefaultCropSize",50733:"BayerGreenSplit",50738:"AntiAliasStrength",50721:"ColorMatrix1",50722:"ColorMatrix2",50723:"CameraCalibration1",50724:"CameraCalibration2",50727:"AnalogBalance",50728:"AsShotNeutral",50730:"BaselineExposure",50731:"BaselineNoise",50732:"BaselineSharpness",50734:"LinearResponseLimit",50735:"CameraSerialNumber",50736:"LensInfo",50739:"ShadowScale",50740:"DNGPrivateData",50741:"MakerNoteSafety",50778:"CalibrationIlluminant1",50779:"CalibrationIlluminant2",50780:"BestQualityScale",50781:"RawDataUniqueID",50827:"OriginalRawFileName",50829:"ActiveArea",50830:"MaskedAreas",50931:"CameraCalibrationSignature",50932:"ProfileCalibrationSignature",50935:"NoiseReductionApplied",50936:"ProfileName",50937:"ProfileHueSatMapDims",50938:"ProfileHueSatMapData1",50939:"ProfileHueSatMapData2",50940:"ProfileToneCurve",50941:"ProfileEmbedPolicy",50942:"ProfileCopyright",50964:"ForwardMatrix1",50965:"ForwardMatrix2",50966:"PreviewApplicationName",50967:"PreviewApplicationVersion",50969:"PreviewSettingsDigest",50970:"PreviewColorSpace",50971:"PreviewDateTime",50972:"RawImageDigest",51008:"OpcodeList1",51009:"OpcodeList2",51022:"OpcodeList3",51041:"NoiseProfile",51089:"OriginalDefaultFinalSize",51090:"OriginalBestQualityFinalSize",51091:"OriginalDefaultCropSize",51125:"DefaultUserCrop"},o.ttypes={256:3,257:3,258:3,259:3,262:3,273:4,274:3,277:3,278:4,279:4,282:5,283:5,284:3,286:5,287:5,296:3,305:2,306:2,338:3,513:4,514:4,34665:4},o._readIFD=function(i,t,e,l){var h=i.readUshort(t,e);e+=2;var n={};l.push(n);for(var f=0;f<h;f++){var a=i.readUshort(t,e);e+=2;var m=i.readUshort(t,e);e+=2;var g=i.readUint(t,e);e+=4;var y=i.readUint(t,e);e+=4;var E=[];if(n["t"+a]=E,m==1||m==7)for(var S=0;S<g;S++)E.push(t[(g<5?e-4:y)+S]);if(m==2&&E.push(i.readASCII(t,g<5?e-4:y,g-1)),m==3)for(var S=0;S<g;S++)E.push(i.readUshort(t,(g<3?e-4:y)+2*S));if(m==4)for(var S=0;S<g;S++)E.push(i.readUint(t,(g<2?e-4:y)+4*S));if(m==5)for(var S=0;S<g;S++)E.push(i.readUint(t,y+S*8)/i.readUint(t,y+S*8+4));if(m==8)for(var S=0;S<g;S++)E.push(i.readShort(t,(g<3?e-4:y)+2*S));if(m==9)for(var S=0;S<g;S++)E.push(i.readInt(t,(g<2?e-4:y)+4*S));if(m==10)for(var S=0;S<g;S++)E.push(i.readInt(t,y+S*8)/i.readInt(t,y+S*8+4));if(m==11)for(var S=0;S<g;S++)E.push(i.readFloat(t,y+S*4));if(m==12)for(var S=0;S<g;S++)E.push(i.readDouble(t,y+S*8));if(g!=0&&E.length==0&&v("unknown TIFF tag type: ",m,"num:",g),a==330)for(var S=0;S<g;S++)o._readIFD(i,t,E[S],l)}return e},o._writeIFD=function(i,t,e,l){var h=Object.keys(l);i.writeUshort(t,e,h.length),e+=2;for(var n=e+h.length*12+4,f=0;f<h.length;f++){var a=h[f],m=parseInt(a.slice(1)),g=o.ttypes[m];if(g==null)throw new Error("unknown type of tag: "+m);var y=l[a];g==2&&(y=y[0]+"\0");var E=y.length;i.writeUshort(t,e,m),e+=2,i.writeUshort(t,e,g),e+=2,i.writeUint(t,e,E),e+=4;var S=[-1,1,1,2,4,8,0,0,0,0,0,0,8][g]*E,A=e;if(S>4&&(i.writeUint(t,e,n),A=n),g==2&&i.writeASCII(t,A,y),g==3)for(var M=0;M<E;M++)i.writeUshort(t,A+2*M,y[M]);if(g==4)for(var M=0;M<E;M++)i.writeUint(t,A+4*M,y[M]);if(g==5)for(var M=0;M<E;M++)i.writeUint(t,A+8*M,Math.round(y[M]*1e4)),i.writeUint(t,A+8*M+4,1e4);if(g==12)for(var M=0;M<E;M++)i.writeDouble(t,A+8*M,y[M]);S>4&&(S+=S&1,n+=S),e+=4}return[e,n]},o.toRGBA8=function(i){var t=i.width,e=i.height,l=t*e,h=l*4,n=i.data,f=new Uint8Array(l*4),a=i.t262[0],m=i.t258?Math.min(32,i.t258[0]):1,g=i.isLE?1:0;if(a==0)for(var y=Math.ceil(m*t/8),E=0;E<e;E++){var S=E*y,A=E*t;if(m==1)for(var M=0;M<t;M++){var I=A+M<<2,R=n[S+(M>>3)]>>7-(M&7)&1;f[I]=f[I+1]=f[I+2]=(1-R)*255,f[I+3]=255}if(m==4)for(var M=0;M<t;M++){var I=A+M<<2,R=n[S+(M>>1)]>>4-4*(M&1)&15;f[I]=f[I+1]=f[I+2]=(15-R)*17,f[I+3]=255}if(m==8)for(var M=0;M<t;M++){var I=A+M<<2,R=n[S+M];f[I]=f[I+1]=f[I+2]=255-R,f[I+3]=255}}else if(a==1)for(var y=Math.ceil(m*t/8),E=0;E<e;E++){var S=E*y,A=E*t;if(m==1)for(var M=0;M<t;M++){var I=A+M<<2,R=n[S+(M>>3)]>>7-(M&7)&1;f[I]=f[I+1]=f[I+2]=R*255,f[I+3]=255}if(m==2)for(var M=0;M<t;M++){var I=A+M<<2,R=n[S+(M>>2)]>>6-2*(M&3)&3;f[I]=f[I+1]=f[I+2]=R*85,f[I+3]=255}if(m==8)for(var M=0;M<t;M++){var I=A+M<<2,R=n[S+M];f[I]=f[I+1]=f[I+2]=R,f[I+3]=255}if(m==16)for(var M=0;M<t;M++){var I=A+M<<2,R=n[S+(2*M+g)];f[I]=f[I+1]=f[I+2]=Math.min(255,R),f[I+3]=255}}else if(a==2)if(m==8)if(i.t338)if(i.t338[0]>0)for(var M=0;M<h;M++)f[M]=n[M];else for(var M=0;M<h;M+=4)f[M]=n[M],f[M+1]=n[M+1],f[M+2]=n[M+2],f[M+3]=255;else{var H=i.t258?i.t258.length:3;if(H==4)for(var M=0;M<h;M++)f[M]=n[M];if(H==3)for(var M=0;M<l;M++){var I=M<<2,L=M*3;f[I]=n[L],f[I+1]=n[L+1],f[I+2]=n[L+2],f[I+3]=255}}else for(var M=0;M<l;M++){var I=M<<2,L=M*6;f[I]=n[L],f[I+1]=n[L+2],f[I+2]=n[L+4],f[I+3]=255}else if(a==3)for(var j=i.t320,M=0;M<l;M++){var I=M<<2,V=n[M];f[I]=j[V]>>8,f[I+1]=j[256+V]>>8,f[I+2]=j[512+V]>>8,f[I+3]=255}else if(a==5)for(var H=i.t258?i.t258.length:4,G=H>4?1:0,M=0;M<l;M++){var I=M<<2,U=M*H,Y=255-n[U],ee=255-n[U+1],le=255-n[U+2],he=(255-n[U+3])*(1/255);f[I]=~~(Y*he+.5),f[I+1]=~~(ee*he+.5),f[I+2]=~~(le*he+.5),f[I+3]=255*(1-G)+n[U+4]*G}else v("Unknown Photometric interpretation: "+a);return f},o.replaceIMG=function(){for(var i=document.getElementsByTagName("img"),t=0;t<i.length;t++){var e=i[t],l=e.getAttribute("src");if(l!=null){var h=l.split(".").pop().toLowerCase();if(!(h!="tif"&&h!="tiff")){var n=new XMLHttpRequest;o._xhrs.push(n),o._imgs.push(e),n.open("GET",l),n.responseType="arraybuffer",n.onload=o._imgLoaded,n.send()}}}},o._xhrs=[],o._imgs=[],o._imgLoaded=function(i){var t=i.target.response,e=o.decode(t),l=e[0];o.decodeImages(t,e);var h=o.toRGBA8(l),n=l.width,f=l.height,a=o._xhrs.indexOf(i.target),m=o._imgs[a];o._xhrs.splice(a,1),o._imgs.splice(a,1);var g=document.createElement("canvas");g.width=n,g.height=f;for(var y=g.getContext("2d"),E=y.createImageData(n,f),S=0;S<h.length;S++)E.data[S]=h[S];y.putImageData(E,0,0);for(var A=["style","class","id"],S=0;S<A.length;S++)g.setAttribute(A[S],m.getAttribute(A[S]));m.parentNode.replaceChild(g,m)},o._binBE={nextZero:function(i,t){for(;i[t]!=0;)t++;return t},readUshort:function(i,t){return i[t]<<8|i[t+1]},readShort:function(i,t){var e=o._binBE.ui8;return e[0]=i[t+1],e[1]=i[t+0],o._binBE.i16[0]},readInt:function(i,t){var e=o._binBE.ui8;return e[0]=i[t+3],e[1]=i[t+2],e[2]=i[t+1],e[3]=i[t+0],o._binBE.i32[0]},readUint:function(i,t){var e=o._binBE.ui8;return e[0]=i[t+3],e[1]=i[t+2],e[2]=i[t+1],e[3]=i[t+0],o._binBE.ui32[0]},readASCII:function(i,t,e){for(var l="",h=0;h<e;h++)l+=String.fromCharCode(i[t+h]);return l},readFloat:function(i,t){for(var e=o._binBE.ui8,l=0;l<4;l++)e[l]=i[t+3-l];return o._binBE.fl32[0]},readDouble:function(i,t){for(var e=o._binBE.ui8,l=0;l<8;l++)e[l]=i[t+7-l];return o._binBE.fl64[0]},writeUshort:function(i,t,e){i[t]=e>>8&255,i[t+1]=e&255},writeUint:function(i,t,e){i[t]=e>>24&255,i[t+1]=e>>16&255,i[t+2]=e>>8&255,i[t+3]=e>>0&255},writeASCII:function(i,t,e){for(var l=0;l<e.length;l++)i[t+l]=e.charCodeAt(l)},writeDouble:function(i,t,e){o._binBE.fl64[0]=e;for(var l=0;l<8;l++)i[t+l]=o._binBE.ui8[7-l]}},o._binBE.ui8=new Uint8Array(8),o._binBE.i16=new Int16Array(o._binBE.ui8.buffer),o._binBE.i32=new Int32Array(o._binBE.ui8.buffer),o._binBE.ui32=new Uint32Array(o._binBE.ui8.buffer),o._binBE.fl32=new Float32Array(o._binBE.ui8.buffer),o._binBE.fl64=new Float64Array(o._binBE.ui8.buffer),o._binLE={nextZero:o._binBE.nextZero,readUshort:function(i,t){return i[t+1]<<8|i[t]},readShort:function(i,t){var e=o._binBE.ui8;return e[0]=i[t+0],e[1]=i[t+1],o._binBE.i16[0]},readInt:function(i,t){var e=o._binBE.ui8;return e[0]=i[t+0],e[1]=i[t+1],e[2]=i[t+2],e[3]=i[t+3],o._binBE.i32[0]},readUint:function(i,t){var e=o._binBE.ui8;return e[0]=i[t+0],e[1]=i[t+1],e[2]=i[t+2],e[3]=i[t+3],o._binBE.ui32[0]},readASCII:o._binBE.readASCII,readFloat:function(i,t){for(var e=o._binBE.ui8,l=0;l<4;l++)e[l]=i[t+l];return o._binBE.fl32[0]},readDouble:function(i,t){for(var e=o._binBE.ui8,l=0;l<8;l++)e[l]=i[t+l];return o._binBE.fl64[0]}},o._copyTile=function(i,t,e,l,h,n,f,a){for(var m=Math.min(t,h-f),g=Math.min(e,n-a),y=0;y<g;y++)for(var E=(a+y)*h+f,S=y*t,A=0;A<m;A++)l[E+A]=i[S+A]}})(c,p)})()}).call(this,_("_process"))},{_process:133,pako:86}],183:[function(_,T,b){(function(x){T.exports=c;function c(v,o){if(p("noDeprecation"))return v;var s=!1;function i(){if(!s){if(p("throwDeprecation"))throw new Error(o);p("traceDeprecation")?console.trace(o):console.warn(o),s=!0}return v.apply(this,arguments)}return i}function p(v){try{if(!x.localStorage)return!1}catch{return!1}var o=x.localStorage[v];return o==null?!1:String(o).toLowerCase()==="true"}}).call(this,typeof yt<"u"?yt:typeof self<"u"?self:typeof C<"u"?C:{})},{}],184:[function(_,T,b){arguments[4][26][0].apply(b,arguments)},{dup:26}],185:[function(_,T,b){arguments[4][27][0].apply(b,arguments)},{dup:27}],186:[function(_,T,b){arguments[4][28][0].apply(b,arguments)},{"./support/isBuffer":185,_process:133,dup:28,inherits:184}],187:[function(_,T,b){var x=_("global/window"),c=_("is-function"),p=_("parse-headers"),v=_("xtend");T.exports=t,T.exports.default=t,t.XMLHttpRequest=x.XMLHttpRequest||h,t.XDomainRequest="withCredentials"in new t.XMLHttpRequest?t.XMLHttpRequest:x.XDomainRequest,o(["get","put","post","patch","head","delete"],function(n){t[n==="delete"?"del":n]=function(f,a,m){return a=i(f,a,m),a.method=n.toUpperCase(),e(a)}});function o(n,f){for(var a=0;a<n.length;a++)f(n[a])}function s(n){for(var f in n)if(n.hasOwnProperty(f))return!1;return!0}function i(n,f,a){var m=n;return c(f)?(a=f,typeof n=="string"&&(m={uri:n})):m=v(f,{uri:n}),m.callback=a,m}function t(n,f,a){return f=i(n,f,a),e(f)}function e(n){if(typeof n.callback>"u")throw new Error("callback argument missing");var f=!1,a=function(ee,le,he){f||(f=!0,n.callback(ee,le,he))};function m(){S.readyState===4&&setTimeout(E,0)}function g(){var Y=void 0;if(S.response?Y=S.response:Y=S.responseText||l(S),V)try{Y=JSON.parse(Y)}catch{}return Y}function y(Y){return clearTimeout(G),Y instanceof Error||(Y=new Error(""+(Y||"Unknown XMLHttpRequest Error"))),Y.statusCode=0,a(Y,U)}function E(){if(!M){var Y;clearTimeout(G),n.useXDR&&S.status===void 0?Y=200:Y=S.status===1223?204:S.status;var ee=U,le=null;return Y!==0?(ee={body:g(),statusCode:Y,method:R,headers:{},url:I,rawRequest:S},S.getAllResponseHeaders&&(ee.headers=p(S.getAllResponseHeaders()))):le=new Error("Internal XMLHttpRequest Error"),a(le,ee,ee.body)}}var S=n.xhr||null;S||(n.cors||n.useXDR?S=new t.XDomainRequest:S=new t.XMLHttpRequest);var A,M,I=S.url=n.uri||n.url,R=S.method=n.method||"GET",H=n.body||n.data,L=S.headers=n.headers||{},j=!!n.sync,V=!1,G,U={body:void 0,headers:{},statusCode:0,method:R,url:I,rawRequest:S};if("json"in n&&n.json!==!1&&(V=!0,L.accept||L.Accept||(L.Accept="application/json"),R!=="GET"&&R!=="HEAD"&&(L["content-type"]||L["Content-Type"]||(L["Content-Type"]="application/json"),H=JSON.stringify(n.json===!0?H:n.json))),S.onreadystatechange=m,S.onload=E,S.onerror=y,S.onprogress=function(){},S.onabort=function(){M=!0},S.ontimeout=y,S.open(R,I,!j,n.username,n.password),j||(S.withCredentials=!!n.withCredentials),!j&&n.timeout>0&&(G=setTimeout(function(){if(!M){M=!0,S.abort("timeout");var Y=new Error("XMLHttpRequest timeout");Y.code="ETIMEDOUT",y(Y)}},n.timeout)),S.setRequestHeader)for(A in L)L.hasOwnProperty(A)&&S.setRequestHeader(A,L[A]);else if(n.headers&&!s(n.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in n&&(S.responseType=n.responseType),"beforeSend"in n&&typeof n.beforeSend=="function"&&n.beforeSend(S),S.send(H||null),S}function l(n){try{if(n.responseType==="document")return n.responseXML;var f=n.responseXML&&n.responseXML.documentElement.nodeName==="parsererror";if(n.responseType===""&&!f)return n.responseXML}catch{}return null}function h(){}},{"global/window":71,"is-function":78,"parse-headers":106,xtend:189}],188:[function(_,T,b){T.exports=function(){return typeof self.DOMParser<"u"?function(c){var p=new self.DOMParser;return p.parseFromString(c,"application/xml")}:typeof self.ActiveXObject<"u"&&new self.ActiveXObject("Microsoft.XMLDOM")?function(c){var p=new self.ActiveXObject("Microsoft.XMLDOM");return p.async="false",p.loadXML(c),p}:function(c){var p=document.createElement("div");return p.innerHTML=c,p}}()},{}],189:[function(_,T,b){T.exports=c;var x=Object.prototype.hasOwnProperty;function c(){for(var p={},v=0;v<arguments.length;v++){var o=arguments[v];for(var s in o)x.call(o,s)&&(p[s]=o[s])}return p}},{}],190:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.srcOver=x,b.dstOver=c,b.multiply=p,b.add=v,b.screen=o,b.overlay=s,b.darken=i,b.lighten=t,b.hardLight=e,b.difference=l,b.exclusion=h;function x(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=(n.r*n.a+f.r*f.a*(1-n.a))/m,y=(n.g*n.a+f.g*f.a*(1-n.a))/m,E=(n.b*n.a+f.b*f.a*(1-n.a))/m;return{r:g,g:y,b:E,a:m}}function c(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=(f.r*f.a+n.r*n.a*(1-f.a))/m,y=(f.g*f.a+n.g*n.a*(1-f.a))/m,E=(f.b*f.a+n.b*n.a*(1-f.a))/m;return{r:g,g:y,b:E,a:m}}function p(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(g*S+g*(1-f.a)+S*(1-n.a))/m,R=(y*A+y*(1-f.a)+A*(1-n.a))/m,H=(E*M+E*(1-f.a)+M*(1-n.a))/m;return{r:I,g:R,b:H,a:m}}function v(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(g+S)/m,R=(y+A)/m,H=(E+M)/m;return{r:I,g:R,b:H,a:m}}function o(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(g*f.a+S*n.a-g*S+g*(1-f.a)+S*(1-n.a))/m,R=(y*f.a+A*n.a-y*A+y*(1-f.a)+A*(1-n.a))/m,H=(E*f.a+M*n.a-E*M+E*(1-f.a)+M*(1-n.a))/m;return{r:I,g:R,b:H,a:m}}function s(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(2*S<=f.a?2*g*S+g*(1-f.a)+S*(1-n.a):g*(1+f.a)+S*(1+n.a)-2*S*g-f.a*n.a)/m,R=(2*A<=f.a?2*y*A+y*(1-f.a)+A*(1-n.a):y*(1+f.a)+A*(1+n.a)-2*A*y-f.a*n.a)/m,H=(2*M<=f.a?2*E*M+E*(1-f.a)+M*(1-n.a):E*(1+f.a)+M*(1+n.a)-2*M*E-f.a*n.a)/m;return{r:I,g:R,b:H,a:m}}function i(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(Math.min(g*f.a,S*n.a)+g*(1-f.a)+S*(1-n.a))/m,R=(Math.min(y*f.a,A*n.a)+y*(1-f.a)+A*(1-n.a))/m,H=(Math.min(E*f.a,M*n.a)+E*(1-f.a)+M*(1-n.a))/m;return{r:I,g:R,b:H,a:m}}function t(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(Math.max(g*f.a,S*n.a)+g*(1-f.a)+S*(1-n.a))/m,R=(Math.max(y*f.a,A*n.a)+y*(1-f.a)+A*(1-n.a))/m,H=(Math.max(E*f.a,M*n.a)+E*(1-f.a)+M*(1-n.a))/m;return{r:I,g:R,b:H,a:m}}function e(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(2*g<=n.a?2*g*S+g*(1-f.a)+S*(1-n.a):g*(1+f.a)+S*(1+n.a)-2*S*g-f.a*n.a)/m,R=(2*y<=n.a?2*y*A+y*(1-f.a)+A*(1-n.a):y*(1+f.a)+A*(1+n.a)-2*A*y-f.a*n.a)/m,H=(2*E<=n.a?2*E*M+E*(1-f.a)+M*(1-n.a):E*(1+f.a)+M*(1+n.a)-2*M*E-f.a*n.a)/m;return{r:I,g:R,b:H,a:m}}function l(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(g+S-2*Math.min(g*f.a,S*n.a))/m,R=(y+A-2*Math.min(y*f.a,A*n.a))/m,H=(E+M-2*Math.min(E*f.a,M*n.a))/m;return{r:I,g:R,b:H,a:m}}function h(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n.a*=a;var m=f.a+n.a-f.a*n.a,g=n.r*n.a,y=n.g*n.a,E=n.b*n.a,S=f.r*f.a,A=f.g*f.a,M=f.b*f.a,I=(g*f.a+S*n.a-2*g*S+g*(1-f.a)+S*(1-n.a))/m,R=(y*f.a+A*n.a-2*y*A+y*(1-f.a)+A*(1-n.a))/m,H=(E*f.a+M*n.a-2*E*M+E*(1-f.a)+M*(1-n.a))/m;return{r:I,g:R,b:H,a:m}}},{}],191:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireWildcard");Object.defineProperty(b,"__esModule",{value:!0}),b.default=o;var c=_("@jimp/utils"),p=x(_("../constants")),v=x(_("./composite-modes"));function o(s,i,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=arguments.length>4?arguments[4]:void 0;if(typeof e=="function"&&(l=e,e={}),!(s instanceof this.constructor))return c.throwError.call(this,"The source must be a Jimp image",l);if(typeof i!="number"||typeof t!="number")return c.throwError.call(this,"x and y must be numbers",l);var h=e,n=h.mode,f=h.opacitySource,a=h.opacityDest;n||(n=p.BLEND_SOURCE_OVER),(typeof f!="number"||f<0||f>1)&&(f=1),(typeof a!="number"||a<0||a>1)&&(a=1);var m=v[n];i=Math.round(i),t=Math.round(t);var g=this;return a!==1&&g.opacity(a),s.scanQuiet(0,0,s.bitmap.width,s.bitmap.height,function(y,E,S){var A=g.getPixelIndex(i+y,t+E,p.EDGE_CROP),M=m({r:this.bitmap.data[S+0]/255,g:this.bitmap.data[S+1]/255,b:this.bitmap.data[S+2]/255,a:this.bitmap.data[S+3]/255},{r:g.bitmap.data[A+0]/255,g:g.bitmap.data[A+1]/255,b:g.bitmap.data[A+2]/255,a:g.bitmap.data[A+3]/255},f);g.bitmap.data[A+0]=this.constructor.limit255(M.r*255),g.bitmap.data[A+1]=this.constructor.limit255(M.g*255),g.bitmap.data[A+2]=this.constructor.limit255(M.b*255),g.bitmap.data[A+3]=this.constructor.limit255(M.a*255)}),(0,c.isNodePattern)(l)&&l.call(this,null,this),this}T.exports=b.default},{"../constants":192,"./composite-modes":190,"@babel/runtime/helpers/interopRequireWildcard":12,"@jimp/utils":235}],192:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.EDGE_CROP=b.EDGE_WRAP=b.EDGE_EXTEND=b.BLEND_EXCLUSION=b.BLEND_DIFFERENCE=b.BLEND_HARDLIGHT=b.BLEND_LIGHTEN=b.BLEND_DARKEN=b.BLEND_OVERLAY=b.BLEND_SCREEN=b.BLEND_ADD=b.BLEND_MULTIPLY=b.BLEND_DESTINATION_OVER=b.BLEND_SOURCE_OVER=b.VERTICAL_ALIGN_BOTTOM=b.VERTICAL_ALIGN_MIDDLE=b.VERTICAL_ALIGN_TOP=b.HORIZONTAL_ALIGN_RIGHT=b.HORIZONTAL_ALIGN_CENTER=b.HORIZONTAL_ALIGN_LEFT=b.AUTO=void 0;var x=-1;b.AUTO=x;var c=1;b.HORIZONTAL_ALIGN_LEFT=c;var p=2;b.HORIZONTAL_ALIGN_CENTER=p;var v=4;b.HORIZONTAL_ALIGN_RIGHT=v;var o=8;b.VERTICAL_ALIGN_TOP=o;var s=16;b.VERTICAL_ALIGN_MIDDLE=s;var i=32;b.VERTICAL_ALIGN_BOTTOM=i;var t="srcOver";b.BLEND_SOURCE_OVER=t;var e="dstOver";b.BLEND_DESTINATION_OVER=e;var l="multiply";b.BLEND_MULTIPLY=l;var h="add";b.BLEND_ADD=h;var n="screen";b.BLEND_SCREEN=n;var f="overlay";b.BLEND_OVERLAY=f;var a="darken";b.BLEND_DARKEN=a;var m="lighten";b.BLEND_LIGHTEN=m;var g="hardLight";b.BLEND_HARDLIGHT=g;var y="difference";b.BLEND_DIFFERENCE=y;var E="exclusion";b.BLEND_EXCLUSION=E;var S=1;b.EDGE_EXTEND=S;var A=2;b.EDGE_WRAP=A;var M=3;b.EDGE_CROP=M},{}],193:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireWildcard"),p=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.addConstants=xe,b.addJimpMethods=Ie,b.jimpEvMethod=me,b.jimpEvChange=ve,Object.defineProperty(b,"addType",{enumerable:!0,get:function(){return j.addType}}),b.default=void 0;for(var v=p(_("@babel/runtime/helpers/construct")),o=p(_("@babel/runtime/helpers/slicedToArray")),s=p(_("@babel/runtime/helpers/classCallCheck")),i=p(_("@babel/runtime/helpers/createClass")),t=p(_("@babel/runtime/helpers/possibleConstructorReturn")),e=p(_("@babel/runtime/helpers/getPrototypeOf")),l=p(_("@babel/runtime/helpers/assertThisInitialized")),h=p(_("@babel/runtime/helpers/inherits")),n=p(_("@babel/runtime/helpers/defineProperty")),f=p(_("@babel/runtime/helpers/typeof")),a=p(_("fs")),m=p(_("path")),g=p(_("events")),y=_("@jimp/utils"),E=p(_("any-base")),S=p(_("mkdirp")),A=p(_("pixelmatch")),M=p(_("tinycolor2")),I=p(_("./modules/phash")),R=p(_("./request")),H=p(_("./composite")),L=p(_("./utils/promisify")),j=c(_("./utils/mime")),V=_("./utils/image-bitmap"),G=c(_("./constants")),U="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",Y=[NaN,NaN],ee=2;ee<65;ee++){var le=(0,E.default)(E.default.BIN,U.slice(0,ee))(new Array(65).join("1"));Y.push(le.length)}function he(){}function oe(fe){return Object.prototype.toString.call(fe).toLowerCase().indexOf("arraybuffer")>-1}function q(fe){for(var J=x.alloc(fe.byteLength),z=new Uint8Array(fe),B=0;B<J.length;++B)J[B]=z[B];return J}function K(fe,J){(0,R.default)(fe,function(z,B,F){if(z)return J(z);if("headers"in B&&"location"in B.headers)return fe.url=B.headers.location,K(fe,J);if((0,f.default)(F)==="object"&&x.isBuffer(F))return J(null,F);var Z="Could not load Buffer from <"+fe.url+"> (HTTP: "+B.statusCode+")";return new Error(Z)})}function Q(fe,J){a.default&&typeof a.default.readFile=="function"&&!fe.match(/^(http|ftp)s?:\/\/./)?a.default.readFile(fe,J):K({url:fe},J)}function te(fe){return fe&&(0,f.default)(fe)==="object"&&typeof fe.width=="number"&&typeof fe.height=="number"&&(x.isBuffer(fe.data)||fe.data instanceof Uint8Array||typeof Uint8ClampedArray=="function"&&fe.data instanceof Uint8ClampedArray)&&(fe.data.length===fe.width*fe.height*4||fe.data.length===fe.width*fe.height*3)}function ce(fe){if(fe.length%3!==0)throw new Error("Buffer length is incorrect");for(var J=x.allocUnsafe(fe.length/3*4),z=0,B=0;B<fe.length;B++)J[z]=fe[B],(B+1)%3===0&&(J[++z]=255),z++;return J}var we={data:null,width:null,height:null},be=function(fe){(0,h.default)(J,fe);function J(){for(var z,B=arguments.length,F=new Array(B),Z=0;Z<B;Z++)F[Z]=arguments[Z];(0,s.default)(this,J),z=(0,t.default)(this,(0,e.default)(J).call(this)),(0,n.default)((0,l.default)(z),"bitmap",we),(0,n.default)((0,l.default)(z),"_background",0),(0,n.default)((0,l.default)(z),"_originalMime",J.MIME_PNG),(0,n.default)((0,l.default)(z),"_exif",null),(0,n.default)((0,l.default)(z),"_rgba",!0),(0,n.default)((0,l.default)(z),"writeAsync",function(Ve){return(0,L.default)(z.write,(0,l.default)(z),Ve)}),(0,n.default)((0,l.default)(z),"getBase64Async",function(Ve){return(0,L.default)(z.getBase64,(0,l.default)(z),Ve)}),(0,n.default)((0,l.default)(z),"getBuffer",V.getBuffer),(0,n.default)((0,l.default)(z),"getBufferAsync",V.getBufferAsync),(0,n.default)((0,l.default)(z),"getPixelColour",z.getPixelColor),(0,n.default)((0,l.default)(z),"setPixelColour",z.setPixelColor);var D=(0,l.default)(z),O=he;oe(F[0])&&(F[0]=q(F[0]));function ie(){for(var Ve=arguments.length,W=new Array(Ve),Se=0;Se<Ve;Se++)W[Se]=arguments[Se];var Ae=W[0],ke=Ae||{};ke.methodName="constructor",setTimeout(function(){var Pe;Ae&&O===he?D.emitError("constructor",Ae):Ae||D.emitMulti("constructor","initialized"),(Pe=O).call.apply(Pe,[D].concat(W))},1)}if(typeof F[0]=="number"&&typeof F[1]=="number"||parseInt(F[0],10)&&parseInt(F[1],10)){var ge=parseInt(F[0],10),Me=parseInt(F[1],10);if(O=F[2],typeof F[2]=="number"&&(z._background=F[2],O=F[3]),typeof F[2]=="string"&&(z._background=J.cssColorToHex(F[2]),O=F[3]),typeof O>"u"&&(O=he),typeof O!="function")return(0,t.default)(z,y.throwError.call((0,l.default)(z),"cb must be a function",ie));z.bitmap={data:x.alloc(ge*Me*4),width:ge,height:Me};for(var Le=0;Le<z.bitmap.data.length;Le+=4)z.bitmap.data.writeUInt32BE(z._background,Le);ie(null,(0,l.default)(z))}else if((0,f.default)(F[0])==="object"&&F[0].url){if(O=F[1]||he,typeof O!="function")return(0,t.default)(z,y.throwError.call((0,l.default)(z),"cb must be a function",ie));K(F[0],function(Ve,W){if(Ve)return y.throwError.call((0,l.default)(z),Ve,ie);z.parseBitmap(W,F[0].url,ie)})}else if(F[0]instanceof J){var ze=F[0];if(O=F[1],typeof O>"u"&&(O=he),typeof O!="function")return(0,t.default)(z,y.throwError.call((0,l.default)(z),"cb must be a function",ie));z.bitmap={data:x.from(ze.bitmap.data),width:ze.bitmap.width,height:ze.bitmap.height},z._quality=ze._quality,z._deflateLevel=ze._deflateLevel,z._deflateStrategy=ze._deflateStrategy,z._filterType=ze._filterType,z._rgba=ze._rgba,z._background=ze._background,z._originalMime=ze._originalMime,ie(null,(0,l.default)(z))}else if(te(F[0])){var qe=F[0];O=F[1]||he;var Ge=qe.width*qe.height*4===qe.data.length,je=Ge?x.from(qe.data):ce(qe.data);z.bitmap={data:je,width:qe.width,height:qe.height},ie(null,(0,l.default)(z))}else if(typeof F[0]=="string"){var We=F[0];if(O=F[1],typeof O>"u"&&(O=he),typeof O!="function")return(0,t.default)(z,y.throwError.call((0,l.default)(z),"cb must be a function",ie));Q(We,function(Ve,W){if(Ve)return y.throwError.call((0,l.default)(z),Ve,ie);z.parseBitmap(W,We,ie)})}else if((0,f.default)(F[0])==="object"&&x.isBuffer(F[0])){var He=F[0];if(O=F[1],typeof O!="function")return(0,t.default)(z,y.throwError.call((0,l.default)(z),"cb must be a function",ie));z.parseBitmap(He,null,ie)}else{O=F[F.length-1],typeof O!="function"&&(O=F[F.length-2],typeof O!="function"&&(O=he));var tt=J.__extraConstructors.find(function(Ve){return Ve.test.apply(Ve,F)});if(tt)new Promise(function(Ve,W){var Se;return(Se=tt.run).call.apply(Se,[(0,l.default)(z),Ve,W].concat(F))}).then(function(){return ie(null,(0,l.default)(z))}).catch(ie);else return(0,t.default)(z,y.throwError.call((0,l.default)(z),"No matching constructor overloading was found. Please see the docs for how to call the Jimp constructor.",ie))}return z}return(0,i.default)(J,[{key:"parseBitmap",value:function(B,F,Z){V.parseBitmap.call(this,B,null,Z)}},{key:"rgba",value:function(B,F){return typeof B!="boolean"?y.throwError.call(this,"bool must be a boolean, true for RGBA or false for RGB",F):(this._rgba=B,(0,y.isNodePattern)(F)&&F.call(this,null,this),this)}},{key:"emitMulti",value:function(B,F){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Z=Object.assign(Z,{methodName:B,eventName:F}),this.emit("any",Z),B&&this.emit(B,Z),this.emit(F,Z)}},{key:"emitError",value:function(B,F){this.emitMulti(B,"error",F)}},{key:"getHeight",value:function(){return this.bitmap.height}},{key:"getWidth",value:function(){return this.bitmap.width}},{key:"inspect",value:function(){return"<Jimp "+(this.bitmap===we?"pending...":this.bitmap.width+"x"+this.bitmap.height)+">"}},{key:"toString",value:function(){return"[object Jimp]"}},{key:"getMIME",value:function(){var B=this._originalMime||J.MIME_PNG;return B}},{key:"getExtension",value:function(){var B=this.getMIME();return j.getExtension(B)}},{key:"write",value:function(B,F){var Z=this;if(!a.default||!a.default.createWriteStream)throw new Error("Cant access the filesystem. You can use the getBase64 method.");if(typeof B!="string")return y.throwError.call(this,"path must be a string",F);if(typeof F>"u"&&(F=he),typeof F!="function")return y.throwError.call(this,"cb must be a function",F);var D=j.getType(B)||this.getMIME(),O=m.default.parse(B);return O.dir&&S.default.sync(O.dir),this.getBuffer(D,function(ie,ge){if(ie)return y.throwError.call(Z,ie,F);var Me=a.default.createWriteStream(B);Me.on("open",function(){Me.write(ge),Me.end()}).on("error",function(Le){return y.throwError.call(Z,Le,F)}),Me.on("finish",function(){F.call(Z,null,Z)})}),this}},{key:"getBase64",value:function(B,F){return B===J.AUTO&&(B=this.getMIME()),typeof B!="string"?y.throwError.call(this,"mime must be a string",F):typeof F!="function"?y.throwError.call(this,"cb must be a function",F):(this.getBuffer(B,function(Z,D){if(Z)return y.throwError.call(this,Z,F);var O="data:"+B+";base64,"+D.toString("base64");F.call(this,null,O)}),this)}},{key:"hash",value:function(B,F){if(B=B||64,typeof B=="function"&&(F=B,B=64),typeof B!="number")return y.throwError.call(this,"base must be a number",F);if(B<2||B>64)return y.throwError.call(this,"base must be a number between 2 and 64",F);var Z=this.pHash();for(Z=(0,E.default)(E.default.BIN,U.slice(0,B))(Z);Z.length<Y[B];)Z="0"+Z;return(0,y.isNodePattern)(F)&&F.call(this,null,Z),Z}},{key:"pHash",value:function(){var B=new I.default;return B.getHash(this)}},{key:"distanceFromHash",value:function(B){var F=new I.default,Z=F.getHash(this);return F.distance(Z,B)}},{key:"getPixelIndex",value:function(B,F,Z,D){var O,ie;if(typeof Z=="function"&&typeof D>"u"&&(D=Z,Z=null),Z||(Z=J.EDGE_EXTEND),typeof B!="number"||typeof F!="number")return y.throwError.call(this,"x and y must be numbers",D);B=Math.round(B),F=Math.round(F),O=B,ie=F,Z===J.EDGE_EXTEND&&(B<0&&(O=0),B>=this.bitmap.width&&(O=this.bitmap.width-1),F<0&&(ie=0),F>=this.bitmap.height&&(ie=this.bitmap.height-1)),Z===J.EDGE_WRAP&&(B<0&&(O=this.bitmap.width+B),B>=this.bitmap.width&&(O=B%this.bitmap.width),F<0&&(O=this.bitmap.height+F),F>=this.bitmap.height&&(ie=F%this.bitmap.height));var ge=this.bitmap.width*ie+O<<2;return(O<0||O>=this.bitmap.width)&&(ge=-1),(ie<0||ie>=this.bitmap.height)&&(ge=-1),(0,y.isNodePattern)(D)&&D.call(this,null,ge),ge}},{key:"getPixelColor",value:function(B,F,Z){if(typeof B!="number"||typeof F!="number")return y.throwError.call(this,"x and y must be numbers",Z);B=Math.round(B),F=Math.round(F);var D=this.getPixelIndex(B,F),O=this.bitmap.data.readUInt32BE(D);return(0,y.isNodePattern)(Z)&&Z.call(this,null,O),O}},{key:"setPixelColor",value:function(B,F,Z,D){if(typeof B!="number"||typeof F!="number"||typeof Z!="number")return y.throwError.call(this,"hex, x and y must be numbers",D);F=Math.round(F),Z=Math.round(Z);var O=this.getPixelIndex(F,Z);return this.bitmap.data.writeUInt32BE(B,O),(0,y.isNodePattern)(D)&&D.call(this,null,this),this}},{key:"hasAlpha",value:function(){for(var B=0;B<this.bitmap.height;B++)for(var F=0;F<this.bitmap.width;F++){var Z=this.bitmap.width*B+F<<2,D=this.bitmap.data[Z+3];if(D!==255)return!0}return!1}},{key:"scanIterator",value:function(B,F,Z,D){return typeof B!="number"||typeof F!="number"?y.throwError.call(this,"x and y must be numbers"):typeof Z!="number"||typeof D!="number"?y.throwError.call(this,"w and h must be numbers"):(0,y.scanIterator)(this,B,F,Z,D)}}]),J}(g.default);function xe(fe){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be;Object.entries(fe).forEach(function(z){var B=(0,o.default)(z,2),F=B[0],Z=B[1];J[F]=Z})}function Ie(fe){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:be;Object.entries(fe).forEach(function(z){var B=(0,o.default)(z,2),F=B[0],Z=B[1];J.prototype[F]=Z})}xe(G),Ie({composite:H.default}),be.__extraConstructors=[],be.appendConstructorOption=function(fe,J,z){be.__extraConstructors.push({name:fe,test:J,run:z})},be.read=function(){for(var fe=arguments.length,J=new Array(fe),z=0;z<fe;z++)J[z]=arguments[z];return new Promise(function(B,F){(0,v.default)(be,J.concat([function(Z,D){Z?F(Z):B(D)}]))})},be.create=be.read,be.rgbaToInt=function(fe,J,z,B,F){if(typeof fe!="number"||typeof J!="number"||typeof z!="number"||typeof B!="number")return y.throwError.call(this,"r, g, b and a must be numbers",F);if(fe<0||fe>255)return y.throwError.call(this,"r must be between 0 and 255",F);if((J<0||J>255)&&y.throwError.call(this,"g must be between 0 and 255",F),z<0||z>255)return y.throwError.call(this,"b must be between 0 and 255",F);if(B<0||B>255)return y.throwError.call(this,"a must be between 0 and 255",F);fe=Math.round(fe),z=Math.round(z),J=Math.round(J),B=Math.round(B);var Z=fe*Math.pow(256,3)+J*Math.pow(256,2)+z*Math.pow(256,1)+B*Math.pow(256,0);return(0,y.isNodePattern)(F)&&F.call(this,null,Z),Z},be.intToRGBA=function(fe,J){if(typeof fe!="number")return y.throwError.call(this,"i must be a number",J);var z={};return z.r=Math.floor(fe/Math.pow(256,3)),z.g=Math.floor((fe-z.r*Math.pow(256,3))/Math.pow(256,2)),z.b=Math.floor((fe-z.r*Math.pow(256,3)-z.g*Math.pow(256,2))/Math.pow(256,1)),z.a=Math.floor((fe-z.r*Math.pow(256,3)-z.g*Math.pow(256,2)-z.b*Math.pow(256,1))/Math.pow(256,0)),(0,y.isNodePattern)(J)&&J.call(this,null,z),z},be.cssColorToHex=function(fe){return fe=fe||0,typeof fe=="number"?Number(fe):parseInt((0,M.default)(fe).toHex8(),16)},be.limit255=function(fe){return fe=Math.max(fe,0),fe=Math.min(fe,255),fe},be.diff=function(fe,J){var z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:.1;if(!(fe instanceof be)||!(J instanceof be))return y.throwError.call(this,"img1 and img2 must be an Jimp images");var B=fe.bitmap,F=J.bitmap;if((B.width!==F.width||B.height!==F.height)&&(B.width*B.height>F.width*F.height?fe=fe.cloneQuiet().resize(F.width,F.height):J=J.cloneQuiet().resize(B.width,B.height)),typeof z!="number"||z<0||z>1)return y.throwError.call(this,"threshold must be a number between 0 and 1");var Z=new be(B.width,B.height,4294967295),D=(0,A.default)(B.data,F.data,Z.bitmap.data,Z.bitmap.width,Z.bitmap.height,{threshold:z});return{percent:D/(Z.bitmap.width*Z.bitmap.height),image:Z}},be.distance=function(fe,J){var z=new I.default,B=z.getHash(fe),F=z.getHash(J);return z.distance(B,F)},be.compareHashes=function(fe,J){var z=new I.default;return z.distance(fe,J)},be.colorDiff=function(fe,J){var z=function(D){return Math.pow(D,2)},B=Math.max,F=255*255*3;return fe.a!==0&&!fe.a&&(fe.a=255),J.a!==0&&!J.a&&(J.a=255),(B(z(fe.r-J.r),z(fe.r-J.r-fe.a+J.a))+B(z(fe.g-J.g),z(fe.g-J.g-fe.a+J.a))+B(z(fe.b-J.b),z(fe.b-J.b-fe.a+J.a)))/F};function me(fe,J,z){var B="before-"+J,F=J.replace(/e$/,"")+"ed";be.prototype[fe]=function(){for(var Z,D=arguments.length,O=new Array(D),ie=0;ie<D;ie++)O[ie]=arguments[ie];var ge=O[z.length-1],Me=this;typeof ge=="function"?(Z=function(){for(var qe=arguments.length,Ge=new Array(qe),je=0;je<qe;je++)Ge[je]=arguments[je];var We=Ge[0],He=Ge[1];We?Me.emitError(fe,We):Me.emitMulti(fe,F,(0,n.default)({},fe,He)),ge.apply(this,Ge)},O[O.length-1]=Z):Z=!1,this.emitMulti(fe,B);var Le;try{Le=z.apply(this,O),Z||this.emitMulti(fe,F,(0,n.default)({},fe,Le))}catch(ze){ze.methodName=fe,this.emitError(fe,ze)}return Le},be.prototype[fe+"Quiet"]=z}me("clone","clone",function(fe){var J=new be(this);return(0,y.isNodePattern)(fe)&&fe.call(J,null,J),J});function ve(fe,J){me(fe,"change",J)}ve("background",function(fe,J){return typeof fe!="number"?y.throwError.call(this,"hex must be a hexadecimal rgba value",J):(this._background=fe,(0,y.isNodePattern)(J)&&J.call(this,null,this),this)}),ve("scan",function(fe,J,z,B,F,Z){if(typeof fe!="number"||typeof J!="number")return y.throwError.call(this,"x and y must be numbers",Z);if(typeof z!="number"||typeof B!="number")return y.throwError.call(this,"w and h must be numbers",Z);if(typeof F!="function")return y.throwError.call(this,"f must be a function",Z);var D=(0,y.scan)(this,fe,J,z,B,F);return(0,y.isNodePattern)(Z)&&Z.call(this,null,D),D});{var re;typeof C<"u"&&(typeof C>"u"?"undefined":(0,f.default)(C))==="object"&&(re=C),typeof self<"u"&&(typeof self>"u"?"undefined":(0,f.default)(self))==="object"&&(re=self),re.Jimp=be,re.Buffer=x}var se=be;b.default=se}).call(this,_("buffer").Buffer)},{"./composite":191,"./constants":192,"./modules/phash":194,"./request":195,"./utils/image-bitmap":196,"./utils/mime":197,"./utils/promisify":198,"@babel/runtime/helpers/assertThisInitialized":3,"@babel/runtime/helpers/classCallCheck":4,"@babel/runtime/helpers/construct":5,"@babel/runtime/helpers/createClass":6,"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/getPrototypeOf":9,"@babel/runtime/helpers/inherits":10,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/possibleConstructorReturn":17,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"any-base":23,buffer:48,events:52,fs:47,mkdirp:83,path:107,pixelmatch:109,tinycolor2:178}],194:[function(_,T,b){function x(s,i){this.size=this.size||s,this.smallerSize=this.smallerSize||i,v(this.size)}x.prototype.size=32,x.prototype.smallerSize=8,x.prototype.distance=function(s,i){for(var t=0,e=0;e<s.length;e++)s[e]!==i[e]&&t++;return t/s.length},x.prototype.getHash=function(s){s=s.clone().resize(this.size,this.size),s.grayscale();for(var i=[],t=0;t<s.bitmap.width;t++){i[t]=[];for(var e=0;e<s.bitmap.height;e++)i[t][e]=c(s.getPixelColor(t,e)).b}for(var l=o(i,this.size),h=0,n=0;n<this.smallerSize;n++)for(var f=0;f<this.smallerSize;f++)h+=l[n][f];for(var a=h/(this.smallerSize*this.smallerSize),m="",g=0;g<this.smallerSize;g++)for(var y=0;y<this.smallerSize;y++)m+=l[g][y]>a?"1":"0";return m};function c(s){var i={};return i.r=Math.floor(s/Math.pow(256,3)),i.g=Math.floor((s-i.r*Math.pow(256,3))/Math.pow(256,2)),i.b=Math.floor((s-i.r*Math.pow(256,3)-i.g*Math.pow(256,2))/Math.pow(256,1)),i.a=Math.floor((s-i.r*Math.pow(256,3)-i.g*Math.pow(256,2)-i.b*Math.pow(256,1))/Math.pow(256,0)),i}var p=[];function v(s){for(var i=1;i<s;i++)p[i]=1;p[0]=1/Math.sqrt(2)}function o(s,i){for(var t=i,e=[],l=0;l<t;l++){e[l]=[];for(var h=0;h<t;h++){for(var n=0,f=0;f<t;f++)for(var a=0;a<t;a++)n+=Math.cos((2*f+1)/(2*t)*l*Math.PI)*Math.cos((2*a+1)/(2*t)*h*Math.PI)*s[f][a];n*=p[l]*p[h]/4,e[l][h]=n}}return e}T.exports=x},{}],195:[function(_,T,b){(function(x,c){var p=_("@babel/runtime/helpers/interopRequireDefault"),v=p(_("@babel/runtime/helpers/defineProperty")),o=p(_("@babel/runtime/helpers/extends"));function s(t,e){var l=Object.keys(t);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(t);e&&(h=h.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),l.push.apply(l,h)}return l}function i(t){for(var e=1;e<arguments.length;e++){var l=arguments[e]!=null?arguments[e]:{};e%2?s(l,!0).forEach(function(h){(0,v.default)(t,h,l[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(l)):s(l).forEach(function(h){Object.defineProperty(t,h,Object.getOwnPropertyDescriptor(l,h))})}return t}x.browser,T.exports=function(t,e){var l=new XMLHttpRequest;l.open("GET",t.url,!0),l.responseType="arraybuffer",l.addEventListener("load",function(){if(l.status<400)try{var h=c.from(this.response);e(null,l,h)}catch(n){return e(new Error("Response is not a buffer for url "+t.url+". Error: "+n.message))}else e(new Error("HTTP Status "+l.status+" for url "+t.url))}),l.addEventListener("error",function(h){e(h)}),l.send()}}).call(this,_("_process"),_("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/extends":8,"@babel/runtime/helpers/interopRequireDefault":11,_process:133,buffer:48,phin:108}],196:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireWildcard"),p=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.parseBitmap=g,b.getBuffer=E,b.getBufferAsync=S;var v=p(_("@babel/runtime/helpers/slicedToArray")),o=p(_("file-type")),s=p(_("exif-parser")),i=_("@jimp/utils"),t=c(_("../constants")),e=c(_("./mime")),l=p(_("./promisify"));function h(A,M){var I=(0,o.default)(A);return I?I.mime:M?e.getType(M):null}function n(A){return A._exif&&A._exif.tags&&A._exif.tags.Orientation||1}function f(A){var M=A.getWidth(),I=A.getHeight();switch(n(A)){case 1:return null;case 2:return function(R,H){return[M-R-1,H]};case 3:return function(R,H){return[M-R-1,I-H-1]};case 4:return function(R,H){return[R,I-H-1]};case 5:return function(R,H){return[H,R]};case 6:return function(R,H){return[H,I-R-1]};case 7:return function(R,H){return[M-H-1,I-R-1]};case 8:return function(R,H){return[M-H-1,R]};default:return null}}function a(A,M,I,R){for(var H=A.bitmap.data,L=A.bitmap.width,j=x.alloc(H.length),V=0;V<M;V++)for(var G=0;G<I;G++){var U=R(V,G),Y=(0,v.default)(U,2),ee=Y[0],le=Y[1],he=M*G+V<<2,oe=L*le+ee<<2,q=H.readUInt32BE(oe);j.writeUInt32BE(q,he)}A.bitmap.data=j,A.bitmap.width=M,A.bitmap.height=I}function m(A){if(!(n(A)<2)){var M=f(A),I=n(A)>4,R=I?A.bitmap.height:A.bitmap.width,H=I?A.bitmap.width:A.bitmap.height;a(A,R,H,M)}}function g(A,M,I){var R=h(A,M);if(typeof R!="string")return I(new Error("Could not find MIME for Buffer <"+M+">"));this._originalMime=R.toLowerCase();try{var H=this.getMIME();if(this.constructor.decoders[H])this.bitmap=this.constructor.decoders[H](A);else return i.throwError.call(this,"Unsupported MIME type: "+H,I)}catch(L){return I.call(this,L,this)}try{this._exif=s.default.create(A).parse(),m(this)}catch{}return I.call(this,null,this),this}function y(A,M){return new A(M.bitmap.width,M.bitmap.height,M._background).composite(M,0,0).bitmap}function E(A,M){if(A===t.AUTO&&(A=this.getMIME()),typeof A!="string")return i.throwError.call(this,"mime must be a string",M);if(typeof M!="function")return i.throwError.call(this,"cb must be a function",M);if(A=A.toLowerCase(),this._rgba&&this.constructor.hasAlpha[A]?this.bitmap.data=x.from(this.bitmap.data):this.bitmap.data=y(this.constructor,this).data,this.constructor.encoders[A]){var I=this.constructor.encoders[A](this);M.call(this,null,I)}else M.call(this,"Unsupported MIME type: "+A);return this}function S(A){return(0,l.default)(E,this,A)}}).call(this,_("buffer").Buffer)},{"../constants":192,"./mime":197,"./promisify":198,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@jimp/utils":235,buffer:48,"exif-parser":53,"file-type":62}],197:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.getExtension=b.getType=b.addType=void 0;var x={},c=function(i){return Object.entries(x).find(function(t){return t[1].includes(i)})||[]},p=function(i,t){x[i]=t};b.addType=p;var v=function(i){var t=i.split("/").slice(-1),e=t[t.length-1].split(".").pop(),l=c(e);return l[0]};b.getType=v;var o=function(i){return(x[i.toLowerCase()]||[])[0]};b.getExtension=o},{}],198:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=function(v,o){for(var s=arguments.length,i=new Array(s>2?s-2:0),t=2;t<s;t++)i[t-2]=arguments[t];return new Promise(function(e,l){i.push(function(h,n){h&&l(h),e(n)}),v.bind(o).apply(void 0,i)})},c=x;b.default=c,T.exports=b.default},{}],199:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireWildcard"),c=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=e;var p=c(_("@babel/runtime/helpers/toConsumableArray")),v=c(_("@babel/runtime/helpers/defineProperty")),o=c(_("@babel/runtime/helpers/slicedToArray")),s=x(_("@jimp/core"));function i(l,h){var n=Object.keys(l);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(l);h&&(f=f.filter(function(a){return Object.getOwnPropertyDescriptor(l,a).enumerable})),n.push.apply(n,f)}return n}function t(l){for(var h=1;h<arguments.length;h++){var n=arguments[h]!=null?arguments[h]:{};h%2?i(n,!0).forEach(function(f){(0,v.default)(l,f,n[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(n)):i(n).forEach(function(f){Object.defineProperty(l,f,Object.getOwnPropertyDescriptor(n,f))})}return l}function e(l){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s.default,n={hasAlpha:{},encoders:{},decoders:{},class:{},constants:{}};function f(g){Object.entries(g).forEach(function(y){var E=(0,o.default)(y,2),S=E[0],A=E[1];n[S]=t({},n[S],{},A)})}function a(g){var y=g();Array.isArray(y.mime)?s.addType.apply(void 0,(0,p.default)(y.mime)):Object.entries(y.mime).forEach(function(E){return s.addType.apply(void 0,(0,p.default)(E))}),delete y.mime,f(y)}function m(g){var y=g(s.jimpEvChange)||{};!y.class&&!y.constants?f({class:y}):f(y)}return l.types&&(l.types.forEach(a),h.decoders=t({},h.decoders,{},n.decoders),h.encoders=t({},h.encoders,{},n.encoders),h.hasAlpha=t({},h.hasAlpha,{},n.hasAlpha)),l.plugins&&l.plugins.forEach(m),(0,s.addJimpMethods)(n.class,h),(0,s.addConstants)(n.constants,h),s.default}T.exports=b.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/interopRequireWildcard":12,"@babel/runtime/helpers/slicedToArray":19,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/core":193}],200:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=x(_("@jimp/custom")),p=x(_("@jimp/types")),v=x(_("@jimp/plugins")),o=(0,c.default)({types:[p.default],plugins:[v.default]});b.default=o,T.exports=b.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/custom":199,"@jimp/plugins":228,"@jimp/types":234}],201:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=x(_("@babel/runtime/helpers/typeof")),p=_("@jimp/utils"),v=function(){return{blit:function(i,t,e,l,h,n,f,a){if(!(i instanceof this.constructor))return p.throwError.call(this,"The source must be a Jimp image",a);if(typeof t!="number"||typeof e!="number")return p.throwError.call(this,"x and y must be numbers",a);if(typeof l=="function")a=l,l=0,h=0,n=i.bitmap.width,f=i.bitmap.height;else if((0,c.default)(l)===(0,c.default)(h)&&(0,c.default)(h)===(0,c.default)(n)&&(0,c.default)(n)===(0,c.default)(f))l=l||0,h=h||0,n=n||i.bitmap.width,f=f||i.bitmap.height;else return p.throwError.call(this,"srcx, srcy, srcw, srch must be numbers",a);t=Math.round(t),e=Math.round(e),l=Math.round(l),h=Math.round(h),n=Math.round(n),f=Math.round(f);var m=this.bitmap.width,g=this.bitmap.height,y=this;return i.scanQuiet(l,h,n,f,function(E,S,A){var M=t+E-l,I=e+S-h;if(M>=0&&I>=0&&m-M>0&&g-I>0){var R=y.getPixelIndex(M,I),H={r:this.bitmap.data[A],g:this.bitmap.data[A+1],b:this.bitmap.data[A+2],a:this.bitmap.data[A+3]},L={r:y.bitmap.data[R],g:y.bitmap.data[R+1],b:y.bitmap.data[R+2],a:y.bitmap.data[R+3]};y.bitmap.data[R]=(H.a*(H.r-L.r)-L.r+255>>8)+L.r,y.bitmap.data[R+1]=(H.a*(H.g-L.g)-L.g+255>>8)+L.g,y.bitmap.data[R+2]=(H.a*(H.b-L.b)-L.b+255>>8)+L.b,y.bitmap.data[R+3]=this.constructor.limit255(L.a+H.a)}}),(0,p.isNodePattern)(a)&&a.call(this,null,this),this}}};b.default=v,T.exports=b.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],202:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.shgTable=b.mulTable=void 0;var x=[1,57,41,21,203,34,97,73,227,91,149,62,105,45,39,137,241,107,3,173,39,71,65,238,219,101,187,87,81,151,141,133,249,117,221,209,197,187,177,169,5,153,73,139,133,127,243,233,223,107,103,99,191,23,177,171,165,159,77,149,9,139,135,131,253,245,119,231,224,109,211,103,25,195,189,23,45,175,171,83,81,79,155,151,147,9,141,137,67,131,129,251,123,30,235,115,113,221,217,53,13,51,50,49,193,189,185,91,179,175,43,169,83,163,5,79,155,19,75,147,145,143,35,69,17,67,33,65,255,251,247,243,239,59,29,229,113,111,219,27,213,105,207,51,201,199,49,193,191,47,93,183,181,179,11,87,43,85,167,165,163,161,159,157,155,77,19,75,37,73,145,143,141,35,138,137,135,67,33,131,129,255,63,250,247,61,121,239,237,117,29,229,227,225,111,55,109,216,213,211,209,207,205,203,201,199,197,195,193,48,190,47,93,185,183,181,179,178,176,175,173,171,85,21,167,165,41,163,161,5,79,157,78,154,153,19,75,149,74,147,73,144,143,71,141,140,139,137,17,135,134,133,66,131,65,129,1];b.mulTable=x;var c=[0,9,10,10,14,12,14,14,16,15,16,15,16,15,15,17,18,17,12,18,16,17,17,19,19,18,19,18,18,19,19,19,20,19,20,20,20,20,20,20,15,20,19,20,20,20,21,21,21,20,20,20,21,18,21,21,21,21,20,21,17,21,21,21,22,22,21,22,22,21,22,21,19,22,22,19,20,22,22,21,21,21,22,22,22,18,22,22,21,22,22,23,22,20,23,22,22,23,23,21,19,21,21,21,23,23,23,22,23,23,21,23,22,23,18,22,23,20,22,23,23,23,21,22,20,22,21,22,24,24,24,24,24,22,21,24,23,23,24,21,24,23,24,22,24,24,22,24,24,22,23,24,24,24,20,23,22,23,24,24,24,24,24,24,24,23,21,23,22,23,24,24,24,22,24,24,24,23,22,24,24,25,23,25,25,23,24,25,25,24,22,25,25,25,24,23,24,25,25,25,25,25,25,25,25,25,25,25,25,23,25,23,24,25,25,25,25,25,25,25,25,25,24,22,25,25,23,25,25,20,24,25,24,25,25,22,24,25,24,25,24,25,25,24,25,25,25,25,22,25,25,25,24,25,24,25,18];b.shgTable=c},{}],203:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=_("./blur-tables"),p=function(){return{blur:function(s,i){if(typeof s!="number")return x.throwError.call(this,"r must be a number",i);if(s<1)return x.throwError.call(this,"r must be greater than 0",i);for(var t,e,l,h,n,f,a,m,g,y,E,S,A,M,I=this.bitmap.width-1,R=this.bitmap.height-1,H=s+1,L=c.mulTable[s],j=c.shgTable[s],V=[],G=[],U=[],Y=[],ee=[],le=[],he=2;he-- >0;){for(S=0,A=0,f=0;f<this.bitmap.height;f++){for(t=this.bitmap.data[A]*H,e=this.bitmap.data[A+1]*H,l=this.bitmap.data[A+2]*H,h=this.bitmap.data[A+3]*H,a=1;a<=s;a++)m=A+((a>I?I:a)<<2),t+=this.bitmap.data[m++],e+=this.bitmap.data[m++],l+=this.bitmap.data[m++],h+=this.bitmap.data[m];for(n=0;n<this.bitmap.width;n++)V[S]=t,G[S]=e,U[S]=l,Y[S]=h,f===0&&(ee[n]=((m=n+H)<I?m:I)<<2,le[n]=(m=n-s)>0?m<<2:0),g=A+ee[n],y=A+le[n],t+=this.bitmap.data[g++]-this.bitmap.data[y++],e+=this.bitmap.data[g++]-this.bitmap.data[y++],l+=this.bitmap.data[g++]-this.bitmap.data[y++],h+=this.bitmap.data[g]-this.bitmap.data[y],S++;A+=this.bitmap.width<<2}for(n=0;n<this.bitmap.width;n++){for(E=n,t=V[E]*H,e=G[E]*H,l=U[E]*H,h=Y[E]*H,a=1;a<=s;a++)E+=a>R?0:this.bitmap.width,t+=V[E],e+=G[E],l+=U[E],h+=Y[E];for(S=n<<2,f=0;f<this.bitmap.height;f++)M=h*L>>>j,this.bitmap.data[S+3]=M,M>255&&(this.bitmap.data[S+3]=255),M>0?(M=255/M,this.bitmap.data[S]=(t*L>>>j)*M,this.bitmap.data[S+1]=(e*L>>>j)*M,this.bitmap.data[S+2]=(l*L>>>j)*M):(this.bitmap.data[S+2]=0,this.bitmap.data[S+1]=0,this.bitmap.data[S]=0),n===0&&(ee[f]=((m=f+H)<R?m:R)*this.bitmap.width,le[f]=(m=f-s)>0?m*this.bitmap.width:0),g=n+ee[f],y=n+le[f],t+=V[g]-V[y],e+=G[g]-G[y],l+=U[g]-U[y],h+=Y[g]-Y[y],S+=this.bitmap.width<<2}}return(0,x.isNodePattern)(i)&&i.call(this,null,this),this}}};b.default=p,T.exports=b.default},{"./blur-tables":202,"@jimp/utils":235}],204:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{circle:function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=arguments.length>1?arguments[1]:void 0;typeof o=="function"&&(s=o,o={});var i=o.radius||(this.bitmap.width>this.bitmap.height?this.bitmap.height:this.bitmap.width)/2,t={x:typeof o.x=="number"?o.x:this.bitmap.width/2,y:typeof o.y=="number"?o.y:this.bitmap.height/2};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,l,h){var n=Math.sqrt(Math.pow(e-t.x,2)+Math.pow(l-t.y,2));i-n<=0?this.bitmap.data[h+3]=0:i-n<1&&(this.bitmap.data[h+3]=255*(i-n))}),(0,x.isNodePattern)(s)&&s.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],205:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=c(_("@babel/runtime/helpers/toConsumableArray")),v=c(_("tinycolor2")),o=_("@jimp/utils");function s(n,f,a,m){for(var g=[0,0,0],y=(f.length-1)/2,E=0;E<f.length;E+=1)for(var S=0;S<f[E].length;S+=1){var A=n.getPixelIndex(a+E-y,m+S-y);g[0]+=n.bitmap.data[A]*f[E][S],g[1]+=n.bitmap.data[A+1]*f[E][S],g[2]+=n.bitmap.data[A+2]*f[E][S]}return g}var i=function(f){return typeof f<"u"&&f!==null};function t(n){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,a,m){var g=parseInt(.2126*this.bitmap.data[m]+.7152*this.bitmap.data[m+1]+.0722*this.bitmap.data[m+2],10);this.bitmap.data[m]=g,this.bitmap.data[m+1]=g,this.bitmap.data[m+2]=g}),(0,o.isNodePattern)(n)&&n.call(this,null,this),this}function e(n,f){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:50;return{r:(f.r-n.r)*(a/100)+n.r,g:(f.g-n.g)*(a/100)+n.g,b:(f.b-n.b)*(a/100)+n.b}}function l(n,f){var a=this;return!n||!Array.isArray(n)?o.throwError.call(this,"actions must be an array",f):(n=n.map(function(m){return(m.apply==="xor"||m.apply==="mix")&&(m.params[0]=(0,v.default)(m.params[0]).toRgb()),m}),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,g,y){var E={r:a.bitmap.data[y],g:a.bitmap.data[y+1],b:a.bitmap.data[y+2]},S=function(M,I){return a.constructor.limit255(E[M]+I)};n.forEach(function(A){if(A.apply==="mix")E=e(E,A.params[0],A.params[1]);else if(A.apply==="tint")E=e(E,{r:255,g:255,b:255},A.params[0]);else if(A.apply==="shade")E=e(E,{r:0,g:0,b:0},A.params[0]);else if(A.apply==="xor")E={r:E.r^A.params[0].r,g:E.g^A.params[0].g,b:E.b^A.params[0].b};else if(A.apply==="red")E.r=S("r",A.params[0]);else if(A.apply==="green")E.g=S("g",A.params[0]);else if(A.apply==="blue")E.b=S("b",A.params[0]);else{var M;if(A.apply==="hue"&&(A.apply="spin"),E=(0,v.default)(E),!E[A.apply])return o.throwError.call(a,"action "+A.apply+" not supported",f);E=(M=E)[A.apply].apply(M,(0,p.default)(A.params)).toRgb()}}),a.bitmap.data[y]=E.r,a.bitmap.data[y+1]=E.g,a.bitmap.data[y+2]=E.b}),(0,o.isNodePattern)(f)&&f.call(this,null,this),this)}var h=function(){return{brightness:function(a,m){return typeof a!="number"?o.throwError.call(this,"val must be numbers",m):a<-1||a>1?o.throwError.call(this,"val must be a number between -1 and +1",m):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(g,y,E){a<0?(this.bitmap.data[E]=this.bitmap.data[E]*(1+a),this.bitmap.data[E+1]=this.bitmap.data[E+1]*(1+a),this.bitmap.data[E+2]=this.bitmap.data[E+2]*(1+a)):(this.bitmap.data[E]=this.bitmap.data[E]+(255-this.bitmap.data[E])*a,this.bitmap.data[E+1]=this.bitmap.data[E+1]+(255-this.bitmap.data[E+1])*a,this.bitmap.data[E+2]=this.bitmap.data[E+2]+(255-this.bitmap.data[E+2])*a)}),(0,o.isNodePattern)(m)&&m.call(this,null,this),this)},contrast:function(a,m){if(typeof a!="number")return o.throwError.call(this,"val must be numbers",m);if(a<-1||a>1)return o.throwError.call(this,"val must be a number between -1 and +1",m);var g=(a+1)/(1-a);function y(E){return E=Math.floor(g*(E-127)+127),E<0?0:E>255?255:E}return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(E,S,A){this.bitmap.data[A]=y(this.bitmap.data[A]),this.bitmap.data[A+1]=y(this.bitmap.data[A+1]),this.bitmap.data[A+2]=y(this.bitmap.data[A+2])}),(0,o.isNodePattern)(m)&&m.call(this,null,this),this},posterize:function(a,m){return typeof a!="number"?o.throwError.call(this,"n must be numbers",m):(a<2&&(a=2),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(g,y,E){this.bitmap.data[E]=Math.floor(this.bitmap.data[E]/255*(a-1))/(a-1)*255,this.bitmap.data[E+1]=Math.floor(this.bitmap.data[E+1]/255*(a-1))/(a-1)*255,this.bitmap.data[E+2]=Math.floor(this.bitmap.data[E+2]/255*(a-1))/(a-1)*255}),(0,o.isNodePattern)(m)&&m.call(this,null,this),this)},greyscale:t,grayscale:t,opacity:function(a,m){return typeof a!="number"?o.throwError.call(this,"f must be a number",m):a<0||a>1?o.throwError.call(this,"f must be a number from 0 to 1",m):(this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(g,y,E){var S=this.bitmap.data[E+3]*a;this.bitmap.data[E+3]=S}),(0,o.isNodePattern)(m)&&m.call(this,null,this),this)},sepia:function(a){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,g,y){var E=this.bitmap.data[y],S=this.bitmap.data[y+1],A=this.bitmap.data[y+2];E=E*.393+S*.769+A*.189,S=E*.349+S*.686+A*.168,A=E*.272+S*.534+A*.131,this.bitmap.data[y]=E<255?E:255,this.bitmap.data[y+1]=S<255?S:255,this.bitmap.data[y+2]=A<255?A:255}),(0,o.isNodePattern)(a)&&a.call(this,null,this),this},fade:function(a,m){return typeof a!="number"?o.throwError.call(this,"f must be a number",m):a<0||a>1?o.throwError.call(this,"f must be a number from 0 to 1",m):(this.opacity(1-a),(0,o.isNodePattern)(m)&&m.call(this,null,this),this)},convolution:function(a,m,g){typeof m=="function"&&typeof g>"u"&&(g=m,m=null),m||(m=this.constructor.EDGE_EXTEND);var y=x.from(this.bitmap.data),E=a.length,S=a[0].length,A=Math.floor(E/2),M=Math.floor(S/2),I=-A,R=-M,H,L,j,V,G,U,Y,ee,le,he;return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(oe,q,K){V=0,j=0,L=0;for(var Q=I;Q<=A;Q++)for(var te=R;te<=M;te++)ee=oe+te,le=q+Q,H=a[Q+A][te+M],he=this.getPixelIndex(ee,le,m),he===-1?(Y=0,U=0,G=0):(G=this.bitmap.data[he+0],U=this.bitmap.data[he+1],Y=this.bitmap.data[he+2]),L+=H*G,j+=H*U,V+=H*Y;L<0&&(L=0),j<0&&(j=0),V<0&&(V=0),L>255&&(L=255),j>255&&(j=255),V>255&&(V=255),y[K+0]=L,y[K+1]=j,y[K+2]=V}),this.bitmap.data=y,(0,o.isNodePattern)(g)&&g.call(this,null,this),this},opaque:function(a){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(m,g,y){this.bitmap.data[y+3]=255}),(0,o.isNodePattern)(a)&&a.call(this,null,this),this},pixelate:function(a,m,g,y,E,S){if(typeof m=="function")S=m,E=null,y=null,g=null,m=null;else{if(typeof a!="number")return o.throwError.call(this,"size must be a number",S);if(i(m)&&typeof m!="number")return o.throwError.call(this,"x must be a number",S);if(i(g)&&typeof g!="number")return o.throwError.call(this,"y must be a number",S);if(i(y)&&typeof y!="number")return o.throwError.call(this,"w must be a number",S);if(i(E)&&typeof E!="number")return o.throwError.call(this,"h must be a number",S)}var A=[[1/16,2/16,1/16],[2/16,4/16,2/16],[1/16,2/16,1/16]];m=m||0,g=g||0,y=i(y)?y:this.bitmap.width-m,E=i(E)?E:this.bitmap.height-g;var M=this.cloneQuiet();return this.scanQuiet(m,g,y,E,function(I,R,H){I=a*Math.floor(I/a),R=a*Math.floor(R/a);var L=s(M,A,I,R);this.bitmap.data[H]=L[0],this.bitmap.data[H+1]=L[1],this.bitmap.data[H+2]=L[2]}),(0,o.isNodePattern)(S)&&S.call(this,null,this),this},convolute:function(a,m,g,y,E,S){if(!Array.isArray(a))return o.throwError.call(this,"the kernel must be an array",S);if(typeof m=="function")S=m,m=null,g=null,y=null,E=null;else{if(i(m)&&typeof m!="number")return o.throwError.call(this,"x must be a number",S);if(i(g)&&typeof g!="number")return o.throwError.call(this,"y must be a number",S);if(i(y)&&typeof y!="number")return o.throwError.call(this,"w must be a number",S);if(i(E)&&typeof E!="number")return o.throwError.call(this,"h must be a number",S)}var A=(a.length-1)/2;m=i(m)?m:A,g=i(g)?g:A,y=i(y)?y:this.bitmap.width-m,E=i(E)?E:this.bitmap.height-g;var M=this.cloneQuiet();return this.scanQuiet(m,g,y,E,function(I,R,H){var L=s(M,a,I,R);this.bitmap.data[H]=this.constructor.limit255(L[0]),this.bitmap.data[H+1]=this.constructor.limit255(L[1]),this.bitmap.data[H+2]=this.constructor.limit255(L[2])}),(0,o.isNodePattern)(S)&&S.call(this,null,this),this},color:l,colour:l}};b.default=h,T.exports=b.default}).call(this,_("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/utils":235,buffer:48,tinycolor2:178}],206:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{contain:function(o,s,i,t,e){if(typeof o!="number"||typeof s!="number")return x.throwError.call(this,"w and h must be numbers",e);typeof i=="string"&&(typeof t=="function"&&typeof e>"u"&&(e=t),t=i,i=null),typeof i=="function"&&(typeof e>"u"&&(e=i),t=null,i=null),typeof t=="function"&&typeof e>"u"&&(e=t,t=null),i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var l=i&(1<<3)-1,h=i>>3;if(!(l!==0&&!(l&l-1)||h!==0&&!(h&h-1)))return x.throwError.call(this,"only use one flag per alignment direction",e);var n=l>>1,f=h>>1,a=o/s>this.bitmap.width/this.bitmap.height?s/this.bitmap.height:o/this.bitmap.width,m=this.cloneQuiet().scale(a,t);return this.resize(o,s,t),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(g,y,E){this.bitmap.data.writeUInt32BE(this._background,E)}),this.blit(m,(this.bitmap.width-m.bitmap.width)/2*n,(this.bitmap.height-m.bitmap.height)/2*f),(0,x.isNodePattern)(e)&&e.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],207:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{cover:function(o,s,i,t,e){if(typeof o!="number"||typeof s!="number")return x.throwError.call(this,"w and h must be numbers",e);i&&typeof i=="function"&&typeof e>"u"?(e=i,i=null,t=null):typeof t=="function"&&typeof e>"u"&&(e=t,t=null),i=i||this.constructor.HORIZONTAL_ALIGN_CENTER|this.constructor.VERTICAL_ALIGN_MIDDLE;var l=i&(1<<3)-1,h=i>>3;if(!(l!==0&&!(l&l-1)||h!==0&&!(h&h-1)))return x.throwError.call(this,"only use one flag per alignment direction",e);var n=l>>1,f=h>>1,a=o/s>this.bitmap.width/this.bitmap.height?o/this.bitmap.width:s/this.bitmap.height;return this.scale(a,t),this.crop((this.bitmap.width-o)/2*n,(this.bitmap.height-s)/2*f,o,s),(0,x.isNodePattern)(e)&&e.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],208:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=o;var p=c(_("@babel/runtime/helpers/typeof")),v=_("@jimp/utils");function o(s){return s("crop",function(i,t,e,l,h){if(typeof i!="number"||typeof t!="number")return v.throwError.call(this,"x and y must be numbers",h);if(typeof e!="number"||typeof l!="number")return v.throwError.call(this,"w and h must be numbers",h);if(i=Math.round(i),t=Math.round(t),e=Math.round(e),l=Math.round(l),i===0&&e===this.bitmap.width){var n=e*t+i<<2,f=n+l*e<<2;this.bitmap.data=this.bitmap.data.slice(n,f)}else{var a=x.allocUnsafe(e*l*4),m=0;this.scanQuiet(i,t,e,l,function(g,y,E){var S=this.bitmap.data.readUInt32BE(E,!0);a.writeUInt32BE(S,m,!0),m+=4}),this.bitmap.data=a}return this.bitmap.width=e,this.bitmap.height=l,(0,v.isNodePattern)(h)&&h.call(this,null,this),this}),{class:{autocrop:function(){for(var t=this.bitmap.width,e=this.bitmap.height,l=1,h,n=0,f=2e-4,a=!0,m=!1,g=arguments.length,y=new Array(g),E=0;E<g;E++)y[E]=arguments[E];for(var S=0,A=y.length;S<A;S++)if(typeof y[S]=="number"&&(f=y[S]),typeof y[S]=="boolean"&&(a=y[S]),typeof y[S]=="function"&&(h=y[S]),(0,p.default)(y[S])==="object"){var M=y[S];typeof M.tolerance<"u"&&(f=M.tolerance),typeof M.cropOnlyFrames<"u"&&(a=M.cropOnlyFrames),typeof M.cropSymmetric<"u"&&(m=M.cropSymmetric),typeof M.leaveBorder<"u"&&(n=M.leaveBorder)}var I=this.getPixelColor(0,0),R=this.constructor.intToRGBA(I),H=0,L=0,j=0,V=0;I=this.getPixelColor(0,0);e:for(var G=0;G<e-l;G++){for(var U=0;U<t;U++){var Y=this.getPixelColor(U,G),ee=this.constructor.intToRGBA(Y);if(this.constructor.colorDiff(R,ee)>f)break e}H++}I=this.getPixelColor(t,0);e:for(var le=0;le<t-l;le++){for(var he=0+H;he<e;he++){var oe=this.getPixelColor(le,he),q=this.constructor.intToRGBA(oe);if(this.constructor.colorDiff(R,q)>f)break e}L++}I=this.getPixelColor(0,e);e:for(var K=e-1;K>=H+l;K--){for(var Q=t-L-1;Q>=0;Q--){var te=this.getPixelColor(Q,K),ce=this.constructor.intToRGBA(te);if(this.constructor.colorDiff(R,ce)>f)break e}j++}I=this.getPixelColor(t,e);e:for(var we=t-1;we>=0+L+l;we--){for(var be=e-1;be>=0+H;be--){var xe=this.getPixelColor(we,be),Ie=this.constructor.intToRGBA(xe);if(this.constructor.colorDiff(R,Ie)>f)break e}V++}var me=!1;if(V-=n,L-=n,H-=n,j-=n,m){var ve=Math.min(L,V),re=Math.min(H,j);V=ve,L=ve,H=re,j=re}V=V>=0?V:0,L=L>=0?L:0,H=H>=0?H:0,j=j>=0?j:0;var se=t-(V+L),fe=e-(j+H);return a?me=L!==0&&H!==0&&V!==0&&j!==0:me=L!==0||H!==0||V!==0||j!==0,me&&this.crop(L,H,se,fe),(0,v.isNodePattern)(h)&&h.call(this,null,this),this}}}}T.exports=b.default}).call(this,_("buffer").Buffer)},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,buffer:48}],209:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=x(_("@babel/runtime/helpers/typeof")),p=_("@jimp/utils"),v=function(){return{displace:function(i,t,e){if((0,c.default)(i)!=="object"||i.constructor!==this.constructor)return p.throwError.call(this,"The source must be a Jimp image",e);if(typeof t!="number")return p.throwError.call(this,"factor must be a number",e);var l=this.cloneQuiet();return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,n,f){var a=i.bitmap.data[f]/256*t;a=Math.round(a);var m=this.getPixelIndex(h+a,n);this.bitmap.data[m]=l.bitmap.data[f],this.bitmap.data[m+1]=l.bitmap.data[f+1],this.bitmap.data[m+2]=l.bitmap.data[f+2]}),(0,p.isNodePattern)(e)&&e.call(this,null,this),this}}};b.default=v,T.exports=b.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235}],210:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils");function c(v){var o=[1,9,3,11,13,5,15,7,4,12,2,10,16,8,14,6];return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,i,t){var e=((i&3)<<2)+s%4,l=o[e];this.bitmap.data[t]=Math.min(this.bitmap.data[t]+l,255),this.bitmap.data[t+1]=Math.min(this.bitmap.data[t+1]+l,255),this.bitmap.data[t+2]=Math.min(this.bitmap.data[t+2]+l,255)}),(0,x.isNodePattern)(v)&&v.call(this,null,this),this}var p=function(){return{dither565:c,dither16:c}};b.default=p,T.exports=b.default},{"@jimp/utils":235}],211:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{fisheye:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{r:2.5},i=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(i=s,s={r:2.5});var t=this.cloneQuiet(),e=t.bitmap,l=e.width,h=e.height;return t.scanQuiet(0,0,l,h,function(n,f){var a=n/l,m=f/h,g=Math.sqrt(Math.pow(a-.5,2)+Math.pow(m-.5,2)),y=2*Math.pow(g,s.r),E=(a-.5)/g,S=(m-.5)/g,A=Math.round((y*E+.5)*l),M=Math.round((y*S+.5)*h),I=t.getPixelColor(A,M);o.setPixelColor(I,n,f)}),this.setPixelColor(t.getPixelColor(l/2,h/2),l/2,h/2),(0,x.isNodePattern)(i)&&i.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],212:[function(_,T,b){(function(x){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=_("@jimp/utils");function p(o,s,i){if(typeof o!="boolean"||typeof s!="boolean")return c.throwError.call(this,"horizontal and vertical must be Booleans",i);var t=x.alloc(this.bitmap.data.length);return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(e,l,h){var n=o?this.bitmap.width-1-e:e,f=s?this.bitmap.height-1-l:l,a=this.bitmap.width*f+n<<2,m=this.bitmap.data.readUInt32BE(h);t.writeUInt32BE(m,a)}),this.bitmap.data=x.from(t),(0,c.isNodePattern)(i)&&i.call(this,null,this),this}var v=function(){return{flip:p,mirror:p}};b.default=v,T.exports=b.default}).call(this,_("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],213:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{gaussian:function(o,s){if(typeof o!="number")return x.throwError.call(this,"r must be a number",s);if(o<1)return x.throwError.call(this,"r must be greater than 0",s);for(var i=Math.ceil(o*2.57),t=i*2+1,e=o*o*2,l=e*Math.PI,h=[],n=0;n<t;n++){h[n]=[];for(var f=0;f<t;f++){var a=Math.pow(f-i,2)+Math.pow(n-i,2);h[n][f]=Math.exp(-a/e)/l}}for(var m=0;m<this.bitmap.height;m++)for(var g=0;g<this.bitmap.width;g++)for(var y=0,E=0,S=0,A=0,M=0,I=0;I<t;I++){for(var R=0;R<t;R++){var H=Math.min(this.bitmap.width-1,Math.max(0,R+g-i)),L=Math.min(this.bitmap.height-1,Math.max(0,I+m-i)),j=h[I][R],V=L*this.bitmap.width+H<<2;y+=this.bitmap.data[V]*j,E+=this.bitmap.data[V+1]*j,S+=this.bitmap.data[V+2]*j,A+=this.bitmap.data[V+3]*j,M+=j}var G=m*this.bitmap.width+g<<2;this.bitmap.data[G]=Math.round(y/M),this.bitmap.data[G+1]=Math.round(E/M),this.bitmap.data[G+2]=Math.round(S/M),this.bitmap.data[G+3]=Math.round(A/M)}return(0,x.isNodePattern)(s)&&s.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],214:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{invert:function(o){return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(s,i,t){this.bitmap.data[t]=255-this.bitmap.data[t],this.bitmap.data[t+1]=255-this.bitmap.data[t+1],this.bitmap.data[t+2]=255-this.bitmap.data[t+2]}),(0,x.isNodePattern)(o)&&o.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],215:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{mask:function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3?arguments[3]:void 0;if(!(o instanceof this.constructor))return x.throwError.call(this,"The source must be a Jimp image",t);if(typeof s!="number"||typeof i!="number")return x.throwError.call(this,"x and y must be numbers",t);s=Math.round(s),i=Math.round(i);var e=this.bitmap.width,l=this.bitmap.height,h=this;return o.scanQuiet(0,0,o.bitmap.width,o.bitmap.height,function(n,f,a){var m=s+n,g=i+f;if(m>=0&&g>=0&&m<e&&g<l){var y=h.getPixelIndex(m,g),E=this.bitmap.data,S=(E[a+0]+E[a+1]+E[a+2])/3;h.bitmap.data[y+3]*=S/255}}),(0,x.isNodePattern)(t)&&t.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],216:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils");function c(){var s={r:new Array(256).fill(0),g:new Array(256).fill(0),b:new Array(256).fill(0)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(i,t,e){s.r[this.bitmap.data[e+0]]++,s.g[this.bitmap.data[e+1]]++,s.b[this.bitmap.data[e+2]]++}),s}var p=function(i,t,e){return(i-t)*255/(e-t)},v=function(i){return[i.findIndex(function(t){return t>0}),255-i.slice().reverse().findIndex(function(t){return t>0})]},o=function(){return{normalize:function(t){var e=c.call(this),l={r:v(e.r),g:v(e.g),b:v(e.b)};return this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(h,n,f){var a=this.bitmap.data[f+0],m=this.bitmap.data[f+1],g=this.bitmap.data[f+2];this.bitmap.data[f+0]=p(a,l.r[0],l.r[1]),this.bitmap.data[f+1]=p(m,l.g[0],l.g[1]),this.bitmap.data[f+2]=p(g,l.b[0],l.b[1])}),(0,x.isNodePattern)(t)&&t.call(this,null,this),this}}};b.default=o,T.exports=b.default},{"@jimp/utils":235}],217:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=c(_("@babel/runtime/helpers/typeof")),v=c(_("@babel/runtime/helpers/toConsumableArray")),o=c(_("path")),s=c(_("load-bmfont")),i=_("@jimp/utils"),t=_("./measure-text");function e(g,y,E,S,A){return A===g.HORIZONTAL_ALIGN_LEFT?0:A===g.HORIZONTAL_ALIGN_CENTER?(S-(0,t.measureText)(y,E))/2:S-(0,t.measureText)(y,E)}function l(g,y,E,S,A){if(A.width>0&&A.height>0){var M=y.pages[A.page];g.blit(M,E+A.xoffset,S+A.yoffset,A.x,A.y,A.width,A.height)}return g}function h(g,y,E,S,A){for(var M=0;M<S.length;M++){var I=void 0;g.chars[S[M]]?I=S[M]:/\s/.test(S[M])?I="":I="?";var R=g.chars[I]||{},H=g.kernings[I];l(this,g,y,E,R||{});var L=H&&H[S[M+1]]?H[S[M+1]]:0;y+=L+(R.xadvance||A)}}function n(g,y,E){var S=y.split(" "),A=[],M=[],I=0;return S.forEach(function(R){var H=[].concat((0,v.default)(M),[R]).join(" "),L=(0,t.measureText)(g,H);L<=E?(L>I&&(I=L),M.push(R)):(A.push(M),M=[R])}),A.push(M),{lines:A,longestLine:I}}function f(g,y,E){var S=E.map(function(A){return g.read(y+"/"+A)});return Promise.all(S)}var a="browser/lib/",m=function(){return{constants:{measureText:t.measureText,measureTextHeight:t.measureTextHeight,FONT_SANS_8_BLACK:o.default.join(a,"fonts/open-sans/open-sans-8-black/open-sans-8-black.fnt"),FONT_SANS_10_BLACK:o.default.join(a,"fonts/open-sans/open-sans-10-black/open-sans-10-black.fnt"),FONT_SANS_12_BLACK:o.default.join(a,"fonts/open-sans/open-sans-12-black/open-sans-12-black.fnt"),FONT_SANS_14_BLACK:o.default.join(a,"fonts/open-sans/open-sans-14-black/open-sans-14-black.fnt"),FONT_SANS_16_BLACK:o.default.join(a,"fonts/open-sans/open-sans-16-black/open-sans-16-black.fnt"),FONT_SANS_32_BLACK:o.default.join(a,"fonts/open-sans/open-sans-32-black/open-sans-32-black.fnt"),FONT_SANS_64_BLACK:o.default.join(a,"fonts/open-sans/open-sans-64-black/open-sans-64-black.fnt"),FONT_SANS_128_BLACK:o.default.join(a,"fonts/open-sans/open-sans-128-black/open-sans-128-black.fnt"),FONT_SANS_8_WHITE:o.default.join(a,"fonts/open-sans/open-sans-8-white/open-sans-8-white.fnt"),FONT_SANS_16_WHITE:o.default.join(a,"fonts/open-sans/open-sans-16-white/open-sans-16-white.fnt"),FONT_SANS_32_WHITE:o.default.join(a,"fonts/open-sans/open-sans-32-white/open-sans-32-white.fnt"),FONT_SANS_64_WHITE:o.default.join(a,"fonts/open-sans/open-sans-64-white/open-sans-64-white.fnt"),FONT_SANS_128_WHITE:o.default.join(a,"fonts/open-sans/open-sans-128-white/open-sans-128-white.fnt"),loadFont:function(E,S){var A=this;return typeof E!="string"?i.throwError.call(this,"file must be a string",S):new Promise(function(M,I){S=S||function(R,H){R?I(R):M(H)},(0,s.default)(E,function(R,H){var L={},j={};if(R)return i.throwError.call(A,R,S);for(var V=0;V<H.chars.length;V++)L[String.fromCharCode(H.chars[V].id)]=H.chars[V];for(var G=0;G<H.kernings.length;G++){var U=String.fromCharCode(H.kernings[G].first);j[U]=j[U]||{},j[U][String.fromCharCode(H.kernings[G].second)]=H.kernings[G].amount}f(A,o.default.dirname(E),H.pages).then(function(Y){S(null,{chars:L,kernings:j,pages:Y,common:H.common,info:H.info})})})})}},class:{print:function(E,S,A,M,I,R,H){var L=this;if(typeof I=="function"&&typeof H>"u"&&(H=I,I=1/0),typeof I>"u"&&(I=1/0),typeof R=="function"&&typeof H>"u"&&(H=R,R=1/0),typeof R>"u"&&(R=1/0),(0,p.default)(E)!=="object")return i.throwError.call(this,"font must be a Jimp loadFont",H);if(typeof S!="number"||typeof A!="number"||typeof I!="number")return i.throwError.call(this,"x, y and maxWidth must be numbers",H);if(typeof I!="number")return i.throwError.call(this,"maxWidth must be a number",H);if(typeof R!="number")return i.throwError.call(this,"maxHeight must be a number",H);var j,V;if((0,p.default)(M)==="object"&&M.text!==null&&M.text!==void 0){j=M.alignmentX||this.constructor.HORIZONTAL_ALIGN_LEFT,V=M.alignmentY||this.constructor.VERTICAL_ALIGN_TOP;var G=M;M=G.text}else j=this.constructor.HORIZONTAL_ALIGN_LEFT,V=this.constructor.VERTICAL_ALIGN_TOP,M=M.toString();R!==1/0&&V===this.constructor.VERTICAL_ALIGN_BOTTOM?A+=R-(0,t.measureTextHeight)(E,M,I):R!==1/0&&V===this.constructor.VERTICAL_ALIGN_MIDDLE&&(A+=R/2-(0,t.measureTextHeight)(E,M,I)/2);var U=Object.entries(E.chars)[0][1].xadvance,Y=n(E,M,I),ee=Y.lines,le=Y.longestLine;return ee.forEach(function(he){var oe=he.join(" "),q=e(L.constructor,E,oe,I,j);h.call(L,E,S+q,A,oe,U),A+=E.common.lineHeight}),(0,i.isNodePattern)(H)&&H.call(this,null,this,{x:S+le,y:A}),this}}}};b.default=m,T.exports=b.default}).call(this,"/../../node_modules/@jimp/plugin-print/dist")},{"./measure-text":218,"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@babel/runtime/helpers/typeof":21,"@jimp/utils":235,"load-bmfont":219,path:107}],218:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.measureText=x,b.measureTextHeight=c;function x(p,v){for(var o=0,s=0;s<v.length;s++)if(p.chars[v[s]]){var i=p.kernings[v[s]]&&p.kernings[v[s]][v[s+1]]?p.kernings[v[s]][v[s+1]]:0;o+=(p.chars[v[s]].xadvance||0)+i}return o}function c(p,v,o){for(var s=v.split(" "),i="",t=p.common.lineHeight,e=0;e<s.length;e++){var l=i+s[e]+" ",h=x(p,l);h>o&&e>0?(t+=p.common.lineHeight,i=s[e]+" "):i=l}return t}},{}],219:[function(_,T,b){(function(x){var c=_("xhr"),p=function(){},v=_("parse-bmfont-ascii"),o=_("parse-bmfont-xml"),s=_("parse-bmfont-binary"),i=_("./lib/is-binary"),t=_("xtend"),e=function(){return self.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}();T.exports=function(n,f){f=typeof f=="function"?f:p,typeof n=="string"?n={uri:n}:n||(n={});var a=n.binary;a&&(n=h(n)),c(n,function(m,g,y){if(m)return f(m);if(!/^2/.test(g.statusCode))return f(new Error("http status code: "+g.statusCode));if(!y)return f(new Error("no body result"));var E=!1;if(l(y)){var S=new Uint8Array(y);y=new x(S,"binary")}i(y)&&(E=!0,typeof y=="string"&&(y=new x(y,"binary"))),E||(x.isBuffer(y)&&(y=y.toString(n.encoding)),y=y.trim());var A;try{var M=g.headers["content-type"];E?A=s(y):/json/.test(M)||y.charAt(0)==="{"?A=JSON.parse(y):/xml/.test(M)||y.charAt(0)==="<"?A=o(y):A=v(y)}catch(I){f(new Error("error parsing font "+I.message)),f=p}f(null,A)})};function l(n){var f=Object.prototype.toString;return f.call(n)==="[object ArrayBuffer]"}function h(n){if(e)return t(n,{responseType:"arraybuffer"});if(typeof self.XMLHttpRequest>"u")throw new Error("your browser does not support XHR loading");var f=new self.XMLHttpRequest;return f.overrideMimeType("text/plain; charset=x-user-defined"),t({xhr:f},n)}}).call(this,_("buffer").Buffer)},{"./lib/is-binary":220,buffer:48,"parse-bmfont-ascii":102,"parse-bmfont-binary":103,"parse-bmfont-xml":104,xhr:187,xtend:189}],220:[function(_,T,b){(function(x){var c=_("buffer-equal"),p=new x([66,77,70,3]);T.exports=function(v){return typeof v=="string"?v.substring(0,3)==="BMF":v.length>4&&c(v.slice(0,4),p)}}).call(this,_("buffer").Buffer)},{buffer:48,"buffer-equal":49}],221:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=_("@jimp/utils"),v=c(_("./modules/resize")),o=c(_("./modules/resize2")),s=function(){return{constants:{RESIZE_NEAREST_NEIGHBOR:"nearestNeighbor",RESIZE_BILINEAR:"bilinearInterpolation",RESIZE_BICUBIC:"bicubicInterpolation",RESIZE_HERMITE:"hermiteInterpolation",RESIZE_BEZIER:"bezierInterpolation"},class:{resize:function(e,l,h,n){if(typeof e!="number"||typeof l!="number")return p.throwError.call(this,"w and h must be numbers",n);if(typeof h=="function"&&typeof n>"u"&&(n=h,h=null),e===this.constructor.AUTO&&l===this.constructor.AUTO)return p.throwError.call(this,"w and h cannot both be set to auto",n);if(e===this.constructor.AUTO&&(e=this.bitmap.width*(l/this.bitmap.height)),l===this.constructor.AUTO&&(l=this.bitmap.height*(e/this.bitmap.width)),e<0||l<0)return p.throwError.call(this,"w and h must be positive numbers",n);if(e=Math.round(e),l=Math.round(l),typeof o.default[h]=="function"){var f={data:x.alloc(e*l*4),width:e,height:l};o.default[h](this.bitmap,f),this.bitmap=f}else{var a=this,m=new v.default(this.bitmap.width,this.bitmap.height,e,l,!0,!0,function(g){a.bitmap.data=x.from(g),a.bitmap.width=e,a.bitmap.height=l});m.resize(this.bitmap.data)}return(0,p.isNodePattern)(n)&&n.call(this,null,this),this}}}};b.default=s,T.exports=b.default}).call(this,_("buffer").Buffer)},{"./modules/resize":222,"./modules/resize2":223,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,buffer:48}],222:[function(_,T,b){function x(c,p,v,o,s,i,t){this.widthOriginal=Math.abs(Math.floor(c)||0),this.heightOriginal=Math.abs(Math.floor(p)||0),this.targetWidth=Math.abs(Math.floor(v)||0),this.targetHeight=Math.abs(Math.floor(o)||0),this.colorChannels=s?4:3,this.interpolationPass=Boolean(i),this.resizeCallback=typeof t=="function"?t:function(){},this.targetWidthMultipliedByChannels=this.targetWidth*this.colorChannels,this.originalWidthMultipliedByChannels=this.widthOriginal*this.colorChannels,this.originalHeightMultipliedByChannels=this.heightOriginal*this.colorChannels,this.widthPassResultSize=this.targetWidthMultipliedByChannels*this.heightOriginal,this.finalResultSize=this.targetWidthMultipliedByChannels*this.targetHeight,this.initialize()}x.prototype.initialize=function(){if(this.widthOriginal>0&&this.heightOriginal>0&&this.targetWidth>0&&this.targetHeight>0)this.configurePasses();else throw new Error("Invalid settings specified for the resizer.")},x.prototype.configurePasses=function(){this.widthOriginal===this.targetWidth?this.resizeWidth=this.bypassResizer:(this.ratioWeightWidthPass=this.widthOriginal/this.targetWidth,this.ratioWeightWidthPass<1&&this.interpolationPass?(this.initializeFirstPassBuffers(!0),this.resizeWidth=this.colorChannels===4?this.resizeWidthInterpolatedRGBA:this.resizeWidthInterpolatedRGB):(this.initializeFirstPassBuffers(!1),this.resizeWidth=this.colorChannels===4?this.resizeWidthRGBA:this.resizeWidthRGB)),this.heightOriginal===this.targetHeight?this.resizeHeight=this.bypassResizer:(this.ratioWeightHeightPass=this.heightOriginal/this.targetHeight,this.ratioWeightHeightPass<1&&this.interpolationPass?(this.initializeSecondPassBuffers(!0),this.resizeHeight=this.resizeHeightInterpolated):(this.initializeSecondPassBuffers(!1),this.resizeHeight=this.colorChannels===4?this.resizeHeightRGBA:this.resizeHeightRGB))},x.prototype._resizeWidthInterpolatedRGBChannels=function(c,p){var v=p?4:3,o=this.ratioWeightWidthPass,s=this.widthBuffer,i=0,t=0,e=0,l=0,h=0,n;for(n=0;i<1/3;n+=v,i+=o)for(t=n,e=0;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)s[t]=c[e],s[t+1]=c[e+1],s[t+2]=c[e+2],p&&(s[t+3]=c[e+3]);i-=1/3;var f;for(f=this.widthOriginal-1;i<f;n+=v,i+=o)for(h=i%1,l=1-h,t=n,e=Math.floor(i)*v;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)s[t+0]=c[e+0]*l+c[e+v+0]*h,s[t+1]=c[e+1]*l+c[e+v+1]*h,s[t+2]=c[e+2]*l+c[e+v+2]*h,p&&(s[t+3]=c[e+3]*l+c[e+v+3]*h);for(f=this.originalWidthMultipliedByChannels-v;n<this.targetWidthMultipliedByChannels;n+=v)for(t=n,e=f;t<this.widthPassResultSize;e+=this.originalWidthMultipliedByChannels,t+=this.targetWidthMultipliedByChannels)s[t]=c[e],s[t+1]=c[e+1],s[t+2]=c[e+2],p&&(s[t+3]=c[e+3]);return s},x.prototype._resizeWidthRGBChannels=function(c,p){var v=p?4:3,o=this.ratioWeightWidthPass,s=1/o,i=this.originalWidthMultipliedByChannels-v+1,t=this.targetWidthMultipliedByChannels-v+1,e=this.outputWidthWorkBench,l=this.widthBuffer,h=this.outputWidthWorkBenchOpaquePixelsCount,n=0,f=0,a=0,m=0,g=0,y=0,E=0,S=1,A=0,M=0,I=0,R=0;do{for(g=0;g<this.originalHeightMultipliedByChannels;)e[g++]=0,e[g++]=0,e[g++]=0,p&&(e[g++]=0,h[g/v-1]=0);n=o;do{for(f=1+a-m,S=Math.min(n,f),g=0,y=a;g<this.originalHeightMultipliedByChannels;y+=i)A=c[y],M=c[++y],I=c[++y],R=p?c[++y]:255,e[g++]+=(R?A:0)*S,e[g++]+=(R?M:0)*S,e[g++]+=(R?I:0)*S,p&&(e[g++]+=R*S,h[g/v-1]+=R?S:0);if(n>=f)a+=v,m=a,n-=f;else{m+=n;break}}while(n>0&&a<this.originalWidthMultipliedByChannels);for(g=0,y=E;g<this.originalHeightMultipliedByChannels;y+=t)n=p?h[g/v]:1,S=p?n?1/n:0:s,l[y]=e[g++]*S,l[++y]=e[g++]*S,l[++y]=e[g++]*S,p&&(l[++y]=e[g++]*s);E+=v}while(E<this.targetWidthMultipliedByChannels);return l},x.prototype._resizeHeightRGBChannels=function(c,p){var v=this.ratioWeightHeightPass,o=1/v,s=this.outputHeightWorkBench,i=this.heightBuffer,t=this.outputHeightWorkBenchOpaquePixelsCount,e=0,l=0,h=0,n=0,f=0,a=0,m=0,g=1,y=0,E=0,S=0,A=0;do{for(f=0;f<this.targetWidthMultipliedByChannels;)s[f++]=0,s[f++]=0,s[f++]=0,p&&(s[f++]=0,t[f/4-1]=0);e=v;do{for(l=1+h-n,g=Math.min(e,l),m=h,f=0;f<this.targetWidthMultipliedByChannels;)y=c[m++],E=c[m++],S=c[m++],A=p?c[m++]:255,s[f++]+=(A?y:0)*g,s[f++]+=(A?E:0)*g,s[f++]+=(A?S:0)*g,p&&(s[f++]+=A*g,t[f/4-1]+=A?g:0);if(e>=l)h=m,n=h,e-=l;else{n+=e;break}}while(e>0&&h<this.widthPassResultSize);for(f=0;f<this.targetWidthMultipliedByChannels;)e=p?t[f/4]:1,g=p?e?1/e:0:o,i[a++]=Math.round(s[f++]*g),i[a++]=Math.round(s[f++]*g),i[a++]=Math.round(s[f++]*g),p&&(i[a++]=Math.round(s[f++]*o))}while(a<this.finalResultSize);return i},x.prototype.resizeWidthInterpolatedRGB=function(c){return this._resizeWidthInterpolatedRGBChannels(c,!1)},x.prototype.resizeWidthInterpolatedRGBA=function(c){return this._resizeWidthInterpolatedRGBChannels(c,!0)},x.prototype.resizeWidthRGB=function(c){return this._resizeWidthRGBChannels(c,!1)},x.prototype.resizeWidthRGBA=function(c){return this._resizeWidthRGBChannels(c,!0)},x.prototype.resizeHeightInterpolated=function(c){for(var p=this.ratioWeightHeightPass,v=this.heightBuffer,o=0,s=0,i=0,t=0,e=0,l=0,h=0,n;o<1/3;o+=p)for(i=0;i<this.targetWidthMultipliedByChannels;)v[s++]=Math.round(c[i++]);for(o-=1/3,n=this.heightOriginal-1;o<n;o+=p)for(h=o%1,l=1-h,t=Math.floor(o)*this.targetWidthMultipliedByChannels,e=t+this.targetWidthMultipliedByChannels,i=0;i<this.targetWidthMultipliedByChannels;++i)v[s++]=Math.round(c[t++]*l+c[e++]*h);for(;s<this.finalResultSize;)for(i=0,t=n*this.targetWidthMultipliedByChannels;i<this.targetWidthMultipliedByChannels;++i)v[s++]=Math.round(c[t++]);return v},x.prototype.resizeHeightRGB=function(c){return this._resizeHeightRGBChannels(c,!1)},x.prototype.resizeHeightRGBA=function(c){return this._resizeHeightRGBChannels(c,!0)},x.prototype.resize=function(c){this.resizeCallback(this.resizeHeight(this.resizeWidth(c)))},x.prototype.bypassResizer=function(c){return c},x.prototype.initializeFirstPassBuffers=function(c){this.widthBuffer=this.generateFloatBuffer(this.widthPassResultSize),c||(this.outputWidthWorkBench=this.generateFloatBuffer(this.originalHeightMultipliedByChannels),this.colorChannels>3&&(this.outputWidthWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.heightOriginal)))},x.prototype.initializeSecondPassBuffers=function(c){this.heightBuffer=this.generateUint8Buffer(this.finalResultSize),c||(this.outputHeightWorkBench=this.generateFloatBuffer(this.targetWidthMultipliedByChannels),this.colorChannels>3&&(this.outputHeightWorkBenchOpaquePixelsCount=this.generateFloat64Buffer(this.targetWidth)))},x.prototype.generateFloatBuffer=function(c){try{return new Float32Array(c)}catch{return[]}},x.prototype.generateFloat64Buffer=function(c){try{return new Float64Array(c)}catch{return[]}},x.prototype.generateUint8Buffer=function(c){try{return new Uint8Array(c)}catch{return[]}},T.exports=x},{}],223:[function(_,T,b){(function(x){T.exports={nearestNeighbor:function(p,v){for(var o=p.width,s=p.height,i=v.width,t=v.height,e=p.data,l=v.data,h=0;h<t;h++)for(var n=0;n<i;n++){var f=(h*i+n)*4,a=Math.floor(h*s/t),m=Math.floor(n*o/i),g=(a*o+m)*4;l[f++]=e[g++],l[f++]=e[g++],l[f++]=e[g++],l[f++]=e[g++]}},bilinearInterpolation:function(p,v){for(var o=p.width,s=p.height,i=v.width,t=v.height,e=p.data,l=v.data,h=function(R,H,L,j,V){return H===j?L:Math.round((R-H)*V+(j-R)*L)},n=function(R,H,L,j,V,G,U,Y){var ee=(U*o+j)*4+H,le=(U*o+V)*4+H,he=h(L,j,e[ee],V,e[le]);if(Y===U)l[R+H]=he;else{ee=(Y*o+j)*4+H,le=(Y*o+V)*4+H;var oe=h(L,j,e[ee],V,e[le]);l[R+H]=h(G,U,he,Y,oe)}},f=0;f<t;f++)for(var a=0;a<i;a++){var m=(f*i+a)*4,g=a*o/i,y=Math.floor(g),E=Math.min(Math.ceil(g),o-1),S=f*s/t,A=Math.floor(S),M=Math.min(Math.ceil(S),s-1);n(m,0,g,y,E,S,A,M),n(m,1,g,y,E,S,A,M),n(m,2,g,y,E,S,A,M),n(m,3,g,y,E,S,A,M)}},_interpolate2D:function(p,v,o,s){for(var i=p.data,t=v.data,e=p.width,l=p.height,h=v.width,n=v.height,f=Math.max(1,Math.floor(e/h)),a=h*f,m=Math.max(1,Math.floor(l/n)),g=n*m,y=x.alloc(a*l*4),E=0;E<l;E++)for(var S=0;S<a;S++)for(var A=S*(e-1)/a,M=Math.floor(A),I=A-M,R=(E*e+M)*4,H=(E*a+S)*4,L=0;L<4;L++){var j=R+L,V=M>0?i[j-4]:2*i[j]-i[j+4],G=i[j],U=i[j+4],Y=M<e-2?i[j+8]:2*i[j+4]-i[j];y[H+L]=s(V,G,U,Y,I)}for(var ee=x.alloc(a*g*4),le=0;le<g;le++)for(var he=0;he<a;he++)for(var oe=le*(l-1)/g,q=Math.floor(oe),K=oe-q,Q=(q*a+he)*4,te=(le*a+he)*4,ce=0;ce<4;ce++){var we=Q+ce,be=q>0?y[we-a*4]:2*y[we]-y[we+a*4],xe=y[we],Ie=y[we+a*4],me=q<l-2?y[we+a*8]:2*y[we+a*4]-y[we];ee[te+ce]=s(be,xe,Ie,me,K)}var ve=f*m;if(ve>1)for(var re=0;re<n;re++)for(var se=0;se<h;se++){for(var fe=0,J=0,z=0,B=0,F=0,Z=0;Z<m;Z++)for(var D=re*m+Z,O=0;O<f;O++){var ie=se*f+O,ge=(D*a+ie)*4,Me=ee[ge+3];Me&&(fe+=ee[ge],J+=ee[ge+1],z+=ee[ge+2],F++),B+=Me}var Le=(re*h+se)*4;t[Le]=F?Math.round(fe/F):0,t[Le+1]=F?Math.round(J/F):0,t[Le+2]=F?Math.round(z/F):0,t[Le+3]=Math.round(B/ve)}else v.data=ee},bicubicInterpolation:function(p,v,o){var s=function(t,e,l,h,n){var f=h-l-t+e,a=t-e-f,m=l-t,g=e;return Math.max(0,Math.min(255,f*(n*n*n)+a*(n*n)+m*n+g))};return this._interpolate2D(p,v,o,s)},hermiteInterpolation:function(p,v,o){var s=function(t,e,l,h,n){var f=e,a=.5*(l-t),m=t-2.5*e+2*l-.5*h,g=.5*(h-t)+1.5*(e-l);return Math.max(0,Math.min(255,Math.round(((g*n+m)*n+a)*n+f)))};return this._interpolate2D(p,v,o,s)},bezierInterpolation:function(p,v,o){var s=function(t,e,l,h,n){var f=e+(l-t)/4,a=l-(h-e)/4,m=1-n,g=e*m*m*m,y=3*f*m*m*n,E=3*a*m*n*n,S=l*n*n*n;return Math.max(0,Math.min(255,Math.round(g+y+E+S)))};return this._interpolate2D(p,v,o,s)}}}).call(this,_("buffer").Buffer)},{buffer:48}],224:[function(_,T,b){(function(x){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=_("@jimp/utils");function p(o,s){o%=360;var i=o*Math.PI/180,t=Math.cos(i),e=Math.sin(i),l=this.bitmap.width,h=this.bitmap.height;if(s===!0||typeof s=="string"){l=Math.ceil(Math.abs(this.bitmap.width*t)+Math.abs(this.bitmap.height*e))+1,h=Math.ceil(Math.abs(this.bitmap.width*e)+Math.abs(this.bitmap.height*t))+1,l%2!==0&&l++,h%2!==0&&h++;var n=this.cloneQuiet();this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(U,Y,ee){this.bitmap.data.writeUInt32BE(this._background,ee)});var f=Math.max(l,h,this.bitmap.width,this.bitmap.height);this.resize(f,f,s),this.blit(n,this.bitmap.width/2-n.bitmap.width/2,this.bitmap.height/2-n.bitmap.height/2)}var a=this.bitmap.width,m=this.bitmap.height,g=x.alloc(this.bitmap.data.length);function y(U,Y){return function(ee,le){return{x:ee+U,y:le+Y}}}for(var E=y(-(a/2),-(m/2)),S=y(a/2+.5,m/2+.5),A=1;A<=m;A++)for(var M=1;M<=a;M++){var I=E(M,A),R=S(t*I.x-e*I.y,t*I.y+e*I.x),H=a*(A-1)+M-1<<2;if(R.x>=0&&R.x<a&&R.y>=0&&R.y<m){var L=(a*(R.y|0)+R.x|0)<<2,j=this.bitmap.data.readUInt32BE(L);g.writeUInt32BE(j,H)}else g.writeUInt32BE(this._background,H)}if(this.bitmap.data=g,s===!0||typeof s=="string"){var V=a/2-l/2,G=m/2-h/2;this.crop(V,G,l,h)}}var v=function(){return{rotate:function(i,t,e){return(typeof t>"u"||t===null)&&(t=!0),typeof t=="function"&&typeof e>"u"&&(e=t,t=!0),typeof i!="number"?c.throwError.call(this,"deg must be a number",e):typeof t!="boolean"&&typeof t!="string"?c.throwError.call(this,"mode must be a boolean or a string",e):(p.call(this,i,t,e),(0,c.isNodePattern)(e)&&e.call(this,null,this),this)}}};b.default=v,T.exports=b.default}).call(this,_("buffer").Buffer)},{"@jimp/utils":235,buffer:48}],225:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{scale:function(o,s,i){if(typeof o!="number")return x.throwError.call(this,"f must be a number",i);if(o<0)return x.throwError.call(this,"f must be a positive number",i);typeof s=="function"&&typeof i>"u"&&(i=s,s=null);var t=this.bitmap.width*o,e=this.bitmap.height*o;return this.resize(t,e,s),(0,x.isNodePattern)(i)&&i.call(this,null,this),this},scaleToFit:function(o,s,i,t){if(typeof o!="number"||typeof s!="number")return x.throwError.call(this,"w and h must be numbers",t);typeof i=="function"&&typeof t>"u"&&(t=i,i=null);var e=o/s>this.bitmap.width/this.bitmap.height?s/this.bitmap.height:o/this.bitmap.width;return this.scale(e,i),(0,x.isNodePattern)(t)&&t.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],226:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{shadow:function(){var o=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;typeof s=="function"&&(i=s,s={});var t=s,e=t.opacity,l=e===void 0?.7:e,h=t.size,n=h===void 0?1.1:h,f=t.x,a=f===void 0?-25:f,m=t.y,g=m===void 0?25:m,y=t.blur,E=y===void 0?5:y,S=this.clone(),A=this.clone();return A.scan(0,0,A.bitmap.width,A.bitmap.height,function(M,I,R){A.bitmap.data[R]=0,A.bitmap.data[R+1]=0,A.bitmap.data[R+2]=0,A.bitmap.data[R+3]=A.constructor.limit255(A.bitmap.data[R+3]*l),o.bitmap.data[R]=0,o.bitmap.data[R+1]=0,o.bitmap.data[R+2]=0,o.bitmap.data[R+3]=0}),A.resize(A.bitmap.width*n,A.bitmap.height*n).blur(E),this.composite(A,a,g),this.composite(S,0,0),(0,x.isNodePattern)(i)&&i.call(this,null,this),this}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],227:[function(_,T,b){Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var x=_("@jimp/utils"),c=function(){return{threshold:function(o,s){var i=this,t=o.max,e=o.replace,l=e===void 0?255:e,h=o.autoGreyscale,n=h===void 0?!0:h;return typeof t!="number"?x.throwError.call(this,"max must be a number",s):typeof l!="number"?x.throwError.call(this,"replace must be a number",s):typeof n!="boolean"?x.throwError.call(this,"autoGreyscale must be a boolean",s):(t=this.constructor.limit255(t),l=this.constructor.limit255(l),n&&this.greyscale(),this.scanQuiet(0,0,this.bitmap.width,this.bitmap.height,function(f,a,m){var g=i.bitmap.data[m]<t?i.bitmap.data[m]:l;i.bitmap.data[m]=g,i.bitmap.data[m+1]=g,i.bitmap.data[m+2]=g}),(0,x.isNodePattern)(s)&&s.call(this,null,this),this)}}};b.default=c,T.exports=b.default},{"@jimp/utils":235}],228:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=x(_("@babel/runtime/helpers/toConsumableArray")),p=_("timm"),v=x(_("@jimp/plugin-blit")),o=x(_("@jimp/plugin-blur")),s=x(_("@jimp/plugin-circle")),i=x(_("@jimp/plugin-color")),t=x(_("@jimp/plugin-contain")),e=x(_("@jimp/plugin-cover")),l=x(_("@jimp/plugin-crop")),h=x(_("@jimp/plugin-displace")),n=x(_("@jimp/plugin-dither")),f=x(_("@jimp/plugin-fisheye")),a=x(_("@jimp/plugin-flip")),m=x(_("@jimp/plugin-gaussian")),g=x(_("@jimp/plugin-invert")),y=x(_("@jimp/plugin-mask")),E=x(_("@jimp/plugin-normalize")),S=x(_("@jimp/plugin-print")),A=x(_("@jimp/plugin-resize")),M=x(_("@jimp/plugin-rotate")),I=x(_("@jimp/plugin-scale")),R=x(_("@jimp/plugin-shadow")),H=x(_("@jimp/plugin-threshold")),L=[v.default,o.default,s.default,i.default,t.default,e.default,l.default,h.default,n.default,f.default,a.default,m.default,g.default,y.default,E.default,S.default,A.default,M.default,I.default,R.default,H.default],j=function(G){var U=L.map(function(Y){var ee=Y(G)||{};return!ee.class&&!ee.constants&&(ee={class:ee}),ee});return p.mergeDeep.apply(void 0,(0,c.default)(U))};b.default=j,T.exports=b.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/helpers/toConsumableArray":20,"@jimp/plugin-blit":201,"@jimp/plugin-blur":203,"@jimp/plugin-circle":204,"@jimp/plugin-color":205,"@jimp/plugin-contain":206,"@jimp/plugin-cover":207,"@jimp/plugin-crop":208,"@jimp/plugin-displace":209,"@jimp/plugin-dither":210,"@jimp/plugin-fisheye":211,"@jimp/plugin-flip":212,"@jimp/plugin-gaussian":213,"@jimp/plugin-invert":214,"@jimp/plugin-mask":215,"@jimp/plugin-normalize":216,"@jimp/plugin-print":217,"@jimp/plugin-resize":221,"@jimp/plugin-rotate":224,"@jimp/plugin-scale":225,"@jimp/plugin-shadow":226,"@jimp/plugin-threshold":227,timm:177}],229:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=x(_("@babel/runtime/helpers/defineProperty")),p=x(_("bmp-js")),v=_("@jimp/utils"),o="image/bmp",s="image/x-ms-bmp";function i(n){return(0,v.scan)(n,0,0,n.bitmap.width,n.bitmap.height,function(f,a,m){var g=this.bitmap.data[m+0],y=this.bitmap.data[m+1],E=this.bitmap.data[m+2],S=this.bitmap.data[m+3];this.bitmap.data[m+0]=S,this.bitmap.data[m+1]=E,this.bitmap.data[m+2]=y,this.bitmap.data[m+3]=g}).bitmap}function t(n){return(0,v.scan)({bitmap:n},0,0,n.width,n.height,function(f,a,m){var g=this.bitmap.data[m+0],y=this.bitmap.data[m+1],E=this.bitmap.data[m+2],S=this.bitmap.data[m+3];this.bitmap.data[m+0]=S,this.bitmap.data[m+1]=E,this.bitmap.data[m+2]=y,this.bitmap.data[m+3]=n.is_with_alpha?g:255}).bitmap}var e=function(f){return t(p.default.decode(f))},l=function(f){return p.default.encode(i(f)).data},h=function(){var f,a;return{mime:(0,c.default)({},o,["bmp"]),constants:{MIME_BMP:o,MIME_X_MS_BMP:s},decoders:(f={},(0,c.default)(f,o,e),(0,c.default)(f,s,e),f),encoders:(a={},(0,c.default)(a,o,l),(0,c.default)(a,s,l),a)}};b.default=h,T.exports=b.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"bmp-js":30}],230:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=c(_("@babel/runtime/helpers/defineProperty")),v=c(_("omggif")),o=_("gifwrap"),s="image/gif",i=function(){return{mime:(0,p.default)({},s,["gif"]),constants:{MIME_GIF:s},decoders:(0,p.default)({},s,function(e){var l=new v.default.GifReader(e),h=x.alloc(l.width*l.height*4);return l.decodeAndBlitFrameRGBA(0,h),{data:h,width:l.width,height:l.height}}),encoders:(0,p.default)({},s,function(e){var l=new o.BitmapImage(e.bitmap);o.GifUtil.quantizeDekker(l,256);var h=new o.GifFrame(l),n=new o.GifCodec;return n.encodeGif([h],{}).then(function(f){return f.buffer})})}};b.default=i,T.exports=b.default}).call(this,_("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,gifwrap:70,omggif:85}],231:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=x(_("@babel/runtime/helpers/defineProperty")),p=x(_("jpeg-js")),v=_("@jimp/utils"),o="image/jpeg",s=function(){return{mime:(0,c.default)({},o,["jpeg","jpg","jpe"]),constants:{MIME_JPEG:o},decoders:(0,c.default)({},o,p.default.decode),encoders:(0,c.default)({},o,function(t){return p.default.encode(t.bitmap,t._quality).data}),class:{_quality:100,quality:function(e,l){return typeof e!="number"?v.throwError.call(this,"n must be a number",l):e<0||e>100?v.throwError.call(this,"n must be a number 0 - 100",l):(this._quality=Math.round(e),(0,v.isNodePattern)(l)&&l.call(this,null,this),this)}}}};b.default=s,T.exports=b.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,"jpeg-js":80}],232:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=x(_("@babel/runtime/helpers/defineProperty")),p=_("pngjs"),v=_("@jimp/utils"),o="image/png",s=-1,i=0,t=1,e=2,l=3,h=4,n=function(){return{mime:(0,c.default)({},o,["png"]),constants:{MIME_PNG:o,PNG_FILTER_AUTO:s,PNG_FILTER_NONE:i,PNG_FILTER_SUB:t,PNG_FILTER_UP:e,PNG_FILTER_AVERAGE:l,PNG_FILTER_PATH:h},hasAlpha:(0,c.default)({},o,!0),decoders:(0,c.default)({},o,p.PNG.sync.read),encoders:(0,c.default)({},o,function(a){var m=new p.PNG({width:a.bitmap.width,height:a.bitmap.height});return m.data=a.bitmap.data,p.PNG.sync.write(m,{width:a.bitmap.width,height:a.bitmap.height,deflateLevel:a._deflateLevel,deflateStrategy:a._deflateStrategy,filterType:a._filterType,colorType:typeof a._colorType=="number"?a._colorType:a._rgba?6:2,inputHasAlpha:a._rgba})}),class:{_deflateLevel:9,_deflateStrategy:3,_filterType:s,_colorType:null,deflateLevel:function(m,g){return typeof m!="number"?v.throwError.call(this,"l must be a number",g):m<0||m>9?v.throwError.call(this,"l must be a number 0 - 9",g):(this._deflateLevel=Math.round(m),(0,v.isNodePattern)(g)&&g.call(this,null,this),this)},deflateStrategy:function(m,g){return typeof m!="number"?v.throwError.call(this,"s must be a number",g):m<0||m>3?v.throwError.call(this,"s must be a number 0 - 3",g):(this._deflateStrategy=Math.round(m),(0,v.isNodePattern)(g)&&g.call(this,null,this),this)},filterType:function(m,g){return typeof m!="number"?v.throwError.call(this,"n must be a number",g):m<-1||m>4?v.throwError.call(this,"n must be -1 (auto) or a number 0 - 4",g):(this._filterType=Math.round(m),(0,v.isNodePattern)(g)&&g.call(this,null,this),this)},colorType:function(m,g){return typeof m!="number"?v.throwError.call(this,"s must be a number",g):m!==0&&m!==2&&m!==4&&m!==6?v.throwError.call(this,"s must be a number 0, 2, 4, 6.",g):(this._colorType=Math.round(m),(0,v.isNodePattern)(g)&&g.call(this,null,this),this)}}}};b.default=n,T.exports=b.default},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/utils":235,pngjs:129}],233:[function(_,T,b){(function(x){var c=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var p=c(_("@babel/runtime/helpers/defineProperty")),v=c(_("utif")),o="image/tiff",s=function(){return{mime:(0,p.default)({},o,["tiff","tif"]),constants:{MIME_TIFF:o},decoders:(0,p.default)({},o,function(t){var e=v.default.decode(t),l=e[0];v.default.decodeImages(t,e);var h=v.default.toRGBA8(l);return{data:x.from(h),width:l.t256[0],height:l.t257[0]}}),encoders:(0,p.default)({},o,function(t){var e=v.default.encodeImage(t.bitmap.data,t.bitmap.width,t.bitmap.height);return x.from(e)})}};b.default=s,T.exports=b.default}).call(this,_("buffer").Buffer)},{"@babel/runtime/helpers/defineProperty":7,"@babel/runtime/helpers/interopRequireDefault":11,buffer:48,utif:182}],234:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.default=void 0;var c=_("timm"),p=x(_("@jimp/jpeg")),v=x(_("@jimp/png")),o=x(_("@jimp/bmp")),s=x(_("@jimp/tiff")),i=x(_("@jimp/gif")),t=function(){return(0,c.mergeDeep)((0,p.default)(),(0,v.default)(),(0,o.default)(),(0,s.default)(),(0,i.default)())};b.default=t,T.exports=b.default},{"@babel/runtime/helpers/interopRequireDefault":11,"@jimp/bmp":229,"@jimp/gif":230,"@jimp/jpeg":231,"@jimp/png":232,"@jimp/tiff":233,timm:177}],235:[function(_,T,b){var x=_("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(b,"__esModule",{value:!0}),b.isNodePattern=v,b.throwError=o,b.scan=s,b.scanIterator=i;var c=x(_("@babel/runtime/regenerator")),p=c.default.mark(i);function v(t){if(typeof t>"u")return!1;if(typeof t!="function")throw new TypeError("Callback must be a function");return!0}function o(t,e){if(typeof t=="string"&&(t=new Error(t)),typeof e=="function")return e.call(this,t);throw t}function s(t,e,l,h,n,f){e=Math.round(e),l=Math.round(l),h=Math.round(h),n=Math.round(n);for(var a=l;a<l+n;a++)for(var m=e;m<e+h;m++){var g=t.bitmap.width*a+m<<2;f.call(t,m,a,g)}return t}function i(t,e,l,h,n){var f,a,m;return c.default.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:e=Math.round(e),l=Math.round(l),h=Math.round(h),n=Math.round(n),f=l;case 5:if(!(f<l+n)){y.next=17;break}a=e;case 7:if(!(a<e+h)){y.next=14;break}return m=t.bitmap.width*f+a<<2,y.next=11,{x:a,y:f,idx:m,image:t};case 11:a++,y.next=7;break;case 14:f++,y.next=5;break;case 17:case"end":return y.stop()}},p)}},{"@babel/runtime/helpers/interopRequireDefault":11,"@babel/runtime/regenerator":22}]},{},[200])(200)})})(ki);function Pi(N,u){this.x=N||0,this.y=u||0}Pi.prototype={copy:function(){return new Pi(this.x,this.y)}};var Kr=Pi,Fi=Kr,kr={};function Ts(N){return kr[N]||(kr[N]=new RegExp(" "+N+'="((?:\\\\(?=")"|[^"])+)"',"i")),kr[N]}function Is(N,u,C){var _=" "+u+'="'+C+'"';return N.indexOf(" "+u+'="')===-1?N=N.replace(/<[a-z]+/i,function(T){return T+_}):N=N.replace(Ts(u),_),N}function Xt(N){return N.toFixed(3).replace(".000","")}function Rs(N,u){return N>=u?N%u:N>=0?N:u-1-(-1-N)%u}function Os(N,u){return N.x*u.y-N.y*u.x}function Ls(N,u,C){return N<=C?N<=u&&u<C:N<=u||u<C}function Si(N){return N>0?1:N<0?-1:0}function Ds(N,u){var C=new Array(3),_,T,b;for(C[0]=u.x,C[1]=u.y,C[2]=1,b=0,_=0;_<3;_++)for(T=0;T<3;T++)b+=C[_]*N.at(_,T)*C[T];return b}function Bs(N,u,C){var _=new Fi;return _.x=u.x+N*(C.x-u.x),_.y=u.y+N*(C.y-u.y),_}function la(N,u){var C=new Fi;return C.y=Si(u.x-N.x),C.x=-Si(u.y-N.y),C}function Ns(N,u){var C=la(N,u);return C.y*(u.x-N.x)-C.x*(u.y-N.y)}function ks(N,u,C){var _,T,b,x;return _=u.x-N.x,T=u.y-N.y,b=C.x-N.x,x=C.y-N.y,_*x-b*T}function Fr(N,u,C,_){var T,b,x,c;return T=u.x-N.x,b=u.y-N.y,x=_.x-C.x,c=_.y-C.y,T*c-x*b}function Fs(N,u,C){var _,T,b,x;return _=u.x-N.x,T=u.y-N.y,b=C.x-N.x,x=C.y-N.y,_*b+T*x}function Us(N,u,C,_){var T,b,x,c;return T=u.x-N.x,b=u.y-N.y,x=_.x-C.x,c=_.y-C.y,T*x+b*c}function zs(N,u){return Math.sqrt((N.x-u.x)*(N.x-u.x)+(N.y-u.y)*(N.y-u.y))}var ei={luminance:function(N,u,C){return Math.round(.2126*N+.7153*u+.0721*C)},between:function(N,u,C){return N>=u&&N<=C},clamp:function(N,u,C){return Math.min(C,Math.max(u,N))},isNumber:function(N){return typeof N=="number"},setHtmlAttr:Is,renderCurve:function(N,u){u=u||{x:1,y:1};var C=N.c[(N.n-1)*3+2],_=["M "+Xt(C.x*u.x)+" "+Xt(C.y*u.y)];return N.tag.forEach(function(T,b){var x=b*3,c=N.c[x],p=N.c[x+1],v=N.c[x+2];T==="CURVE"?_.push("C "+Xt(c.x*u.x)+" "+Xt(c.y*u.y)+", "+Xt(p.x*u.x)+" "+Xt(p.y*u.y)+", "+Xt(v.x*u.x)+" "+Xt(v.y*u.y)):T==="CORNER"&&_.push("L "+Xt(p.x*u.x)+" "+Xt(p.y*u.y)+" "+Xt(v.x*u.x)+" "+Xt(v.y*u.y))}),_.join(" ")},bezier:function(u,C,_,T,b){var x=1-u,c=new Fi;return c.x=x*x*x*C.x+3*(x*x*u)*_.x+3*(u*u*x)*T.x+u*u*u*b.x,c.y=x*x*x*C.y+3*(x*x*u)*_.y+3*(u*u*x)*T.y+u*u*u*b.y,c},tangent:function(u,C,_,T,b,x){var c,p,v,o,s,i,t,e,l,h;return c=Fr(u,C,b,x),p=Fr(C,_,b,x),v=Fr(_,T,b,x),o=c-2*p+v,s=-2*c+2*p,i=c,t=s*s-4*o*i,o===0||t<0?-1:(e=Math.sqrt(t),l=(-s+e)/(2*o),h=(-s-e)/(2*o),l>=0&&l<=1?l:h>=0&&h<=1?h:-1)},mod:Rs,xprod:Os,cyclic:Ls,sign:Si,quadform:Ds,interval:Bs,dorth_infty:la,ddenom:Ns,dpara:ks,cprod:Fr,iprod:Fs,iprod1:Us,ddist:zs},_i,yn;function bn(){if(yn)return _i;yn=1;var N=ei,u=null;try{u=ki.exports}catch{}var C=fa(),_=256,T=_-1;function b(p,v){return _*p+v}function x(p,v){if(p=typeof p=="number"?N.clamp(Math.round(p),0,T):0,v=typeof v=="number"?N.clamp(Math.round(v),0,T):T,p>v)throw new Error('Invalid range "'+p+"..."+v+'"');return[p,v]}function c(p,v){if(this.data=null,this.pixels=0,this._sortedIndexes=null,this._cachedStats={},this._lookupTableH=null,typeof p=="number")this._createArray(p);else if(p instanceof C)this._collectValuesBitmap(p);else if(u&&p instanceof u)this._collectValuesJimp(p,v);else throw new Error("Unsupported image source")}return c.MODE_LUMINANCE="luminance",c.MODE_R="r",c.MODE_G="g",c.MODE_B="b",c.prototype={_createArray:function(p){var v=p<=Math.pow(2,8)?Uint8Array:p<=Math.pow(2,16)?Uint16Array:Uint32Array;return this.pixels=p,this.data=new v(_)},_collectValuesJimp:function(p,v){var o=p.bitmap.data,s=this._createArray(p.bitmap.width*p.bitmap.height);p.scan(0,0,p.bitmap.width,p.bitmap.height,function(i,t,e){var l=v===c.MODE_R?o[e]:v===c.MODE_G?o[e+1]:v===c.MODE_B?o[e+2]:N.luminance(o[e],o[e+1],o[e+2]);s[l]++})},_collectValuesBitmap:function(p){for(var v=this._createArray(p.size),o=p.data.length,s,i=0;i<o;i++)s=p.data[i],v[s]++},_getSortedIndexes:function(p){if(!p&&this._sortedIndexes)return this._sortedIndexes;var v=this.data,o=new Array(_),s=0;for(s;s<_;s++)o[s]=s;return o.sort(function(i,t){return v[i]>v[t]?1:v[i]<v[t]?-1:0}),this._sortedIndexes=o,o},_thresholdingBuildLookupTable:function(){var p=new Float64Array(_*_),v=new Float64Array(_*_),o=new Float64Array(_*_),s=this.pixels,i,t,e,l;for(i=1;i<_;++i)e=b(i,i),l=this.data[i]/s,p[e]=l,v[e]=i*l;for(i=1;i<_-1;++i)l=this.data[i+1]/s,e=b(1,i),p[e+1]=p[e]+l,v[e+1]=v[e]+(i+1)*l;for(i=2;i<_;i++)for(t=i+1;t<_;t++)p[b(i,t)]=p[b(1,t)]-p[b(1,i-1)],v[b(i,t)]=v[b(1,t)]-v[b(1,i-1)];for(i=1;i<_;++i)for(t=i+1;t<_;t++)e=b(i,t),o[e]=p[e]!==0?v[e]*v[e]/p[e]:0;return this._lookupTableH=o},multilevelThresholding:function(p,v,o){if(v=x(v,o),o=v[1],v=v[0],p=Math.min(o-v-2,~~p),p<1)return[];this._lookupTableH||this._thresholdingBuildLookupTable();var s=this._lookupTableH,i=null,t=0;p>4&&console.log("[Warning]: Threshold computation for more than 5 levels may take a long time");function e(l,h,n,f){l=(l||0)+1,h=h||0,n=n||new Array(p),f=f||0;for(var a=f+1,m,g=l;g<o-p+f;g++)m=h+s[b(l,g)],n[a-1]=g,a+1<p+1?e(g,m,n,a):(m+=s[b(g+1,o)],t<m&&(t=m,i=n.slice()))}return e(v||0),i||[]},autoThreshold:function(p,v){var o=this.multilevelThresholding(1,p,v);return o.length?o[0]:null},getDominantColor:function(p,v,o){p=x(p,v),v=p[1],p=p[0],o=o||1;var s=this.data,i=-1,t=-1,e,l,h;if(p===v)return s[p]?p:-1;for(e=p;e<=v;e++){for(h=0,l=~~(o/-2);l<o;l++)h+=N.between(e+l,0,T)?s[e+l]:0;var n=h>t,f=t===h&&(i<0||s[e]>s[i]);(n||f)&&(i=e,t=h)}return t<=0?-1:i},getStats:function(p,v,o){if(p=x(p,v),v=p[1],p=p[0],!o&&this._cachedStats[p+"-"+v])return this._cachedStats[p+"-"+v];var s=this.data,i=this._getSortedIndexes(),t=0,e=null,l,h,n,f,a=0,m=0,g=0,y,E,S,A=0,M=0;for(y=p;y<=v;y++)t+=s[y],g+=s[y]*y,A+=s[y]===0?0:1,M<s[y]&&(M=s[y]);for(l=g/t,n=t/(v-p),f=t/A,h=Math.floor(t/2),y=0;y<_;y++)S=i[y],E=s[S],!(S<p||S>v)&&(m+=E,a+=Math.pow(S-l,2)*E,e===null&&m>=h&&(e=S));return this._cachedStats[p+"-"+v]={levels:{mean:l,median:e,stdDev:Math.sqrt(a/t),unique:A},pixelsPerLevel:{mean:n,median:f,peak:M},pixels:t}}},_i=c,_i}var gi,wn;function fa(){if(wn)return gi;wn=1;var N=Kr,u=ei;function C(_,T){this._histogram=null,this.width=_,this.height=T,this.size=_*T,this.arrayBuffer=new ArrayBuffer(this.size),this.data=new Uint8Array(this.arrayBuffer)}return gi=C,bn(),C.prototype={getValueAt:function(_,T){var b=typeof _=="number"&&typeof T!="number"?_:this.pointToIndex(_,T);return this.data[b]},indexToPoint:function(_){var T=new N;return u.between(_,0,this.size)?(T.y=Math.floor(_/this.width),T.x=_-T.y*this.width):(T.x=-1,T.y=-1),T},pointToIndex:function(_,T){var b=_,x=T;return _ instanceof N&&(b=_.x,x=_.y),!u.between(b,0,this.width)||!u.between(x,0,this.height)?-1:this.width*x+b},copy:function(_){var T=new C(this.width,this.height),b=typeof _=="function",x;for(x=0;x<this.size;x++)T.data[x]=b?_(this.data[x],x):this.data[x];return T},histogram:function(){var _=bn();return this._histogram?this._histogram:(this._histogram=new _(this),this._histogram)}},gi}function Hs(N){this.n=N,this.tag=new Array(N),this.c=new Array(N*3),this.alphaCurve=0,this.vertex=new Array(N),this.alpha=new Array(N),this.alpha0=new Array(N),this.beta=new Array(N)}var Xs=Hs;function Ys(){this.area=0,this.len=0,this.curve={},this.pt=[],this.minX=1e5,this.minY=1e5,this.maxX=-1,this.maxY=-1}var Gs=Ys;function ua(){this.data=[0,0,0,0,0,0,0,0,0]}ua.prototype.at=function(N,u){return this.data[N*3+u]};var Ws=ua;function js(N,u,C,_,T){this.x=N,this.y=u,this.xy=C,this.x2=_,this.y2=T}var Zs=js,xn=Kr;function $s(){this.pen=0,this.c=[new xn,new xn],this.t=0,this.s=0,this.alpha=0}var Vs=$s,En=ki.exports,qs=fa(),Pn=Xs,Ht=Kr,Js=Gs,Sn=Ws,Cn=Zs,An=Vs,Je=ei;function wt(N){this._luminanceData=null,this._pathlist=[],this._imageLoadingIdentifier=null,this._imageLoaded=!1,this._processed=!1,this._params={turnPolicy:wt.TURNPOLICY_MINORITY,turdSize:2,alphaMax:1,optCurve:!0,optTolerance:.2,threshold:wt.THRESHOLD_AUTO,blackOnWhite:!0,color:wt.COLOR_AUTO,background:wt.COLOR_TRANSPARENT,width:null,height:null},N&&this.setParameters(N)}wt.COLOR_AUTO="auto";wt.COLOR_TRANSPARENT="transparent";wt.THRESHOLD_AUTO=-1;wt.TURNPOLICY_BLACK="black";wt.TURNPOLICY_WHITE="white";wt.TURNPOLICY_LEFT="left";wt.TURNPOLICY_RIGHT="right";wt.TURNPOLICY_MINORITY="minority";wt.TURNPOLICY_MAJORITY="majority";var Mn=[wt.TURNPOLICY_BLACK,wt.TURNPOLICY_WHITE,wt.TURNPOLICY_LEFT,wt.TURNPOLICY_RIGHT,wt.TURNPOLICY_MINORITY,wt.TURNPOLICY_MAJORITY];wt.prototype={_bmToPathlist:function(){var N=this,u=this._params.threshold,C=this._params.blackOnWhite,_,T=new Ht(0,0),b;u===wt.THRESHOLD_AUTO&&(u=this._luminanceData.histogram().autoThreshold()||128),_=this._luminanceData.copy(function(o){var s=C?o>u:o<u;return s?0:1});function x(o){for(var s=_.pointToIndex(o);s<_.size&&_.data[s]!==1;)s++;return s<_.size&&_.indexToPoint(s)}function c(o,s){var i,t,e;for(i=2;i<5;i++){for(e=0,t=-i+1;t<=i-1;t++)e+=_.getValueAt(o+t,s+i-1)?1:-1,e+=_.getValueAt(o+i-1,s+t-1)?1:-1,e+=_.getValueAt(o+t-1,s-i)?1:-1,e+=_.getValueAt(o-i,s+t)?1:-1;if(e>0)return 1;if(e<0)return 0}return 0}function p(o){var s=new Js,i=o.x,t=o.y,e=0,l=1,h;for(s.sign=_.getValueAt(o.x,o.y)?"+":"-";s.pt.push(new Ht(i,t)),i>s.maxX&&(s.maxX=i),i<s.minX&&(s.minX=i),t>s.maxY&&(s.maxY=t),t<s.minY&&(s.minY=t),s.len++,i+=e,t+=l,s.area-=i*l,!(i===o.x&&t===o.y);){var n=_.getValueAt(i+(e+l-1)/2,t+(l-e-1)/2),f=_.getValueAt(i+(e-l-1)/2,t+(l+e-1)/2);f&&!n?N._params.turnPolicy==="right"||N._params.turnPolicy==="black"&&s.sign==="+"||N._params.turnPolicy==="white"&&s.sign==="-"||N._params.turnPolicy==="majority"&&c(i,t)||N._params.turnPolicy==="minority"&&!c(i,t)?(h=e,e=-l,l=h):(h=e,e=l,l=-h):f?(h=e,e=-l,l=h):n||(h=e,e=l,l=-h)}return s}function v(o){var s=o.pt[0].y,i=o.len,t,e,l,h,n,f,a;for(n=1;n<i;n++)if(t=o.pt[n].x,e=o.pt[n].y,e!==s){for(h=s<e?s:e,l=o.maxX,f=t;f<l;f++)a=_.pointToIndex(f,h),_.data[a]=_.data[a]?0:1;s=e}}for(this._pathlist=[];T=x(T);)b=p(T),v(b),b.area>N._params.turdSize&&this._pathlist.push(b)},_processPath:function(){var N=this;function u(o){var s,i,t;o.x0=o.pt[0].x,o.y0=o.pt[0].y,o.sums=[];var e=o.sums;for(e.push(new Cn(0,0,0,0,0)),s=0;s<o.len;s++)i=o.pt[s].x-o.x0,t=o.pt[s].y-o.y0,e.push(new Cn(e[s].x+i,e[s].y+t,e[s].xy+i*t,e[s].x2+i*i,e[s].y2+t*t))}function C(o){var s=o.len,i=o.pt,t,e=new Array(s),l=new Array(s),h=new Array(4);o.lon=new Array(s);var n=[new Ht,new Ht],f=new Ht,a=new Ht,m=new Ht,g,y,E,S,A,M,I,R,H=0;for(y=s-1;y>=0;y--)i[y].x!=i[H].x&&i[y].y!=i[H].y&&(H=y+1),l[y]=H;for(y=s-1;y>=0;y--){for(h[0]=h[1]=h[2]=h[3]=0,t=(3+3*(i[Je.mod(y+1,s)].x-i[y].x)+(i[Je.mod(y+1,s)].y-i[y].y))/2,h[t]++,n[0].x=0,n[0].y=0,n[1].x=0,n[1].y=0,H=l[y],S=y;;){if(g=0,t=(3+3*Je.sign(i[H].x-i[S].x)+Je.sign(i[H].y-i[S].y))/2,h[t]++,h[0]&&h[1]&&h[2]&&h[3]){e[y]=S,g=1;break}if(f.x=i[H].x-i[y].x,f.y=i[H].y-i[y].y,Je.xprod(n[0],f)<0||Je.xprod(n[1],f)>0||(Math.abs(f.x)<=1&&Math.abs(f.y)<=1||(a.x=f.x+(f.y>=0&&(f.y>0||f.x<0)?1:-1),a.y=f.y+(f.x<=0&&(f.x<0||f.y<0)?1:-1),Je.xprod(n[0],a)>=0&&(n[0].x=a.x,n[0].y=a.y),a.x=f.x+(f.y<=0&&(f.y<0||f.x<0)?1:-1),a.y=f.y+(f.x>=0&&(f.x>0||f.y<0)?1:-1),Je.xprod(n[1],a)<=0&&(n[1].x=a.x,n[1].y=a.y)),S=H,H=l[S],!Je.cyclic(H,y,S)))break}g===0&&(m.x=Je.sign(i[H].x-i[S].x),m.y=Je.sign(i[H].y-i[S].y),f.x=i[S].x-i[y].x,f.y=i[S].y-i[y].y,A=Je.xprod(n[0],f),M=Je.xprod(n[0],m),I=Je.xprod(n[1],f),R=Je.xprod(n[1],m),E=1e7,M<0&&(E=Math.floor(A/-M)),R>0&&(E=Math.min(E,Math.floor(-I/R))),e[y]=Je.mod(S+E,s))}for(E=e[s-1],o.lon[s-1]=E,y=s-2;y>=0;y--)Je.cyclic(y+1,e[y],E)&&(E=e[y]),o.lon[y]=E;for(y=s-1;Je.cyclic(Je.mod(y+1,s),E,o.lon[y]);y--)o.lon[y]=E}function _(o){function s(M,I,R){var H=M.len,L=M.pt,j=M.sums,V,G,U,Y,ee,le,he,oe,q,K,Q,te,ce,we,be=0;return R>=H&&(R-=H,be=1),be===0?(V=j[R+1].x-j[I].x,G=j[R+1].y-j[I].y,Y=j[R+1].x2-j[I].x2,U=j[R+1].xy-j[I].xy,ee=j[R+1].y2-j[I].y2,le=R+1-I):(V=j[R+1].x-j[I].x+j[H].x,G=j[R+1].y-j[I].y+j[H].y,Y=j[R+1].x2-j[I].x2+j[H].x2,U=j[R+1].xy-j[I].xy+j[H].xy,ee=j[R+1].y2-j[I].y2+j[H].y2,le=R+1-I+H),Q=(L[I].x+L[R].x)/2-L[0].x,te=(L[I].y+L[R].y)/2-L[0].y,we=L[R].x-L[I].x,ce=-(L[R].y-L[I].y),he=(Y-2*V*Q)/le+Q*Q,oe=(U-V*te-G*Q)/le+Q*te,q=(ee-2*G*te)/le+te*te,K=ce*ce*he+2*ce*we*oe+we*we*q,Math.sqrt(K)}var i,t,e,l,h=o.len,n=new Array(h+1),f=new Array(h+1),a=new Array(h),m=new Array(h+1),g=new Array(h+1),y=new Array(h+1),E,S,A;for(i=0;i<h;i++)A=Je.mod(o.lon[Je.mod(i-1,h)]-1,h),A==i&&(A=Je.mod(i+1,h)),A<i?a[i]=h:a[i]=A;for(t=1,i=0;i<h;i++)for(;t<=a[i];)m[t]=i,t++;for(i=0,t=0;i<h;t++)g[t]=i,i=a[i];for(g[t]=h,e=t,i=h,t=e;t>0;t--)y[t]=i,i=m[i];for(y[0]=0,n[0]=0,t=1;t<=e;t++)for(i=y[t];i<=g[t];i++){for(S=-1,l=g[t-1];l>=m[i];l--)E=s(o,l,i)+n[l],(S<0||E<S)&&(f[i]=l,S=E);n[i]=S}for(o.m=e,o.po=new Array(e),i=h,t=e-1;i>0;t--)i=f[i],o.po[t]=i}function T(o){function s(he,oe,q,K,Q){for(var te=he.len,ce=he.sums,we,be,xe,Ie,me,ve,re,se,fe,J,z,B=0;q>=te;)q-=te,B+=1;for(;oe>=te;)oe-=te,B-=1;for(;q<0;)q+=te,B-=1;for(;oe<0;)oe+=te,B+=1;we=ce[q+1].x-ce[oe].x+B*ce[te].x,be=ce[q+1].y-ce[oe].y+B*ce[te].y,xe=ce[q+1].x2-ce[oe].x2+B*ce[te].x2,Ie=ce[q+1].xy-ce[oe].xy+B*ce[te].xy,me=ce[q+1].y2-ce[oe].y2+B*ce[te].y2,ve=q+1-oe+B*te,K.x=we/ve,K.y=be/ve,re=(xe-we*we/ve)/ve,se=(Ie-we*be/ve)/ve,fe=(me-be*be/ve)/ve,J=(re+fe+Math.sqrt((re-fe)*(re-fe)+4*se*se))/2,re-=J,fe-=J,Math.abs(re)>=Math.abs(fe)?(z=Math.sqrt(re*re+se*se),z!==0&&(Q.x=-se/z,Q.y=re/z)):(z=Math.sqrt(fe*fe+se*se),z!==0&&(Q.x=-fe/z,Q.y=se/z)),z===0&&(Q.x=Q.y=0)}var i=o.m,t=o.po,e=o.len,l=o.pt,h=o.x0,n=o.y0,f=new Array(i),a=new Array(i),m=new Array(i),g=new Array(3),y,E,S,A,M,I=new Ht;for(o.curve=new Pn(i),E=0;E<i;E++)S=t[Je.mod(E+1,i)],S=Je.mod(S-t[E],e)+t[E],f[E]=new Ht,a[E]=new Ht,s(o,t[E],S,f[E],a[E]);for(E=0;E<i;E++)if(m[E]=new Sn,y=a[E].x*a[E].x+a[E].y*a[E].y,y===0)for(S=0;S<3;S++)for(A=0;A<3;A++)m[E].data[S*3+A]=0;else for(g[0]=a[E].y,g[1]=-a[E].x,g[2]=-g[1]*f[E].y-g[0]*f[E].x,M=0;M<3;M++)for(A=0;A<3;A++)m[E].data[M*3+A]=g[M]*g[A]/y;var R,H,L,j,V,G,U,Y,ee,le;for(E=0;E<i;E++){for(R=new Sn,H=new Ht,I.x=l[t[E]].x-h,I.y=l[t[E]].y-n,S=Je.mod(E-1,i),M=0;M<3;M++)for(A=0;A<3;A++)R.data[M*3+A]=m[S].at(M,A)+m[E].at(M,A);for(;;){if(V=R.at(0,0)*R.at(1,1)-R.at(0,1)*R.at(1,0),V!==0){H.x=(-R.at(0,2)*R.at(1,1)+R.at(1,2)*R.at(0,1))/V,H.y=(R.at(0,2)*R.at(1,0)-R.at(1,2)*R.at(0,0))/V;break}for(R.at(0,0)>R.at(1,1)?(g[0]=-R.at(0,1),g[1]=R.at(0,0)):R.at(1,1)?(g[0]=-R.at(1,1),g[1]=R.at(1,0)):(g[0]=1,g[1]=0),y=g[0]*g[0]+g[1]*g[1],g[2]=-g[1]*I.y-g[0]*I.x,M=0;M<3;M++)for(A=0;A<3;A++)R.data[M*3+A]+=g[M]*g[A]/y}if(L=Math.abs(H.x-I.x),j=Math.abs(H.y-I.y),L<=.5&&j<=.5){o.curve.vertex[E]=new Ht(H.x+h,H.y+n);continue}if(G=Je.quadform(R,I),Y=I.x,ee=I.y,R.at(0,0)!==0)for(le=0;le<2;le++)H.y=I.y-.5+le,H.x=-(R.at(0,1)*H.y+R.at(0,2))/R.at(0,0),L=Math.abs(H.x-I.x),U=Je.quadform(R,H),L<=.5&&U<G&&(G=U,Y=H.x,ee=H.y);if(R.at(1,1)!==0)for(le=0;le<2;le++)H.x=I.x-.5+le,H.y=-(R.at(1,0)*H.x+R.at(1,2))/R.at(1,1),j=Math.abs(H.y-I.y),U=Je.quadform(R,H),j<=.5&&U<G&&(G=U,Y=H.x,ee=H.y);for(M=0;M<2;M++)for(A=0;A<2;A++)H.x=I.x-.5+M,H.y=I.y-.5+A,U=Je.quadform(R,H),U<G&&(G=U,Y=H.x,ee=H.y);o.curve.vertex[E]=new Ht(Y+h,ee+n)}}function b(o){var s=o.curve,i=s.n,t=s.vertex,e,l,h;for(e=0,l=i-1;e<l;e++,l--)h=t[e],t[e]=t[l],t[l]=h}function x(o){var s=o.curve.n,i=o.curve,t,e,l,h,n,f,a,m,g;for(t=0;t<s;t++)e=Je.mod(t+1,s),l=Je.mod(t+2,s),g=Je.interval(1/2,i.vertex[l],i.vertex[e]),n=Je.ddenom(i.vertex[t],i.vertex[l]),n!==0?(h=Je.dpara(i.vertex[t],i.vertex[e],i.vertex[l])/n,h=Math.abs(h),f=h>1?1-1/h:0,f=f/.75):f=4/3,i.alpha0[e]=f,f>=N._params.alphaMax?(i.tag[e]="CORNER",i.c[3*e+1]=i.vertex[e],i.c[3*e+2]=g):(f<.55?f=.55:f>1&&(f=1),a=Je.interval(.5+.5*f,i.vertex[t],i.vertex[e]),m=Je.interval(.5+.5*f,i.vertex[l],i.vertex[e]),i.tag[e]="CURVE",i.c[3*e+0]=a,i.c[3*e+1]=m,i.c[3*e+2]=g),i.alpha[e]=f,i.beta[e]=.5;i.alphaCurve=1}function c(o){function s(G,U,Y,ee,le,he,oe){var q=G.curve.n,K=G.curve,Q=K.vertex,te,ce,we,be,xe,Ie,me,ve,re,se,fe,J,z,B,F,Z,D,O,ie,ge,Me,Le,ze;if(U==Y||(te=U,xe=Je.mod(U+1,q),ce=Je.mod(te+1,q),be=he[ce],be===0))return 1;for(ve=Je.ddist(Q[U],Q[xe]),te=ce;te!=Y;te=ce)if(ce=Je.mod(te+1,q),we=Je.mod(te+2,q),he[ce]!=be||Je.sign(Je.cprod(Q[U],Q[xe],Q[ce],Q[we]))!=be||Je.iprod1(Q[U],Q[xe],Q[ce],Q[we])<ve*Je.ddist(Q[ce],Q[we])*-.999847695156)return 1;if(fe=K.c[Je.mod(U,q)*3+2].copy(),J=Q[Je.mod(U+1,q)].copy(),z=Q[Je.mod(Y,q)].copy(),B=K.c[Je.mod(Y,q)*3+2].copy(),Ie=oe[Y]-oe[U],Ie-=Je.dpara(Q[0],K.c[U*3+2],K.c[Y*3+2])/2,U>=Y&&(Ie+=oe[q]),O=Je.dpara(fe,J,z),ie=Je.dpara(fe,J,B),ge=Je.dpara(fe,z,B),Me=O+ge-ie,ie==O||(ze=ge/(ge-Me),Le=ie/(ie-O),Z=ie*ze/2,Z===0))return 1;for(D=Ie/Z,me=2-Math.sqrt(4-D/.3),ee.c[0]=Je.interval(ze*me,fe,J),ee.c[1]=Je.interval(Le*me,B,z),ee.alpha=me,ee.t=ze,ee.s=Le,J=ee.c[0].copy(),z=ee.c[1].copy(),ee.pen=0,te=Je.mod(U+1,q);te!=Y;te=ce){if(ce=Je.mod(te+1,q),ze=Je.tangent(fe,J,z,B,Q[te],Q[ce]),ze<-.5||(F=Je.bezier(ze,fe,J,z,B),ve=Je.ddist(Q[te],Q[ce]),ve===0)||(re=Je.dpara(Q[te],Q[ce],F)/ve,Math.abs(re)>le)||Je.iprod(Q[te],Q[ce],F)<0||Je.iprod(Q[ce],Q[te],F)<0)return 1;ee.pen+=re*re}for(te=U;te!=Y;te=ce){if(ce=Je.mod(te+1,q),ze=Je.tangent(fe,J,z,B,K.c[te*3+2],K.c[ce*3+2]),ze<-.5||(F=Je.bezier(ze,fe,J,z,B),ve=Je.ddist(K.c[te*3+2],K.c[ce*3+2]),ve===0)||(re=Je.dpara(K.c[te*3+2],K.c[ce*3+2],F)/ve,se=Je.dpara(K.c[te*3+2],K.c[ce*3+2],Q[ce])/ve,se*=.75*K.alpha[ce],se<0&&(re=-re,se=-se),re<se-le))return 1;re<se&&(ee.pen+=(re-se)*(re-se))}return 0}var i=o.curve,t=i.n,e=i.vertex,l=new Array(t+1),h=new Array(t+1),n=new Array(t+1),f=new Array(t+1),a,m,g,y,E=new An,S,A,M,I,R,H,L,j=new Array(t),V=new Array(t+1);for(m=0;m<t;m++)i.tag[m]=="CURVE"?j[m]=Je.sign(Je.dpara(e[Je.mod(m-1,t)],e[m],e[Je.mod(m+1,t)])):j[m]=0;for(M=0,V[0]=0,S=i.vertex[0],m=0;m<t;m++)A=Je.mod(m+1,t),i.tag[A]=="CURVE"&&(I=i.alpha[A],M+=.3*I*(4-I)*Je.dpara(i.c[m*3+2],e[A],i.c[A*3+2])/2,M+=Je.dpara(S,i.c[m*3+2],i.c[A*3+2])/2),V[m+1]=M;for(l[0]=-1,h[0]=0,n[0]=0,g=1;g<=t;g++)for(l[g]=g-1,h[g]=h[g-1],n[g]=n[g-1]+1,m=g-2;m>=0&&(y=s(o,m,Je.mod(g,t),E,N._params.optTolerance,j,V),!y);m--)(n[g]>n[m]+1||n[g]==n[m]+1&&h[g]>h[m]+E.pen)&&(l[g]=m,h[g]=h[m]+E.pen,n[g]=n[m]+1,f[g]=E,E=new An);for(a=n[t],R=new Pn(a),H=new Array(a),L=new Array(a),g=t,m=a-1;m>=0;m--)l[g]==g-1?(R.tag[m]=i.tag[Je.mod(g,t)],R.c[m*3+0]=i.c[Je.mod(g,t)*3+0],R.c[m*3+1]=i.c[Je.mod(g,t)*3+1],R.c[m*3+2]=i.c[Je.mod(g,t)*3+2],R.vertex[m]=i.vertex[Je.mod(g,t)],R.alpha[m]=i.alpha[Je.mod(g,t)],R.alpha0[m]=i.alpha0[Je.mod(g,t)],R.beta[m]=i.beta[Je.mod(g,t)],H[m]=L[m]=1):(R.tag[m]="CURVE",R.c[m*3+0]=f[g].c[0],R.c[m*3+1]=f[g].c[1],R.c[m*3+2]=i.c[Je.mod(g,t)*3+2],R.vertex[m]=Je.interval(f[g].s,i.c[Je.mod(g,t)*3+2],e[Je.mod(g,t)]),R.alpha[m]=f[g].alpha,R.alpha0[m]=f[g].alpha,H[m]=f[g].s,L[m]=f[g].t),g=l[g];for(m=0;m<a;m++)A=Je.mod(m+1,a),R.beta[m]=H[m]/(H[m]+L[A]);R.alphaCurve=1,o.curve=R}for(var p=0;p<this._pathlist.length;p++){var v=this._pathlist[p];u(v),C(v),_(v),T(v),v.sign==="-"&&b(v),x(v),N._params.optCurve&&c(v)}},_validateParameters:function(N){if(N&&N.turnPolicy&&Mn.indexOf(N.turnPolicy)===-1){var u="'"+Mn.join("', '")+"'";throw new Error("Bad turnPolicy value. Allowed values are: "+u)}if(N&&N.threshold!=null&&N.threshold!==wt.THRESHOLD_AUTO&&(typeof N.threshold!="number"||!Je.between(N.threshold,0,255)))throw new Error("Bad threshold value. Expected to be an integer in range 0..255");if(N&&N.optCurve!=null&&typeof N.optCurve!="boolean")throw new Error("'optCurve' must be Boolean")},_processLoadedImage:function(N){var u=new qs(N.bitmap.width,N.bitmap.height),C=N.bitmap.data;N.scan(0,0,N.bitmap.width,N.bitmap.height,function(_,T,b){var x=C[b+3]/255,c=255+(C[b+0]-255)*x,p=255+(C[b+1]-255)*x,v=255+(C[b+2]-255)*x;u.data[b/4]=Je.luminance(c,p,v)}),this._luminanceData=u,this._imageLoaded=!0},loadImage:function(N,u){var C=this,_={};this._imageLoadingIdentifier=_,this._imageLoaded=!1,N instanceof En?(this._imageLoadingIdentifier=null,this._imageLoaded=!0,C._processLoadedImage(N),u.call(C,null)):En.read(N,function(T,b){var x=C._imageLoadingIdentifier!==_;if(x){var c=T||new Error("Another image was loaded instead");return u.call(C,c)}C._imageLoadingIdentifier=null,C._processLoadedImage(b),u.call(C,null)})},setParameters:function(N){var u,C;this._validateParameters(N);for(u in this._params)this._params.hasOwnProperty(u)&&N.hasOwnProperty(u)&&(C=this._params[u],this._params[u]=N[u],C!==this._params[u]&&["color","background"].indexOf(u)===-1&&(this._processed=!1))},getPathTag:function(N,u){if(N=arguments.length===0?this._params.color:N,N===wt.COLOR_AUTO&&(N=this._params.blackOnWhite?"black":"white"),!this._imageLoaded)throw new Error("Image should be loaded first");this._processed||(this._bmToPathlist(),this._processPath(),this._processed=!0);var C='<path d="';return C+=this._pathlist.map(function(_){return Je.renderCurve(_.curve,u)}).join(" "),C+='" stroke="none" fill="'+N+'" fill-rule="evenodd"/>',C},getSymbol:function(N){return'<symbol viewBox="0 0 '+this._luminanceData.width+" "+this._luminanceData.height+'" id="'+N+'">'+this.getPathTag("")+"</symbol>"},getSVG:function(){var N=this._params.width||this._luminanceData.width,u=this._params.height||this._luminanceData.height,C={x:this._params.width?this._params.width/this._luminanceData.width:1,y:this._params.height?this._params.height/this._luminanceData.height:1};return'<svg xmlns="http://www.w3.org/2000/svg" width="'+N+'" height="'+u+'" viewBox="0 0 '+N+" "+u+`" version="1.1">
`+(this._params.background!==wt.COLOR_TRANSPARENT?'	<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
`:"")+"	"+this.getPathTag(this._params.color,C)+`
</svg>`}};var ha=wt,Qt=ha,rr=ei;function Mt(N){this._potrace=new Qt,this._calculatedThreshold=null,this._params={threshold:Qt.THRESHOLD_AUTO,blackOnWhite:!0,steps:Mt.STEPS_AUTO,background:Qt.COLOR_TRANSPARENT,fillStrategy:Mt.FILL_DOMINANT,rangeDistribution:Mt.RANGES_AUTO},N&&this.setParameters(N)}for(var Ir in Qt)Object.prototype.hasOwnProperty.call(Qt,Ir)&&Ir===Ir.toUpperCase()&&(Mt[Ir]=Qt[Ir]);Mt.STEPS_AUTO=-1;Mt.FILL_SPREAD="spread";Mt.FILL_DOMINANT="dominant";Mt.FILL_MEDIAN="median";Mt.FILL_MEAN="mean";Mt.RANGES_AUTO="auto";Mt.RANGES_EQUAL="equal";Mt.prototype={_addExtraColorStop:function(N){var u=this._params.blackOnWhite,C=N[N.length-1],_=u?0:C.value,T=u?C.value:255;if(T-_>25&&C.colorIntensity!==1){var b=this._getImageHistogram(),x=b.getStats(_,T).levels,c=x.mean+x.stdDev<=25?x.mean+x.stdDev:x.mean-x.stdDev<=25?x.mean-x.stdDev:25,p=u?b.getStats(0,c):b.getStats(c,255),v=p.levels.mean;N.push({value:Math.abs((u?0:255)-c),colorIntensity:isNaN(v)?0:(u?255-v:v)/255})}return N},_calcColorIntensity:function(N){var u=this._params.blackOnWhite,C=this._params.fillStrategy,_=C!==Mt.FILL_SPREAD?this._getImageHistogram():null,T=Math.abs(this._paramThreshold()-(u?0:255));return N.map(function(b,x){var c=x+1===N.length?u?-1:256:N[x+1],p=Math.round(u?c+1:b),v=Math.round(u?b:c-1),o=x/(N.length-1),s=v-p,i=_.getStats(p,v),t=-1;if(i.pixels===0)return{value:b,colorIntensity:0};switch(C){case Mt.FILL_SPREAD:t=(u?p:v)+(u?1:-1)*s*Math.max(.5,T/255)*o;break;case Mt.FILL_DOMINANT:t=_.getDominantColor(p,v,rr.clamp(s,1,5));break;case Mt.FILL_MEAN:t=i.levels.mean;break;case Mt.FILL_MEDIAN:t=i.levels.median;break}return x!==0&&(t=u?rr.clamp(t,p,v-Math.round(s*.1)):rr.clamp(t,p+Math.round(s*.1),v)),{value:b,colorIntensity:t===-1?0:(u?255-t:t)/255}})},_getImageHistogram:function(){return this._potrace._luminanceData.histogram()},_getRanges:function(){var N=this._paramSteps();if(!Array.isArray(N))return this._params.rangeDistribution===Mt.RANGES_AUTO?this._getRangesAuto():this._getRangesEquallyDistributed();var u=[],C=this._paramThreshold(),_=this._params.blackOnWhite;return N.forEach(function(T){u.indexOf(T)===-1&&rr.between(T,0,255)&&u.push(T)}),u.length||u.push(C),u=u.sort(function(T,b){return T<b===_?1:-1}),_&&u[0]<C?u.unshift(C):!_&&u[u.length-1]<C&&u.push(C),this._calcColorIntensity(u)},_getRangesAuto:function(){var N=this._getImageHistogram(),u=this._paramSteps(!0),C;if(this._params.threshold===Qt.THRESHOLD_AUTO)C=N.multilevelThresholding(u);else{var _=this._paramThreshold();C=this._params.blackOnWhite?N.multilevelThresholding(u-1,0,_):N.multilevelThresholding(u-1,_,255),this._params.blackOnWhite?C.push(_):C.unshift(_)}return this._params.blackOnWhite&&(C=C.reverse()),this._calcColorIntensity(C)},_getRangesEquallyDistributed:function(){for(var N=this._params.blackOnWhite,u=N?this._paramThreshold():255-this._paramThreshold(),C=this._paramSteps(),_=u/C,T=[],b=C-1,x;b>=0;)x=Math.min(u,(b+1)*_),x=N?x:255-x,b--,T.push(x);return this._calcColorIntensity(T)},_paramSteps:function(N){var u=this._params.steps;if(Array.isArray(u))return N?u.length:u;if(u===Mt.STEPS_AUTO&&this._params.threshold===Qt.THRESHOLD_AUTO)return 4;var C=this._params.blackOnWhite,_=C?this._paramThreshold():255-this._paramThreshold();return u===Mt.STEPS_AUTO?_>200?4:3:Math.min(_,Math.max(2,u))},_paramThreshold:function(){if(this._calculatedThreshold!==null)return this._calculatedThreshold;if(this._params.threshold!==Qt.THRESHOLD_AUTO)return this._calculatedThreshold=this._params.threshold,this._calculatedThreshold;var N=this._getImageHistogram().multilevelThresholding(2);return this._calculatedThreshold=this._params.blackOnWhite?N[1]:N[0],this._calculatedThreshold=this._calculatedThreshold||128,this._calculatedThreshold},_pathTags:function(N){var u=this._getRanges(),C=this._potrace,_=this._params.blackOnWhite;u.length>=10&&(u=this._addExtraColorStop(u)),C.setParameters({blackOnWhite:_});var T=0;return u.map(function(b){var x=b.colorIntensity;if(x===0)return"";var c=!T||x===1?x:(T-x)/(T-1);c=rr.clamp(parseFloat(c.toFixed(3)),0,1),T=T+(1-T)*c,C.setParameters({threshold:b.value});var p=N?C.getPathTag(""):C.getPathTag();p=rr.setHtmlAttr(p,"fill-opacity",c.toFixed(3));var v=c===0||p.indexOf(' d=""')!==-1;return v?"":p})},loadImage:function(N,u){var C=this;this._potrace.loadImage(N,function(_){C._calculatedThreshold=null,u.call(C,_)})},setParameters:function(N){if(!!N){if(this._potrace.setParameters(N),N.steps&&!Array.isArray(N.steps)&&(!rr.isNumber(N.steps)||!rr.between(N.steps,1,255)))throw new Error("Bad 'steps' value");for(var u in this._params)this._params.hasOwnProperty(u)&&N.hasOwnProperty(u)&&(this._params[u]=N[u]);this._calculatedThreshold=null}},getSymbol:function(N){var u=this._potrace._luminanceData.width,C=this._potrace._luminanceData.height,_=this._pathTags(!0);return'<symbol viewBox="0 0 '+u+" "+C+'" id="'+N+'">'+_.join("")+"</symbol>"},getSVG:function(){var N=this._potrace._luminanceData.width,u=this._potrace._luminanceData.height,C=this._pathTags(!1),_='<svg xmlns="http://www.w3.org/2000/svg" width="'+N+'" height="'+u+'" viewBox="0 0 '+N+" "+u+`" version="1.1">
	`+(this._params.background!==Qt.COLOR_TRANSPARENT?'<rect x="0" y="0" width="100%" height="100%" fill="'+this._params.background+`" />
	`:"")+C.join(`
	`)+`
</svg>`;return _.replace(/\n(?:\t*\n)+(\t*)/g,`
$1`)}};var Qs=Mt,ca=ha,da=Qs;function Ks(N,u,C){arguments.length===2&&(C=u,u={});var _=new ca(u);_.loadImage(N,function(T){if(T)return C(T);C(null,_.getSVG(),_)})}function eo(N,u,C){arguments.length===2&&(C=u,u={});var _=new da(u);_.loadImage(N,function(T){if(T)return C(T);C(null,_.getSVG(),_)})}var to={trace:Ks,posterize:eo,Potrace:ca,Posterizer:da};function ro(N,u){var C=new to.Potrace;let _;C.loadImage(N,function(T){if(T)throw T;_=C.getPathTag().split('"')[1];let x=Ei.parseSVG(_);x=no(x),x=ao(x);const c=io(x);u(c)})}function io(N){var u=["rx","ry","xAxisRotation","largeArc","sweep","x1","y1","x2","y2","x","y"],C;return N.map(function(_){var T=[];u.forEach(function(x){if(x in _){var c=_[x]*1;T.length&&c>=0&&T.push(","),T.push(c)}});var b=(C===_.code?T[0]<0?"":",":_.code)+T.join("");return C=_.code,b}).join("")}function no(N){return N.forEach(function(u){for(const C in u)isNaN(u[C])||(u[C]=Math.round(u[C]))}),N}function ao(N){let u=0,C=0;return N.forEach(function(_){let T=_.code,b=_.x,x=_.y;T!=T.toUpperCase()&&(b+=u,x+=C),T=="C"?so(_,u,C)&&(_.code="c",_.x=_.x-u,_.x1=_.x1-u,_.x2=_.x2-u,_.y=_.y-C,_.y1=_.y1-C,_.y2=_.y2-C):T=="L"&&(_.code="l",_.x=_.x-u,_.y=_.y-C),u=b,C=x}),N}function so(N,u,C){let _="",T="";for(const b in N)isNaN(N[b])||(b.includes("x")?(_+=N[b],T+=N[b]-u):b.includes("y")&&(_+=N[b],T+=N[b]-C));return T.length<_.length}function oo(N){let u,C,_,T,b;return{c(){u=Ot("canvas"),C=fr(),_=Ot("canvas"),at(u,"id","user-drawing"),at(u,"class","canvas svelte-1bh4ey0"),at(u,"width",ur),at(u,"height",hr),at(_,"id","mouse-capture"),at(_,"class","canvas svelte-1bh4ey0"),at(_,"width",ur),at(_,"height",hr)},m(x,c){Lt(x,u,c),N[8](u),Lt(x,C,c),Lt(x,_,c),N[9](_),T||(b=[or(_,"mousedown",N[2]),or(_,"mouseup",N[3]),or(_,"mousemove",N[5]),or(_,"mouseleave",N[4])],T=!0)},p:vt,i:vt,o:vt,d(x){x&&It(u),N[8](null),x&&It(C),x&&It(_),N[9](null),T=!1,cr(b)}}}const Tn=10;function lo(N,u,C){let _,T;Sr(N,wi,n=>C(13,T=n));const b=n=>{const f=_.getImageData(0,0,ur,hr);ro(f,n)};function x(){_.clearRect(0,0,ur,hr)}let c=!1,p=null,v;function o(n){c=!0,t(n)}function s(n){c=!1,p=null}function i(n){p=null}function t(n){if(!!v&&c){const f=v.getBoundingClientRect(),a=n.clientX-f.left,m=n.clientY-f.top;_.fillStyle=xi,_.strokeStyle=xi,_.globalCompositeOperation=T?"destination-out":"source-over",_.beginPath(),_.arc(a,m,Tn,0,2*Math.PI),_.fill(),p&&(_.beginPath(),_.moveTo(p.x,p.y),_.lineTo(a,m),_.lineWidth=Tn*2,_.lineCap="round",_.stroke()),p={x:a,y:m}}}let e;function l(n){wr[n?"unshift":"push"](()=>{e=n,C(0,e)})}function h(n){wr[n?"unshift":"push"](()=>{v=n,C(1,v)})}return N.$$.update=()=>{N.$$.dirty&1&&(_=e?e.getContext("2d"):null)},[e,v,o,s,i,t,b,x,l,h]}class fo extends qt{constructor(u){super(),Vt(this,u,lo,oo,Yt,{getSvgPath:6,clearUserDrawing:7})}get getSvgPath(){return this.$$.ctx[6]}get clearUserDrawing(){return this.$$.ctx[7]}}function In(N){let u,C,_={};return u=new fo({props:_}),N[4](u),{c(){Kt(u.$$.fragment)},m(T,b){Zt(u,T,b),C=!0},p(T,b){const x={};u.$set(x)},i(T){C||(xt(u.$$.fragment,T),C=!0)},o(T){Ft(u.$$.fragment,T),C=!1},d(T){N[4](null),$t(u,T)}}}function uo(N){let u,C,_,T,b,x;C=new as({}),T=new Ms({props:{showingResults:N[1]}});let c=!N[1]&&In(N);return{c(){u=Ot("div"),Kt(C.$$.fragment),_=fr(),Kt(T.$$.fragment),b=fr(),c&&c.c(),at(u,"class","background svelte-sy7jwc")},m(p,v){Lt(p,u,v),Zt(C,u,null),_t(u,_),Zt(T,u,null),_t(u,b),c&&c.m(u,null),x=!0},p(p,[v]){const o={};v&2&&(o.showingResults=p[1]),T.$set(o),p[1]?c&&(Un(),Ft(c,1,1,()=>{c=null}),zn()):c?(c.p(p,v),v&2&&xt(c,1)):(c=In(p),c.c(),xt(c,1),c.m(u,null))},i(p){x||(xt(C.$$.fragment,p),xt(T.$$.fragment,p),xt(c),x=!0)},o(p){Ft(C.$$.fragment,p),Ft(T.$$.fragment,p),Ft(c),x=!1},d(p){p&&It(u),$t(C),$t(T),c&&c.d()}}}function ho(N,u,C){let _;Sr(N,Zr,o=>C(5,_=o));const T=()=>{c.getSvgPath(o=>{xa(Zr,_=o,_),x(o)}),C(1,p=!0)},b=()=>c.clearUserDrawing(),x=o=>{console.log("save svg path",o),q0("map",o)};let c,p=!1;function v(o){wr[o?"unshift":"push"](()=>{c=o,C(0,c)})}return[c,p,T,b,v]}class co extends qt{constructor(u){super(),Vt(this,u,ho,uo,Yt,{handleFinishDrawing:2,clearUserDrawing:3})}get handleFinishDrawing(){return this.$$.ctx[2]}get clearUserDrawing(){return this.$$.ctx[3]}}function po(N){let u;return{c(){u=Ot("div"),u.innerHTML=`<b>Let op!</b> Deze applicatie is nog in aanbouw. Voor vragen mail naar
    <a href="mailto:jop.van.roosmalen@rws.nl">Jop van Roosmalen</a>`,at(u,"id","top-infobalk"),at(u,"class","svelte-1lzsev9")},m(C,_){Lt(C,u,_)},p:vt,i:vt,o:vt,d(C){C&&It(u)}}}class vo extends qt{constructor(u){super(),Vt(this,u,null,po,Yt,{})}}function mo(N){let u,C,_,T,b,x,c,p,v,o;_=new vo({}),x=new ts({}),x.$on("doneClicked",function(){Yr(N[0].handleFinishDrawing)&&N[0].handleFinishDrawing.apply(this,arguments)}),x.$on("clickedEraseAll",function(){Yr(N[0].clearUserDrawing)&&N[0].clearUserDrawing.apply(this,arguments)});let s={};return v=new co({props:s}),N[1](v),{c(){u=Ot("main"),C=Ot("div"),Kt(_.$$.fragment),T=fr(),b=Ot("div"),Kt(x.$$.fragment),c=fr(),p=Ot("div"),Kt(v.$$.fragment),at(C,"id","main-container"),at(C,"class","svelte-fpl8pt")},m(i,t){Lt(i,u,t),_t(u,C),Zt(_,C,null),_t(C,T),_t(C,b),Zt(x,b,null),_t(C,c),_t(C,p),Zt(v,p,null),o=!0},p(i,[t]){N=i;const e={};v.$set(e)},i(i){o||(xt(_.$$.fragment,i),xt(x.$$.fragment,i),xt(v.$$.fragment,i),o=!0)},o(i){Ft(_.$$.fragment,i),Ft(x.$$.fragment,i),Ft(v.$$.fragment,i),o=!1},d(i){i&&It(u),$t(_),$t(x),N[1](null),$t(v)}}}function _o(N,u,C){let _;function T(b){wr[b?"unshift":"push"](()=>{_=b,C(0,_)})}return[_,T]}class go extends qt{constructor(u){super(),Vt(this,u,_o,mo,Yt,{})}}new go({target:document.getElementById("app")});
